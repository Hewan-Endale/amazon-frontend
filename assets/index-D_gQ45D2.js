var TM=(t,e)=>()=>(e||t((e={exports:{}}).exports,e),e.exports);var iee=TM((Eee,fp)=>{function bM(t,e){for(var n=0;n<e.length;n++){const r=e[n];if(typeof r!="string"&&!Array.isArray(r)){for(const i in r)if(i!=="default"&&!(i in t)){const s=Object.getOwnPropertyDescriptor(r,i);s&&Object.defineProperty(t,i,s.get?s:{enumerable:!0,get:()=>r[i]})}}}return Object.freeze(Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}))}(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const i of document.querySelectorAll('link[rel="modulepreload"]'))r(i);new MutationObserver(i=>{for(const s of i)if(s.type==="childList")for(const o of s.addedNodes)o.tagName==="LINK"&&o.rel==="modulepreload"&&r(o)}).observe(document,{childList:!0,subtree:!0});function n(i){const s={};return i.integrity&&(s.integrity=i.integrity),i.referrerPolicy&&(s.referrerPolicy=i.referrerPolicy),i.crossOrigin==="use-credentials"?s.credentials="include":i.crossOrigin==="anonymous"?s.credentials="omit":s.credentials="same-origin",s}function r(i){if(i.ep)return;i.ep=!0;const s=n(i);fetch(i.href,s)}})();var V0=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function F0(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}var fA={exports:{}},ge={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var qd=Symbol.for("react.element"),RM=Symbol.for("react.portal"),AM=Symbol.for("react.fragment"),PM=Symbol.for("react.strict_mode"),kM=Symbol.for("react.profiler"),CM=Symbol.for("react.provider"),xM=Symbol.for("react.context"),OM=Symbol.for("react.forward_ref"),DM=Symbol.for("react.suspense"),NM=Symbol.for("react.memo"),MM=Symbol.for("react.lazy"),eT=Symbol.iterator;function LM(t){return t===null||typeof t!="object"?null:(t=eT&&t[eT]||t["@@iterator"],typeof t=="function"?t:null)}var pA={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},mA=Object.assign,gA={};function ou(t,e,n){this.props=t,this.context=e,this.refs=gA,this.updater=n||pA}ou.prototype.isReactComponent={};ou.prototype.setState=function(t,e){if(typeof t!="object"&&typeof t!="function"&&t!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,t,e,"setState")};ou.prototype.forceUpdate=function(t){this.updater.enqueueForceUpdate(this,t,"forceUpdate")};function yA(){}yA.prototype=ou.prototype;function U0(t,e,n){this.props=t,this.context=e,this.refs=gA,this.updater=n||pA}var B0=U0.prototype=new yA;B0.constructor=U0;mA(B0,ou.prototype);B0.isPureReactComponent=!0;var tT=Array.isArray,_A=Object.prototype.hasOwnProperty,$0={current:null},vA={key:!0,ref:!0,__self:!0,__source:!0};function wA(t,e,n){var r,i={},s=null,o=null;if(e!=null)for(r in e.ref!==void 0&&(o=e.ref),e.key!==void 0&&(s=""+e.key),e)_A.call(e,r)&&!vA.hasOwnProperty(r)&&(i[r]=e[r]);var a=arguments.length-2;if(a===1)i.children=n;else if(1<a){for(var l=Array(a),u=0;u<a;u++)l[u]=arguments[u+2];i.children=l}if(t&&t.defaultProps)for(r in a=t.defaultProps,a)i[r]===void 0&&(i[r]=a[r]);return{$$typeof:qd,type:t,key:s,ref:o,props:i,_owner:$0.current}}function VM(t,e){return{$$typeof:qd,type:t.type,key:e,ref:t.ref,props:t.props,_owner:t._owner}}function z0(t){return typeof t=="object"&&t!==null&&t.$$typeof===qd}function FM(t){var e={"=":"=0",":":"=2"};return"$"+t.replace(/[=:]/g,function(n){return e[n]})}var nT=/\/+/g;function by(t,e){return typeof t=="object"&&t!==null&&t.key!=null?FM(""+t.key):e.toString(36)}function Of(t,e,n,r,i){var s=typeof t;(s==="undefined"||s==="boolean")&&(t=null);var o=!1;if(t===null)o=!0;else switch(s){case"string":case"number":o=!0;break;case"object":switch(t.$$typeof){case qd:case RM:o=!0}}if(o)return o=t,i=i(o),t=r===""?"."+by(o,0):r,tT(i)?(n="",t!=null&&(n=t.replace(nT,"$&/")+"/"),Of(i,e,n,"",function(u){return u})):i!=null&&(z0(i)&&(i=VM(i,n+(!i.key||o&&o.key===i.key?"":(""+i.key).replace(nT,"$&/")+"/")+t)),e.push(i)),1;if(o=0,r=r===""?".":r+":",tT(t))for(var a=0;a<t.length;a++){s=t[a];var l=r+by(s,a);o+=Of(s,e,n,l,i)}else if(l=LM(t),typeof l=="function")for(t=l.call(t),a=0;!(s=t.next()).done;)s=s.value,l=r+by(s,a++),o+=Of(s,e,n,l,i);else if(s==="object")throw e=String(t),Error("Objects are not valid as a React child (found: "+(e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e)+"). If you meant to render a collection of children, use an array instead.");return o}function Yh(t,e,n){if(t==null)return t;var r=[],i=0;return Of(t,r,"","",function(s){return e.call(n,s,i++)}),r}function UM(t){if(t._status===-1){var e=t._result;e=e(),e.then(function(n){(t._status===0||t._status===-1)&&(t._status=1,t._result=n)},function(n){(t._status===0||t._status===-1)&&(t._status=2,t._result=n)}),t._status===-1&&(t._status=0,t._result=e)}if(t._status===1)return t._result.default;throw t._result}var Rn={current:null},Df={transition:null},BM={ReactCurrentDispatcher:Rn,ReactCurrentBatchConfig:Df,ReactCurrentOwner:$0};function EA(){throw Error("act(...) is not supported in production builds of React.")}ge.Children={map:Yh,forEach:function(t,e,n){Yh(t,function(){e.apply(this,arguments)},n)},count:function(t){var e=0;return Yh(t,function(){e++}),e},toArray:function(t){return Yh(t,function(e){return e})||[]},only:function(t){if(!z0(t))throw Error("React.Children.only expected to receive a single React element child.");return t}};ge.Component=ou;ge.Fragment=AM;ge.Profiler=kM;ge.PureComponent=U0;ge.StrictMode=PM;ge.Suspense=DM;ge.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=BM;ge.act=EA;ge.cloneElement=function(t,e,n){if(t==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+t+".");var r=mA({},t.props),i=t.key,s=t.ref,o=t._owner;if(e!=null){if(e.ref!==void 0&&(s=e.ref,o=$0.current),e.key!==void 0&&(i=""+e.key),t.type&&t.type.defaultProps)var a=t.type.defaultProps;for(l in e)_A.call(e,l)&&!vA.hasOwnProperty(l)&&(r[l]=e[l]===void 0&&a!==void 0?a[l]:e[l])}var l=arguments.length-2;if(l===1)r.children=n;else if(1<l){a=Array(l);for(var u=0;u<l;u++)a[u]=arguments[u+2];r.children=a}return{$$typeof:qd,type:t.type,key:i,ref:s,props:r,_owner:o}};ge.createContext=function(t){return t={$$typeof:xM,_currentValue:t,_currentValue2:t,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},t.Provider={$$typeof:CM,_context:t},t.Consumer=t};ge.createElement=wA;ge.createFactory=function(t){var e=wA.bind(null,t);return e.type=t,e};ge.createRef=function(){return{current:null}};ge.forwardRef=function(t){return{$$typeof:OM,render:t}};ge.isValidElement=z0;ge.lazy=function(t){return{$$typeof:MM,_payload:{_status:-1,_result:t},_init:UM}};ge.memo=function(t,e){return{$$typeof:NM,type:t,compare:e===void 0?null:e}};ge.startTransition=function(t){var e=Df.transition;Df.transition={};try{t()}finally{Df.transition=e}};ge.unstable_act=EA;ge.useCallback=function(t,e){return Rn.current.useCallback(t,e)};ge.useContext=function(t){return Rn.current.useContext(t)};ge.useDebugValue=function(){};ge.useDeferredValue=function(t){return Rn.current.useDeferredValue(t)};ge.useEffect=function(t,e){return Rn.current.useEffect(t,e)};ge.useId=function(){return Rn.current.useId()};ge.useImperativeHandle=function(t,e,n){return Rn.current.useImperativeHandle(t,e,n)};ge.useInsertionEffect=function(t,e){return Rn.current.useInsertionEffect(t,e)};ge.useLayoutEffect=function(t,e){return Rn.current.useLayoutEffect(t,e)};ge.useMemo=function(t,e){return Rn.current.useMemo(t,e)};ge.useReducer=function(t,e,n){return Rn.current.useReducer(t,e,n)};ge.useRef=function(t){return Rn.current.useRef(t)};ge.useState=function(t){return Rn.current.useState(t)};ge.useSyncExternalStore=function(t,e,n){return Rn.current.useSyncExternalStore(t,e,n)};ge.useTransition=function(){return Rn.current.useTransition()};ge.version="18.3.1";fA.exports=ge;var U=fA.exports;const x=F0(U),pp=bM({__proto__:null,default:x},[U]);var SA={exports:{}},rr={},IA={exports:{}},TA={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(t){function e(Y,se){var oe=Y.length;Y.push(se);e:for(;0<oe;){var pe=oe-1>>>1,Ce=Y[pe];if(0<i(Ce,se))Y[pe]=se,Y[oe]=Ce,oe=pe;else break e}}function n(Y){return Y.length===0?null:Y[0]}function r(Y){if(Y.length===0)return null;var se=Y[0],oe=Y.pop();if(oe!==se){Y[0]=oe;e:for(var pe=0,Ce=Y.length,Ke=Ce>>>1;pe<Ke;){var wr=2*(pe+1)-1,Er=Y[wr],Sr=wr+1,Ir=Y[Sr];if(0>i(Er,oe))Sr<Ce&&0>i(Ir,Er)?(Y[pe]=Ir,Y[Sr]=oe,pe=Sr):(Y[pe]=Er,Y[wr]=oe,pe=wr);else if(Sr<Ce&&0>i(Ir,oe))Y[pe]=Ir,Y[Sr]=oe,pe=Sr;else break e}}return se}function i(Y,se){var oe=Y.sortIndex-se.sortIndex;return oe!==0?oe:Y.id-se.id}if(typeof performance=="object"&&typeof performance.now=="function"){var s=performance;t.unstable_now=function(){return s.now()}}else{var o=Date,a=o.now();t.unstable_now=function(){return o.now()-a}}var l=[],u=[],d=1,h=null,f=3,g=!1,_=!1,v=!1,T=typeof setTimeout=="function"?setTimeout:null,I=typeof clearTimeout=="function"?clearTimeout:null,w=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function E(Y){for(var se=n(u);se!==null;){if(se.callback===null)r(u);else if(se.startTime<=Y)r(u),se.sortIndex=se.expirationTime,e(l,se);else break;se=n(u)}}function O(Y){if(v=!1,E(Y),!_)if(n(l)!==null)_=!0,Ot(C);else{var se=n(u);se!==null&&nt(O,se.startTime-Y)}}function C(Y,se){_=!1,v&&(v=!1,I(S),S=-1),g=!0;var oe=f;try{for(E(se),h=n(l);h!==null&&(!(h.expirationTime>se)||Y&&!k());){var pe=h.callback;if(typeof pe=="function"){h.callback=null,f=h.priorityLevel;var Ce=pe(h.expirationTime<=se);se=t.unstable_now(),typeof Ce=="function"?h.callback=Ce:h===n(l)&&r(l),E(se)}else r(l);h=n(l)}if(h!==null)var Ke=!0;else{var wr=n(u);wr!==null&&nt(O,wr.startTime-se),Ke=!1}return Ke}finally{h=null,f=oe,g=!1}}var N=!1,b=null,S=-1,m=5,A=-1;function k(){return!(t.unstable_now()-A<m)}function D(){if(b!==null){var Y=t.unstable_now();A=Y;var se=!0;try{se=b(!0,Y)}finally{se?P():(N=!1,b=null)}}else N=!1}var P;if(typeof w=="function")P=function(){w(D)};else if(typeof MessageChannel<"u"){var we=new MessageChannel,fe=we.port2;we.port1.onmessage=D,P=function(){fe.postMessage(null)}}else P=function(){T(D,0)};function Ot(Y){b=Y,N||(N=!0,P())}function nt(Y,se){S=T(function(){Y(t.unstable_now())},se)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(Y){Y.callback=null},t.unstable_continueExecution=function(){_||g||(_=!0,Ot(C))},t.unstable_forceFrameRate=function(Y){0>Y||125<Y?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):m=0<Y?Math.floor(1e3/Y):5},t.unstable_getCurrentPriorityLevel=function(){return f},t.unstable_getFirstCallbackNode=function(){return n(l)},t.unstable_next=function(Y){switch(f){case 1:case 2:case 3:var se=3;break;default:se=f}var oe=f;f=se;try{return Y()}finally{f=oe}},t.unstable_pauseExecution=function(){},t.unstable_requestPaint=function(){},t.unstable_runWithPriority=function(Y,se){switch(Y){case 1:case 2:case 3:case 4:case 5:break;default:Y=3}var oe=f;f=Y;try{return se()}finally{f=oe}},t.unstable_scheduleCallback=function(Y,se,oe){var pe=t.unstable_now();switch(typeof oe=="object"&&oe!==null?(oe=oe.delay,oe=typeof oe=="number"&&0<oe?pe+oe:pe):oe=pe,Y){case 1:var Ce=-1;break;case 2:Ce=250;break;case 5:Ce=1073741823;break;case 4:Ce=1e4;break;default:Ce=5e3}return Ce=oe+Ce,Y={id:d++,callback:se,priorityLevel:Y,startTime:oe,expirationTime:Ce,sortIndex:-1},oe>pe?(Y.sortIndex=oe,e(u,Y),n(l)===null&&Y===n(u)&&(v?(I(S),S=-1):v=!0,nt(O,oe-pe))):(Y.sortIndex=Ce,e(l,Y),_||g||(_=!0,Ot(C))),Y},t.unstable_shouldYield=k,t.unstable_wrapCallback=function(Y){var se=f;return function(){var oe=f;f=se;try{return Y.apply(this,arguments)}finally{f=oe}}}})(TA);IA.exports=TA;var $M=IA.exports;/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var zM=U,tr=$M;function W(t){for(var e="https://reactjs.org/docs/error-decoder.html?invariant="+t,n=1;n<arguments.length;n++)e+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+t+"; visit "+e+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var bA=new Set,Xc={};function va(t,e){Ol(t,e),Ol(t+"Capture",e)}function Ol(t,e){for(Xc[t]=e,t=0;t<e.length;t++)bA.add(e[t])}var qi=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),P_=Object.prototype.hasOwnProperty,jM=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,rT={},iT={};function WM(t){return P_.call(iT,t)?!0:P_.call(rT,t)?!1:jM.test(t)?iT[t]=!0:(rT[t]=!0,!1)}function qM(t,e,n,r){if(n!==null&&n.type===0)return!1;switch(typeof e){case"function":case"symbol":return!0;case"boolean":return r?!1:n!==null?!n.acceptsBooleans:(t=t.toLowerCase().slice(0,5),t!=="data-"&&t!=="aria-");default:return!1}}function HM(t,e,n,r){if(e===null||typeof e>"u"||qM(t,e,n,r))return!0;if(r)return!1;if(n!==null)switch(n.type){case 3:return!e;case 4:return e===!1;case 5:return isNaN(e);case 6:return isNaN(e)||1>e}return!1}function An(t,e,n,r,i,s,o){this.acceptsBooleans=e===2||e===3||e===4,this.attributeName=r,this.attributeNamespace=i,this.mustUseProperty=n,this.propertyName=t,this.type=e,this.sanitizeURL=s,this.removeEmptyString=o}var en={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(t){en[t]=new An(t,0,!1,t,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(t){var e=t[0];en[e]=new An(e,1,!1,t[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(t){en[t]=new An(t,2,!1,t.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(t){en[t]=new An(t,2,!1,t,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(t){en[t]=new An(t,3,!1,t.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(t){en[t]=new An(t,3,!0,t,null,!1,!1)});["capture","download"].forEach(function(t){en[t]=new An(t,4,!1,t,null,!1,!1)});["cols","rows","size","span"].forEach(function(t){en[t]=new An(t,6,!1,t,null,!1,!1)});["rowSpan","start"].forEach(function(t){en[t]=new An(t,5,!1,t.toLowerCase(),null,!1,!1)});var j0=/[\-:]([a-z])/g;function W0(t){return t[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(t){var e=t.replace(j0,W0);en[e]=new An(e,1,!1,t,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(t){var e=t.replace(j0,W0);en[e]=new An(e,1,!1,t,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(t){var e=t.replace(j0,W0);en[e]=new An(e,1,!1,t,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(t){en[t]=new An(t,1,!1,t.toLowerCase(),null,!1,!1)});en.xlinkHref=new An("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(t){en[t]=new An(t,1,!1,t.toLowerCase(),null,!0,!0)});function q0(t,e,n,r){var i=en.hasOwnProperty(e)?en[e]:null;(i!==null?i.type!==0:r||!(2<e.length)||e[0]!=="o"&&e[0]!=="O"||e[1]!=="n"&&e[1]!=="N")&&(HM(e,n,i,r)&&(n=null),r||i===null?WM(e)&&(n===null?t.removeAttribute(e):t.setAttribute(e,""+n)):i.mustUseProperty?t[i.propertyName]=n===null?i.type===3?!1:"":n:(e=i.attributeName,r=i.attributeNamespace,n===null?t.removeAttribute(e):(i=i.type,n=i===3||i===4&&n===!0?"":""+n,r?t.setAttributeNS(r,e,n):t.setAttribute(e,n))))}var ts=zM.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,Qh=Symbol.for("react.element"),tl=Symbol.for("react.portal"),nl=Symbol.for("react.fragment"),H0=Symbol.for("react.strict_mode"),k_=Symbol.for("react.profiler"),RA=Symbol.for("react.provider"),AA=Symbol.for("react.context"),G0=Symbol.for("react.forward_ref"),C_=Symbol.for("react.suspense"),x_=Symbol.for("react.suspense_list"),K0=Symbol.for("react.memo"),Ss=Symbol.for("react.lazy"),PA=Symbol.for("react.offscreen"),sT=Symbol.iterator;function qu(t){return t===null||typeof t!="object"?null:(t=sT&&t[sT]||t["@@iterator"],typeof t=="function"?t:null)}var at=Object.assign,Ry;function mc(t){if(Ry===void 0)try{throw Error()}catch(n){var e=n.stack.trim().match(/\n( *(at )?)/);Ry=e&&e[1]||""}return`
`+Ry+t}var Ay=!1;function Py(t,e){if(!t||Ay)return"";Ay=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(e)if(e=function(){throw Error()},Object.defineProperty(e.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(e,[])}catch(u){var r=u}Reflect.construct(t,[],e)}else{try{e.call()}catch(u){r=u}t.call(e.prototype)}else{try{throw Error()}catch(u){r=u}t()}}catch(u){if(u&&r&&typeof u.stack=="string"){for(var i=u.stack.split(`
`),s=r.stack.split(`
`),o=i.length-1,a=s.length-1;1<=o&&0<=a&&i[o]!==s[a];)a--;for(;1<=o&&0<=a;o--,a--)if(i[o]!==s[a]){if(o!==1||a!==1)do if(o--,a--,0>a||i[o]!==s[a]){var l=`
`+i[o].replace(" at new "," at ");return t.displayName&&l.includes("<anonymous>")&&(l=l.replace("<anonymous>",t.displayName)),l}while(1<=o&&0<=a);break}}}finally{Ay=!1,Error.prepareStackTrace=n}return(t=t?t.displayName||t.name:"")?mc(t):""}function GM(t){switch(t.tag){case 5:return mc(t.type);case 16:return mc("Lazy");case 13:return mc("Suspense");case 19:return mc("SuspenseList");case 0:case 2:case 15:return t=Py(t.type,!1),t;case 11:return t=Py(t.type.render,!1),t;case 1:return t=Py(t.type,!0),t;default:return""}}function O_(t){if(t==null)return null;if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t;switch(t){case nl:return"Fragment";case tl:return"Portal";case k_:return"Profiler";case H0:return"StrictMode";case C_:return"Suspense";case x_:return"SuspenseList"}if(typeof t=="object")switch(t.$$typeof){case AA:return(t.displayName||"Context")+".Consumer";case RA:return(t._context.displayName||"Context")+".Provider";case G0:var e=t.render;return t=t.displayName,t||(t=e.displayName||e.name||"",t=t!==""?"ForwardRef("+t+")":"ForwardRef"),t;case K0:return e=t.displayName||null,e!==null?e:O_(t.type)||"Memo";case Ss:e=t._payload,t=t._init;try{return O_(t(e))}catch{}}return null}function KM(t){var e=t.type;switch(t.tag){case 24:return"Cache";case 9:return(e.displayName||"Context")+".Consumer";case 10:return(e._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return t=e.render,t=t.displayName||t.name||"",e.displayName||(t!==""?"ForwardRef("+t+")":"ForwardRef");case 7:return"Fragment";case 5:return e;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return O_(e);case 8:return e===H0?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e}return null}function Gs(t){switch(typeof t){case"boolean":case"number":case"string":case"undefined":return t;case"object":return t;default:return""}}function kA(t){var e=t.type;return(t=t.nodeName)&&t.toLowerCase()==="input"&&(e==="checkbox"||e==="radio")}function YM(t){var e=kA(t)?"checked":"value",n=Object.getOwnPropertyDescriptor(t.constructor.prototype,e),r=""+t[e];if(!t.hasOwnProperty(e)&&typeof n<"u"&&typeof n.get=="function"&&typeof n.set=="function"){var i=n.get,s=n.set;return Object.defineProperty(t,e,{configurable:!0,get:function(){return i.call(this)},set:function(o){r=""+o,s.call(this,o)}}),Object.defineProperty(t,e,{enumerable:n.enumerable}),{getValue:function(){return r},setValue:function(o){r=""+o},stopTracking:function(){t._valueTracker=null,delete t[e]}}}}function Jh(t){t._valueTracker||(t._valueTracker=YM(t))}function CA(t){if(!t)return!1;var e=t._valueTracker;if(!e)return!0;var n=e.getValue(),r="";return t&&(r=kA(t)?t.checked?"true":"false":t.value),t=r,t!==n?(e.setValue(t),!0):!1}function mp(t){if(t=t||(typeof document<"u"?document:void 0),typeof t>"u")return null;try{return t.activeElement||t.body}catch{return t.body}}function D_(t,e){var n=e.checked;return at({},e,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:n??t._wrapperState.initialChecked})}function oT(t,e){var n=e.defaultValue==null?"":e.defaultValue,r=e.checked!=null?e.checked:e.defaultChecked;n=Gs(e.value!=null?e.value:n),t._wrapperState={initialChecked:r,initialValue:n,controlled:e.type==="checkbox"||e.type==="radio"?e.checked!=null:e.value!=null}}function xA(t,e){e=e.checked,e!=null&&q0(t,"checked",e,!1)}function N_(t,e){xA(t,e);var n=Gs(e.value),r=e.type;if(n!=null)r==="number"?(n===0&&t.value===""||t.value!=n)&&(t.value=""+n):t.value!==""+n&&(t.value=""+n);else if(r==="submit"||r==="reset"){t.removeAttribute("value");return}e.hasOwnProperty("value")?M_(t,e.type,n):e.hasOwnProperty("defaultValue")&&M_(t,e.type,Gs(e.defaultValue)),e.checked==null&&e.defaultChecked!=null&&(t.defaultChecked=!!e.defaultChecked)}function aT(t,e,n){if(e.hasOwnProperty("value")||e.hasOwnProperty("defaultValue")){var r=e.type;if(!(r!=="submit"&&r!=="reset"||e.value!==void 0&&e.value!==null))return;e=""+t._wrapperState.initialValue,n||e===t.value||(t.value=e),t.defaultValue=e}n=t.name,n!==""&&(t.name=""),t.defaultChecked=!!t._wrapperState.initialChecked,n!==""&&(t.name=n)}function M_(t,e,n){(e!=="number"||mp(t.ownerDocument)!==t)&&(n==null?t.defaultValue=""+t._wrapperState.initialValue:t.defaultValue!==""+n&&(t.defaultValue=""+n))}var gc=Array.isArray;function ml(t,e,n,r){if(t=t.options,e){e={};for(var i=0;i<n.length;i++)e["$"+n[i]]=!0;for(n=0;n<t.length;n++)i=e.hasOwnProperty("$"+t[n].value),t[n].selected!==i&&(t[n].selected=i),i&&r&&(t[n].defaultSelected=!0)}else{for(n=""+Gs(n),e=null,i=0;i<t.length;i++){if(t[i].value===n){t[i].selected=!0,r&&(t[i].defaultSelected=!0);return}e!==null||t[i].disabled||(e=t[i])}e!==null&&(e.selected=!0)}}function L_(t,e){if(e.dangerouslySetInnerHTML!=null)throw Error(W(91));return at({},e,{value:void 0,defaultValue:void 0,children:""+t._wrapperState.initialValue})}function lT(t,e){var n=e.value;if(n==null){if(n=e.children,e=e.defaultValue,n!=null){if(e!=null)throw Error(W(92));if(gc(n)){if(1<n.length)throw Error(W(93));n=n[0]}e=n}e==null&&(e=""),n=e}t._wrapperState={initialValue:Gs(n)}}function OA(t,e){var n=Gs(e.value),r=Gs(e.defaultValue);n!=null&&(n=""+n,n!==t.value&&(t.value=n),e.defaultValue==null&&t.defaultValue!==n&&(t.defaultValue=n)),r!=null&&(t.defaultValue=""+r)}function uT(t){var e=t.textContent;e===t._wrapperState.initialValue&&e!==""&&e!==null&&(t.value=e)}function DA(t){switch(t){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function V_(t,e){return t==null||t==="http://www.w3.org/1999/xhtml"?DA(e):t==="http://www.w3.org/2000/svg"&&e==="foreignObject"?"http://www.w3.org/1999/xhtml":t}var Xh,NA=function(t){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(e,n,r,i){MSApp.execUnsafeLocalFunction(function(){return t(e,n,r,i)})}:t}(function(t,e){if(t.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in t)t.innerHTML=e;else{for(Xh=Xh||document.createElement("div"),Xh.innerHTML="<svg>"+e.valueOf().toString()+"</svg>",e=Xh.firstChild;t.firstChild;)t.removeChild(t.firstChild);for(;e.firstChild;)t.appendChild(e.firstChild)}});function Zc(t,e){if(e){var n=t.firstChild;if(n&&n===t.lastChild&&n.nodeType===3){n.nodeValue=e;return}}t.textContent=e}var Pc={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},QM=["Webkit","ms","Moz","O"];Object.keys(Pc).forEach(function(t){QM.forEach(function(e){e=e+t.charAt(0).toUpperCase()+t.substring(1),Pc[e]=Pc[t]})});function MA(t,e,n){return e==null||typeof e=="boolean"||e===""?"":n||typeof e!="number"||e===0||Pc.hasOwnProperty(t)&&Pc[t]?(""+e).trim():e+"px"}function LA(t,e){t=t.style;for(var n in e)if(e.hasOwnProperty(n)){var r=n.indexOf("--")===0,i=MA(n,e[n],r);n==="float"&&(n="cssFloat"),r?t.setProperty(n,i):t[n]=i}}var JM=at({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function F_(t,e){if(e){if(JM[t]&&(e.children!=null||e.dangerouslySetInnerHTML!=null))throw Error(W(137,t));if(e.dangerouslySetInnerHTML!=null){if(e.children!=null)throw Error(W(60));if(typeof e.dangerouslySetInnerHTML!="object"||!("__html"in e.dangerouslySetInnerHTML))throw Error(W(61))}if(e.style!=null&&typeof e.style!="object")throw Error(W(62))}}function U_(t,e){if(t.indexOf("-")===-1)return typeof e.is=="string";switch(t){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var B_=null;function Y0(t){return t=t.target||t.srcElement||window,t.correspondingUseElement&&(t=t.correspondingUseElement),t.nodeType===3?t.parentNode:t}var $_=null,gl=null,yl=null;function cT(t){if(t=Kd(t)){if(typeof $_!="function")throw Error(W(280));var e=t.stateNode;e&&(e=Cm(e),$_(t.stateNode,t.type,e))}}function VA(t){gl?yl?yl.push(t):yl=[t]:gl=t}function FA(){if(gl){var t=gl,e=yl;if(yl=gl=null,cT(t),e)for(t=0;t<e.length;t++)cT(e[t])}}function UA(t,e){return t(e)}function BA(){}var ky=!1;function $A(t,e,n){if(ky)return t(e,n);ky=!0;try{return UA(t,e,n)}finally{ky=!1,(gl!==null||yl!==null)&&(BA(),FA())}}function ed(t,e){var n=t.stateNode;if(n===null)return null;var r=Cm(n);if(r===null)return null;n=r[e];e:switch(e){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(r=!r.disabled)||(t=t.type,r=!(t==="button"||t==="input"||t==="select"||t==="textarea")),t=!r;break e;default:t=!1}if(t)return null;if(n&&typeof n!="function")throw Error(W(231,e,typeof n));return n}var z_=!1;if(qi)try{var Hu={};Object.defineProperty(Hu,"passive",{get:function(){z_=!0}}),window.addEventListener("test",Hu,Hu),window.removeEventListener("test",Hu,Hu)}catch{z_=!1}function XM(t,e,n,r,i,s,o,a,l){var u=Array.prototype.slice.call(arguments,3);try{e.apply(n,u)}catch(d){this.onError(d)}}var kc=!1,gp=null,yp=!1,j_=null,ZM={onError:function(t){kc=!0,gp=t}};function eL(t,e,n,r,i,s,o,a,l){kc=!1,gp=null,XM.apply(ZM,arguments)}function tL(t,e,n,r,i,s,o,a,l){if(eL.apply(this,arguments),kc){if(kc){var u=gp;kc=!1,gp=null}else throw Error(W(198));yp||(yp=!0,j_=u)}}function wa(t){var e=t,n=t;if(t.alternate)for(;e.return;)e=e.return;else{t=e;do e=t,e.flags&4098&&(n=e.return),t=e.return;while(t)}return e.tag===3?n:null}function zA(t){if(t.tag===13){var e=t.memoizedState;if(e===null&&(t=t.alternate,t!==null&&(e=t.memoizedState)),e!==null)return e.dehydrated}return null}function dT(t){if(wa(t)!==t)throw Error(W(188))}function nL(t){var e=t.alternate;if(!e){if(e=wa(t),e===null)throw Error(W(188));return e!==t?null:t}for(var n=t,r=e;;){var i=n.return;if(i===null)break;var s=i.alternate;if(s===null){if(r=i.return,r!==null){n=r;continue}break}if(i.child===s.child){for(s=i.child;s;){if(s===n)return dT(i),t;if(s===r)return dT(i),e;s=s.sibling}throw Error(W(188))}if(n.return!==r.return)n=i,r=s;else{for(var o=!1,a=i.child;a;){if(a===n){o=!0,n=i,r=s;break}if(a===r){o=!0,r=i,n=s;break}a=a.sibling}if(!o){for(a=s.child;a;){if(a===n){o=!0,n=s,r=i;break}if(a===r){o=!0,r=s,n=i;break}a=a.sibling}if(!o)throw Error(W(189))}}if(n.alternate!==r)throw Error(W(190))}if(n.tag!==3)throw Error(W(188));return n.stateNode.current===n?t:e}function jA(t){return t=nL(t),t!==null?WA(t):null}function WA(t){if(t.tag===5||t.tag===6)return t;for(t=t.child;t!==null;){var e=WA(t);if(e!==null)return e;t=t.sibling}return null}var qA=tr.unstable_scheduleCallback,hT=tr.unstable_cancelCallback,rL=tr.unstable_shouldYield,iL=tr.unstable_requestPaint,St=tr.unstable_now,sL=tr.unstable_getCurrentPriorityLevel,Q0=tr.unstable_ImmediatePriority,HA=tr.unstable_UserBlockingPriority,_p=tr.unstable_NormalPriority,oL=tr.unstable_LowPriority,GA=tr.unstable_IdlePriority,Rm=null,ai=null;function aL(t){if(ai&&typeof ai.onCommitFiberRoot=="function")try{ai.onCommitFiberRoot(Rm,t,void 0,(t.current.flags&128)===128)}catch{}}var Dr=Math.clz32?Math.clz32:cL,lL=Math.log,uL=Math.LN2;function cL(t){return t>>>=0,t===0?32:31-(lL(t)/uL|0)|0}var Zh=64,ef=4194304;function yc(t){switch(t&-t){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return t&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return t}}function vp(t,e){var n=t.pendingLanes;if(n===0)return 0;var r=0,i=t.suspendedLanes,s=t.pingedLanes,o=n&268435455;if(o!==0){var a=o&~i;a!==0?r=yc(a):(s&=o,s!==0&&(r=yc(s)))}else o=n&~i,o!==0?r=yc(o):s!==0&&(r=yc(s));if(r===0)return 0;if(e!==0&&e!==r&&!(e&i)&&(i=r&-r,s=e&-e,i>=s||i===16&&(s&4194240)!==0))return e;if(r&4&&(r|=n&16),e=t.entangledLanes,e!==0)for(t=t.entanglements,e&=r;0<e;)n=31-Dr(e),i=1<<n,r|=t[n],e&=~i;return r}function dL(t,e){switch(t){case 1:case 2:case 4:return e+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function hL(t,e){for(var n=t.suspendedLanes,r=t.pingedLanes,i=t.expirationTimes,s=t.pendingLanes;0<s;){var o=31-Dr(s),a=1<<o,l=i[o];l===-1?(!(a&n)||a&r)&&(i[o]=dL(a,e)):l<=e&&(t.expiredLanes|=a),s&=~a}}function W_(t){return t=t.pendingLanes&-1073741825,t!==0?t:t&1073741824?1073741824:0}function KA(){var t=Zh;return Zh<<=1,!(Zh&4194240)&&(Zh=64),t}function Cy(t){for(var e=[],n=0;31>n;n++)e.push(t);return e}function Hd(t,e,n){t.pendingLanes|=e,e!==536870912&&(t.suspendedLanes=0,t.pingedLanes=0),t=t.eventTimes,e=31-Dr(e),t[e]=n}function fL(t,e){var n=t.pendingLanes&~e;t.pendingLanes=e,t.suspendedLanes=0,t.pingedLanes=0,t.expiredLanes&=e,t.mutableReadLanes&=e,t.entangledLanes&=e,e=t.entanglements;var r=t.eventTimes;for(t=t.expirationTimes;0<n;){var i=31-Dr(n),s=1<<i;e[i]=0,r[i]=-1,t[i]=-1,n&=~s}}function J0(t,e){var n=t.entangledLanes|=e;for(t=t.entanglements;n;){var r=31-Dr(n),i=1<<r;i&e|t[r]&e&&(t[r]|=e),n&=~i}}var De=0;function YA(t){return t&=-t,1<t?4<t?t&268435455?16:536870912:4:1}var QA,X0,JA,XA,ZA,q_=!1,tf=[],Ms=null,Ls=null,Vs=null,td=new Map,nd=new Map,Ts=[],pL="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function fT(t,e){switch(t){case"focusin":case"focusout":Ms=null;break;case"dragenter":case"dragleave":Ls=null;break;case"mouseover":case"mouseout":Vs=null;break;case"pointerover":case"pointerout":td.delete(e.pointerId);break;case"gotpointercapture":case"lostpointercapture":nd.delete(e.pointerId)}}function Gu(t,e,n,r,i,s){return t===null||t.nativeEvent!==s?(t={blockedOn:e,domEventName:n,eventSystemFlags:r,nativeEvent:s,targetContainers:[i]},e!==null&&(e=Kd(e),e!==null&&X0(e)),t):(t.eventSystemFlags|=r,e=t.targetContainers,i!==null&&e.indexOf(i)===-1&&e.push(i),t)}function mL(t,e,n,r,i){switch(e){case"focusin":return Ms=Gu(Ms,t,e,n,r,i),!0;case"dragenter":return Ls=Gu(Ls,t,e,n,r,i),!0;case"mouseover":return Vs=Gu(Vs,t,e,n,r,i),!0;case"pointerover":var s=i.pointerId;return td.set(s,Gu(td.get(s)||null,t,e,n,r,i)),!0;case"gotpointercapture":return s=i.pointerId,nd.set(s,Gu(nd.get(s)||null,t,e,n,r,i)),!0}return!1}function eP(t){var e=Bo(t.target);if(e!==null){var n=wa(e);if(n!==null){if(e=n.tag,e===13){if(e=zA(n),e!==null){t.blockedOn=e,ZA(t.priority,function(){JA(n)});return}}else if(e===3&&n.stateNode.current.memoizedState.isDehydrated){t.blockedOn=n.tag===3?n.stateNode.containerInfo:null;return}}}t.blockedOn=null}function Nf(t){if(t.blockedOn!==null)return!1;for(var e=t.targetContainers;0<e.length;){var n=H_(t.domEventName,t.eventSystemFlags,e[0],t.nativeEvent);if(n===null){n=t.nativeEvent;var r=new n.constructor(n.type,n);B_=r,n.target.dispatchEvent(r),B_=null}else return e=Kd(n),e!==null&&X0(e),t.blockedOn=n,!1;e.shift()}return!0}function pT(t,e,n){Nf(t)&&n.delete(e)}function gL(){q_=!1,Ms!==null&&Nf(Ms)&&(Ms=null),Ls!==null&&Nf(Ls)&&(Ls=null),Vs!==null&&Nf(Vs)&&(Vs=null),td.forEach(pT),nd.forEach(pT)}function Ku(t,e){t.blockedOn===e&&(t.blockedOn=null,q_||(q_=!0,tr.unstable_scheduleCallback(tr.unstable_NormalPriority,gL)))}function rd(t){function e(i){return Ku(i,t)}if(0<tf.length){Ku(tf[0],t);for(var n=1;n<tf.length;n++){var r=tf[n];r.blockedOn===t&&(r.blockedOn=null)}}for(Ms!==null&&Ku(Ms,t),Ls!==null&&Ku(Ls,t),Vs!==null&&Ku(Vs,t),td.forEach(e),nd.forEach(e),n=0;n<Ts.length;n++)r=Ts[n],r.blockedOn===t&&(r.blockedOn=null);for(;0<Ts.length&&(n=Ts[0],n.blockedOn===null);)eP(n),n.blockedOn===null&&Ts.shift()}var _l=ts.ReactCurrentBatchConfig,wp=!0;function yL(t,e,n,r){var i=De,s=_l.transition;_l.transition=null;try{De=1,Z0(t,e,n,r)}finally{De=i,_l.transition=s}}function _L(t,e,n,r){var i=De,s=_l.transition;_l.transition=null;try{De=4,Z0(t,e,n,r)}finally{De=i,_l.transition=s}}function Z0(t,e,n,r){if(wp){var i=H_(t,e,n,r);if(i===null)By(t,e,r,Ep,n),fT(t,r);else if(mL(i,t,e,n,r))r.stopPropagation();else if(fT(t,r),e&4&&-1<pL.indexOf(t)){for(;i!==null;){var s=Kd(i);if(s!==null&&QA(s),s=H_(t,e,n,r),s===null&&By(t,e,r,Ep,n),s===i)break;i=s}i!==null&&r.stopPropagation()}else By(t,e,r,null,n)}}var Ep=null;function H_(t,e,n,r){if(Ep=null,t=Y0(r),t=Bo(t),t!==null)if(e=wa(t),e===null)t=null;else if(n=e.tag,n===13){if(t=zA(e),t!==null)return t;t=null}else if(n===3){if(e.stateNode.current.memoizedState.isDehydrated)return e.tag===3?e.stateNode.containerInfo:null;t=null}else e!==t&&(t=null);return Ep=t,null}function tP(t){switch(t){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(sL()){case Q0:return 1;case HA:return 4;case _p:case oL:return 16;case GA:return 536870912;default:return 16}default:return 16}}var Ps=null,ew=null,Mf=null;function nP(){if(Mf)return Mf;var t,e=ew,n=e.length,r,i="value"in Ps?Ps.value:Ps.textContent,s=i.length;for(t=0;t<n&&e[t]===i[t];t++);var o=n-t;for(r=1;r<=o&&e[n-r]===i[s-r];r++);return Mf=i.slice(t,1<r?1-r:void 0)}function Lf(t){var e=t.keyCode;return"charCode"in t?(t=t.charCode,t===0&&e===13&&(t=13)):t=e,t===10&&(t=13),32<=t||t===13?t:0}function nf(){return!0}function mT(){return!1}function ir(t){function e(n,r,i,s,o){this._reactName=n,this._targetInst=i,this.type=r,this.nativeEvent=s,this.target=o,this.currentTarget=null;for(var a in t)t.hasOwnProperty(a)&&(n=t[a],this[a]=n?n(s):s[a]);return this.isDefaultPrevented=(s.defaultPrevented!=null?s.defaultPrevented:s.returnValue===!1)?nf:mT,this.isPropagationStopped=mT,this}return at(e.prototype,{preventDefault:function(){this.defaultPrevented=!0;var n=this.nativeEvent;n&&(n.preventDefault?n.preventDefault():typeof n.returnValue!="unknown"&&(n.returnValue=!1),this.isDefaultPrevented=nf)},stopPropagation:function(){var n=this.nativeEvent;n&&(n.stopPropagation?n.stopPropagation():typeof n.cancelBubble!="unknown"&&(n.cancelBubble=!0),this.isPropagationStopped=nf)},persist:function(){},isPersistent:nf}),e}var au={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(t){return t.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},tw=ir(au),Gd=at({},au,{view:0,detail:0}),vL=ir(Gd),xy,Oy,Yu,Am=at({},Gd,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:nw,button:0,buttons:0,relatedTarget:function(t){return t.relatedTarget===void 0?t.fromElement===t.srcElement?t.toElement:t.fromElement:t.relatedTarget},movementX:function(t){return"movementX"in t?t.movementX:(t!==Yu&&(Yu&&t.type==="mousemove"?(xy=t.screenX-Yu.screenX,Oy=t.screenY-Yu.screenY):Oy=xy=0,Yu=t),xy)},movementY:function(t){return"movementY"in t?t.movementY:Oy}}),gT=ir(Am),wL=at({},Am,{dataTransfer:0}),EL=ir(wL),SL=at({},Gd,{relatedTarget:0}),Dy=ir(SL),IL=at({},au,{animationName:0,elapsedTime:0,pseudoElement:0}),TL=ir(IL),bL=at({},au,{clipboardData:function(t){return"clipboardData"in t?t.clipboardData:window.clipboardData}}),RL=ir(bL),AL=at({},au,{data:0}),yT=ir(AL),PL={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},kL={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},CL={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function xL(t){var e=this.nativeEvent;return e.getModifierState?e.getModifierState(t):(t=CL[t])?!!e[t]:!1}function nw(){return xL}var OL=at({},Gd,{key:function(t){if(t.key){var e=PL[t.key]||t.key;if(e!=="Unidentified")return e}return t.type==="keypress"?(t=Lf(t),t===13?"Enter":String.fromCharCode(t)):t.type==="keydown"||t.type==="keyup"?kL[t.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:nw,charCode:function(t){return t.type==="keypress"?Lf(t):0},keyCode:function(t){return t.type==="keydown"||t.type==="keyup"?t.keyCode:0},which:function(t){return t.type==="keypress"?Lf(t):t.type==="keydown"||t.type==="keyup"?t.keyCode:0}}),DL=ir(OL),NL=at({},Am,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),_T=ir(NL),ML=at({},Gd,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:nw}),LL=ir(ML),VL=at({},au,{propertyName:0,elapsedTime:0,pseudoElement:0}),FL=ir(VL),UL=at({},Am,{deltaX:function(t){return"deltaX"in t?t.deltaX:"wheelDeltaX"in t?-t.wheelDeltaX:0},deltaY:function(t){return"deltaY"in t?t.deltaY:"wheelDeltaY"in t?-t.wheelDeltaY:"wheelDelta"in t?-t.wheelDelta:0},deltaZ:0,deltaMode:0}),BL=ir(UL),$L=[9,13,27,32],rw=qi&&"CompositionEvent"in window,Cc=null;qi&&"documentMode"in document&&(Cc=document.documentMode);var zL=qi&&"TextEvent"in window&&!Cc,rP=qi&&(!rw||Cc&&8<Cc&&11>=Cc),vT=" ",wT=!1;function iP(t,e){switch(t){case"keyup":return $L.indexOf(e.keyCode)!==-1;case"keydown":return e.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function sP(t){return t=t.detail,typeof t=="object"&&"data"in t?t.data:null}var rl=!1;function jL(t,e){switch(t){case"compositionend":return sP(e);case"keypress":return e.which!==32?null:(wT=!0,vT);case"textInput":return t=e.data,t===vT&&wT?null:t;default:return null}}function WL(t,e){if(rl)return t==="compositionend"||!rw&&iP(t,e)?(t=nP(),Mf=ew=Ps=null,rl=!1,t):null;switch(t){case"paste":return null;case"keypress":if(!(e.ctrlKey||e.altKey||e.metaKey)||e.ctrlKey&&e.altKey){if(e.char&&1<e.char.length)return e.char;if(e.which)return String.fromCharCode(e.which)}return null;case"compositionend":return rP&&e.locale!=="ko"?null:e.data;default:return null}}var qL={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function ET(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e==="input"?!!qL[t.type]:e==="textarea"}function oP(t,e,n,r){VA(r),e=Sp(e,"onChange"),0<e.length&&(n=new tw("onChange","change",null,n,r),t.push({event:n,listeners:e}))}var xc=null,id=null;function HL(t){yP(t,0)}function Pm(t){var e=ol(t);if(CA(e))return t}function GL(t,e){if(t==="change")return e}var aP=!1;if(qi){var Ny;if(qi){var My="oninput"in document;if(!My){var ST=document.createElement("div");ST.setAttribute("oninput","return;"),My=typeof ST.oninput=="function"}Ny=My}else Ny=!1;aP=Ny&&(!document.documentMode||9<document.documentMode)}function IT(){xc&&(xc.detachEvent("onpropertychange",lP),id=xc=null)}function lP(t){if(t.propertyName==="value"&&Pm(id)){var e=[];oP(e,id,t,Y0(t)),$A(HL,e)}}function KL(t,e,n){t==="focusin"?(IT(),xc=e,id=n,xc.attachEvent("onpropertychange",lP)):t==="focusout"&&IT()}function YL(t){if(t==="selectionchange"||t==="keyup"||t==="keydown")return Pm(id)}function QL(t,e){if(t==="click")return Pm(e)}function JL(t,e){if(t==="input"||t==="change")return Pm(e)}function XL(t,e){return t===e&&(t!==0||1/t===1/e)||t!==t&&e!==e}var Lr=typeof Object.is=="function"?Object.is:XL;function sd(t,e){if(Lr(t,e))return!0;if(typeof t!="object"||t===null||typeof e!="object"||e===null)return!1;var n=Object.keys(t),r=Object.keys(e);if(n.length!==r.length)return!1;for(r=0;r<n.length;r++){var i=n[r];if(!P_.call(e,i)||!Lr(t[i],e[i]))return!1}return!0}function TT(t){for(;t&&t.firstChild;)t=t.firstChild;return t}function bT(t,e){var n=TT(t);t=0;for(var r;n;){if(n.nodeType===3){if(r=t+n.textContent.length,t<=e&&r>=e)return{node:n,offset:e-t};t=r}e:{for(;n;){if(n.nextSibling){n=n.nextSibling;break e}n=n.parentNode}n=void 0}n=TT(n)}}function uP(t,e){return t&&e?t===e?!0:t&&t.nodeType===3?!1:e&&e.nodeType===3?uP(t,e.parentNode):"contains"in t?t.contains(e):t.compareDocumentPosition?!!(t.compareDocumentPosition(e)&16):!1:!1}function cP(){for(var t=window,e=mp();e instanceof t.HTMLIFrameElement;){try{var n=typeof e.contentWindow.location.href=="string"}catch{n=!1}if(n)t=e.contentWindow;else break;e=mp(t.document)}return e}function iw(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e&&(e==="input"&&(t.type==="text"||t.type==="search"||t.type==="tel"||t.type==="url"||t.type==="password")||e==="textarea"||t.contentEditable==="true")}function ZL(t){var e=cP(),n=t.focusedElem,r=t.selectionRange;if(e!==n&&n&&n.ownerDocument&&uP(n.ownerDocument.documentElement,n)){if(r!==null&&iw(n)){if(e=r.start,t=r.end,t===void 0&&(t=e),"selectionStart"in n)n.selectionStart=e,n.selectionEnd=Math.min(t,n.value.length);else if(t=(e=n.ownerDocument||document)&&e.defaultView||window,t.getSelection){t=t.getSelection();var i=n.textContent.length,s=Math.min(r.start,i);r=r.end===void 0?s:Math.min(r.end,i),!t.extend&&s>r&&(i=r,r=s,s=i),i=bT(n,s);var o=bT(n,r);i&&o&&(t.rangeCount!==1||t.anchorNode!==i.node||t.anchorOffset!==i.offset||t.focusNode!==o.node||t.focusOffset!==o.offset)&&(e=e.createRange(),e.setStart(i.node,i.offset),t.removeAllRanges(),s>r?(t.addRange(e),t.extend(o.node,o.offset)):(e.setEnd(o.node,o.offset),t.addRange(e)))}}for(e=[],t=n;t=t.parentNode;)t.nodeType===1&&e.push({element:t,left:t.scrollLeft,top:t.scrollTop});for(typeof n.focus=="function"&&n.focus(),n=0;n<e.length;n++)t=e[n],t.element.scrollLeft=t.left,t.element.scrollTop=t.top}}var eV=qi&&"documentMode"in document&&11>=document.documentMode,il=null,G_=null,Oc=null,K_=!1;function RT(t,e,n){var r=n.window===n?n.document:n.nodeType===9?n:n.ownerDocument;K_||il==null||il!==mp(r)||(r=il,"selectionStart"in r&&iw(r)?r={start:r.selectionStart,end:r.selectionEnd}:(r=(r.ownerDocument&&r.ownerDocument.defaultView||window).getSelection(),r={anchorNode:r.anchorNode,anchorOffset:r.anchorOffset,focusNode:r.focusNode,focusOffset:r.focusOffset}),Oc&&sd(Oc,r)||(Oc=r,r=Sp(G_,"onSelect"),0<r.length&&(e=new tw("onSelect","select",null,e,n),t.push({event:e,listeners:r}),e.target=il)))}function rf(t,e){var n={};return n[t.toLowerCase()]=e.toLowerCase(),n["Webkit"+t]="webkit"+e,n["Moz"+t]="moz"+e,n}var sl={animationend:rf("Animation","AnimationEnd"),animationiteration:rf("Animation","AnimationIteration"),animationstart:rf("Animation","AnimationStart"),transitionend:rf("Transition","TransitionEnd")},Ly={},dP={};qi&&(dP=document.createElement("div").style,"AnimationEvent"in window||(delete sl.animationend.animation,delete sl.animationiteration.animation,delete sl.animationstart.animation),"TransitionEvent"in window||delete sl.transitionend.transition);function km(t){if(Ly[t])return Ly[t];if(!sl[t])return t;var e=sl[t],n;for(n in e)if(e.hasOwnProperty(n)&&n in dP)return Ly[t]=e[n];return t}var hP=km("animationend"),fP=km("animationiteration"),pP=km("animationstart"),mP=km("transitionend"),gP=new Map,AT="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function uo(t,e){gP.set(t,e),va(e,[t])}for(var Vy=0;Vy<AT.length;Vy++){var Fy=AT[Vy],tV=Fy.toLowerCase(),nV=Fy[0].toUpperCase()+Fy.slice(1);uo(tV,"on"+nV)}uo(hP,"onAnimationEnd");uo(fP,"onAnimationIteration");uo(pP,"onAnimationStart");uo("dblclick","onDoubleClick");uo("focusin","onFocus");uo("focusout","onBlur");uo(mP,"onTransitionEnd");Ol("onMouseEnter",["mouseout","mouseover"]);Ol("onMouseLeave",["mouseout","mouseover"]);Ol("onPointerEnter",["pointerout","pointerover"]);Ol("onPointerLeave",["pointerout","pointerover"]);va("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));va("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));va("onBeforeInput",["compositionend","keypress","textInput","paste"]);va("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));va("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));va("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var _c="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),rV=new Set("cancel close invalid load scroll toggle".split(" ").concat(_c));function PT(t,e,n){var r=t.type||"unknown-event";t.currentTarget=n,tL(r,e,void 0,t),t.currentTarget=null}function yP(t,e){e=(e&4)!==0;for(var n=0;n<t.length;n++){var r=t[n],i=r.event;r=r.listeners;e:{var s=void 0;if(e)for(var o=r.length-1;0<=o;o--){var a=r[o],l=a.instance,u=a.currentTarget;if(a=a.listener,l!==s&&i.isPropagationStopped())break e;PT(i,a,u),s=l}else for(o=0;o<r.length;o++){if(a=r[o],l=a.instance,u=a.currentTarget,a=a.listener,l!==s&&i.isPropagationStopped())break e;PT(i,a,u),s=l}}}if(yp)throw t=j_,yp=!1,j_=null,t}function je(t,e){var n=e[Z_];n===void 0&&(n=e[Z_]=new Set);var r=t+"__bubble";n.has(r)||(_P(e,t,2,!1),n.add(r))}function Uy(t,e,n){var r=0;e&&(r|=4),_P(n,t,r,e)}var sf="_reactListening"+Math.random().toString(36).slice(2);function od(t){if(!t[sf]){t[sf]=!0,bA.forEach(function(n){n!=="selectionchange"&&(rV.has(n)||Uy(n,!1,t),Uy(n,!0,t))});var e=t.nodeType===9?t:t.ownerDocument;e===null||e[sf]||(e[sf]=!0,Uy("selectionchange",!1,e))}}function _P(t,e,n,r){switch(tP(e)){case 1:var i=yL;break;case 4:i=_L;break;default:i=Z0}n=i.bind(null,e,n,t),i=void 0,!z_||e!=="touchstart"&&e!=="touchmove"&&e!=="wheel"||(i=!0),r?i!==void 0?t.addEventListener(e,n,{capture:!0,passive:i}):t.addEventListener(e,n,!0):i!==void 0?t.addEventListener(e,n,{passive:i}):t.addEventListener(e,n,!1)}function By(t,e,n,r,i){var s=r;if(!(e&1)&&!(e&2)&&r!==null)e:for(;;){if(r===null)return;var o=r.tag;if(o===3||o===4){var a=r.stateNode.containerInfo;if(a===i||a.nodeType===8&&a.parentNode===i)break;if(o===4)for(o=r.return;o!==null;){var l=o.tag;if((l===3||l===4)&&(l=o.stateNode.containerInfo,l===i||l.nodeType===8&&l.parentNode===i))return;o=o.return}for(;a!==null;){if(o=Bo(a),o===null)return;if(l=o.tag,l===5||l===6){r=s=o;continue e}a=a.parentNode}}r=r.return}$A(function(){var u=s,d=Y0(n),h=[];e:{var f=gP.get(t);if(f!==void 0){var g=tw,_=t;switch(t){case"keypress":if(Lf(n)===0)break e;case"keydown":case"keyup":g=DL;break;case"focusin":_="focus",g=Dy;break;case"focusout":_="blur",g=Dy;break;case"beforeblur":case"afterblur":g=Dy;break;case"click":if(n.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":g=gT;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":g=EL;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":g=LL;break;case hP:case fP:case pP:g=TL;break;case mP:g=FL;break;case"scroll":g=vL;break;case"wheel":g=BL;break;case"copy":case"cut":case"paste":g=RL;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":g=_T}var v=(e&4)!==0,T=!v&&t==="scroll",I=v?f!==null?f+"Capture":null:f;v=[];for(var w=u,E;w!==null;){E=w;var O=E.stateNode;if(E.tag===5&&O!==null&&(E=O,I!==null&&(O=ed(w,I),O!=null&&v.push(ad(w,O,E)))),T)break;w=w.return}0<v.length&&(f=new g(f,_,null,n,d),h.push({event:f,listeners:v}))}}if(!(e&7)){e:{if(f=t==="mouseover"||t==="pointerover",g=t==="mouseout"||t==="pointerout",f&&n!==B_&&(_=n.relatedTarget||n.fromElement)&&(Bo(_)||_[Hi]))break e;if((g||f)&&(f=d.window===d?d:(f=d.ownerDocument)?f.defaultView||f.parentWindow:window,g?(_=n.relatedTarget||n.toElement,g=u,_=_?Bo(_):null,_!==null&&(T=wa(_),_!==T||_.tag!==5&&_.tag!==6)&&(_=null)):(g=null,_=u),g!==_)){if(v=gT,O="onMouseLeave",I="onMouseEnter",w="mouse",(t==="pointerout"||t==="pointerover")&&(v=_T,O="onPointerLeave",I="onPointerEnter",w="pointer"),T=g==null?f:ol(g),E=_==null?f:ol(_),f=new v(O,w+"leave",g,n,d),f.target=T,f.relatedTarget=E,O=null,Bo(d)===u&&(v=new v(I,w+"enter",_,n,d),v.target=E,v.relatedTarget=T,O=v),T=O,g&&_)t:{for(v=g,I=_,w=0,E=v;E;E=La(E))w++;for(E=0,O=I;O;O=La(O))E++;for(;0<w-E;)v=La(v),w--;for(;0<E-w;)I=La(I),E--;for(;w--;){if(v===I||I!==null&&v===I.alternate)break t;v=La(v),I=La(I)}v=null}else v=null;g!==null&&kT(h,f,g,v,!1),_!==null&&T!==null&&kT(h,T,_,v,!0)}}e:{if(f=u?ol(u):window,g=f.nodeName&&f.nodeName.toLowerCase(),g==="select"||g==="input"&&f.type==="file")var C=GL;else if(ET(f))if(aP)C=JL;else{C=YL;var N=KL}else(g=f.nodeName)&&g.toLowerCase()==="input"&&(f.type==="checkbox"||f.type==="radio")&&(C=QL);if(C&&(C=C(t,u))){oP(h,C,n,d);break e}N&&N(t,f,u),t==="focusout"&&(N=f._wrapperState)&&N.controlled&&f.type==="number"&&M_(f,"number",f.value)}switch(N=u?ol(u):window,t){case"focusin":(ET(N)||N.contentEditable==="true")&&(il=N,G_=u,Oc=null);break;case"focusout":Oc=G_=il=null;break;case"mousedown":K_=!0;break;case"contextmenu":case"mouseup":case"dragend":K_=!1,RT(h,n,d);break;case"selectionchange":if(eV)break;case"keydown":case"keyup":RT(h,n,d)}var b;if(rw)e:{switch(t){case"compositionstart":var S="onCompositionStart";break e;case"compositionend":S="onCompositionEnd";break e;case"compositionupdate":S="onCompositionUpdate";break e}S=void 0}else rl?iP(t,n)&&(S="onCompositionEnd"):t==="keydown"&&n.keyCode===229&&(S="onCompositionStart");S&&(rP&&n.locale!=="ko"&&(rl||S!=="onCompositionStart"?S==="onCompositionEnd"&&rl&&(b=nP()):(Ps=d,ew="value"in Ps?Ps.value:Ps.textContent,rl=!0)),N=Sp(u,S),0<N.length&&(S=new yT(S,t,null,n,d),h.push({event:S,listeners:N}),b?S.data=b:(b=sP(n),b!==null&&(S.data=b)))),(b=zL?jL(t,n):WL(t,n))&&(u=Sp(u,"onBeforeInput"),0<u.length&&(d=new yT("onBeforeInput","beforeinput",null,n,d),h.push({event:d,listeners:u}),d.data=b))}yP(h,e)})}function ad(t,e,n){return{instance:t,listener:e,currentTarget:n}}function Sp(t,e){for(var n=e+"Capture",r=[];t!==null;){var i=t,s=i.stateNode;i.tag===5&&s!==null&&(i=s,s=ed(t,n),s!=null&&r.unshift(ad(t,s,i)),s=ed(t,e),s!=null&&r.push(ad(t,s,i))),t=t.return}return r}function La(t){if(t===null)return null;do t=t.return;while(t&&t.tag!==5);return t||null}function kT(t,e,n,r,i){for(var s=e._reactName,o=[];n!==null&&n!==r;){var a=n,l=a.alternate,u=a.stateNode;if(l!==null&&l===r)break;a.tag===5&&u!==null&&(a=u,i?(l=ed(n,s),l!=null&&o.unshift(ad(n,l,a))):i||(l=ed(n,s),l!=null&&o.push(ad(n,l,a)))),n=n.return}o.length!==0&&t.push({event:e,listeners:o})}var iV=/\r\n?/g,sV=/\u0000|\uFFFD/g;function CT(t){return(typeof t=="string"?t:""+t).replace(iV,`
`).replace(sV,"")}function of(t,e,n){if(e=CT(e),CT(t)!==e&&n)throw Error(W(425))}function Ip(){}var Y_=null,Q_=null;function J_(t,e){return t==="textarea"||t==="noscript"||typeof e.children=="string"||typeof e.children=="number"||typeof e.dangerouslySetInnerHTML=="object"&&e.dangerouslySetInnerHTML!==null&&e.dangerouslySetInnerHTML.__html!=null}var X_=typeof setTimeout=="function"?setTimeout:void 0,oV=typeof clearTimeout=="function"?clearTimeout:void 0,xT=typeof Promise=="function"?Promise:void 0,aV=typeof queueMicrotask=="function"?queueMicrotask:typeof xT<"u"?function(t){return xT.resolve(null).then(t).catch(lV)}:X_;function lV(t){setTimeout(function(){throw t})}function $y(t,e){var n=e,r=0;do{var i=n.nextSibling;if(t.removeChild(n),i&&i.nodeType===8)if(n=i.data,n==="/$"){if(r===0){t.removeChild(i),rd(e);return}r--}else n!=="$"&&n!=="$?"&&n!=="$!"||r++;n=i}while(n);rd(e)}function Fs(t){for(;t!=null;t=t.nextSibling){var e=t.nodeType;if(e===1||e===3)break;if(e===8){if(e=t.data,e==="$"||e==="$!"||e==="$?")break;if(e==="/$")return null}}return t}function OT(t){t=t.previousSibling;for(var e=0;t;){if(t.nodeType===8){var n=t.data;if(n==="$"||n==="$!"||n==="$?"){if(e===0)return t;e--}else n==="/$"&&e++}t=t.previousSibling}return null}var lu=Math.random().toString(36).slice(2),Qr="__reactFiber$"+lu,ld="__reactProps$"+lu,Hi="__reactContainer$"+lu,Z_="__reactEvents$"+lu,uV="__reactListeners$"+lu,cV="__reactHandles$"+lu;function Bo(t){var e=t[Qr];if(e)return e;for(var n=t.parentNode;n;){if(e=n[Hi]||n[Qr]){if(n=e.alternate,e.child!==null||n!==null&&n.child!==null)for(t=OT(t);t!==null;){if(n=t[Qr])return n;t=OT(t)}return e}t=n,n=t.parentNode}return null}function Kd(t){return t=t[Qr]||t[Hi],!t||t.tag!==5&&t.tag!==6&&t.tag!==13&&t.tag!==3?null:t}function ol(t){if(t.tag===5||t.tag===6)return t.stateNode;throw Error(W(33))}function Cm(t){return t[ld]||null}var ev=[],al=-1;function co(t){return{current:t}}function qe(t){0>al||(t.current=ev[al],ev[al]=null,al--)}function Be(t,e){al++,ev[al]=t.current,t.current=e}var Ks={},fn=co(Ks),Ln=co(!1),ta=Ks;function Dl(t,e){var n=t.type.contextTypes;if(!n)return Ks;var r=t.stateNode;if(r&&r.__reactInternalMemoizedUnmaskedChildContext===e)return r.__reactInternalMemoizedMaskedChildContext;var i={},s;for(s in n)i[s]=e[s];return r&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=e,t.__reactInternalMemoizedMaskedChildContext=i),i}function Vn(t){return t=t.childContextTypes,t!=null}function Tp(){qe(Ln),qe(fn)}function DT(t,e,n){if(fn.current!==Ks)throw Error(W(168));Be(fn,e),Be(Ln,n)}function vP(t,e,n){var r=t.stateNode;if(e=e.childContextTypes,typeof r.getChildContext!="function")return n;r=r.getChildContext();for(var i in r)if(!(i in e))throw Error(W(108,KM(t)||"Unknown",i));return at({},n,r)}function bp(t){return t=(t=t.stateNode)&&t.__reactInternalMemoizedMergedChildContext||Ks,ta=fn.current,Be(fn,t),Be(Ln,Ln.current),!0}function NT(t,e,n){var r=t.stateNode;if(!r)throw Error(W(169));n?(t=vP(t,e,ta),r.__reactInternalMemoizedMergedChildContext=t,qe(Ln),qe(fn),Be(fn,t)):qe(Ln),Be(Ln,n)}var ki=null,xm=!1,zy=!1;function wP(t){ki===null?ki=[t]:ki.push(t)}function dV(t){xm=!0,wP(t)}function ho(){if(!zy&&ki!==null){zy=!0;var t=0,e=De;try{var n=ki;for(De=1;t<n.length;t++){var r=n[t];do r=r(!0);while(r!==null)}ki=null,xm=!1}catch(i){throw ki!==null&&(ki=ki.slice(t+1)),qA(Q0,ho),i}finally{De=e,zy=!1}}return null}var ll=[],ul=0,Rp=null,Ap=0,or=[],ar=0,na=null,Di=1,Ni="";function ko(t,e){ll[ul++]=Ap,ll[ul++]=Rp,Rp=t,Ap=e}function EP(t,e,n){or[ar++]=Di,or[ar++]=Ni,or[ar++]=na,na=t;var r=Di;t=Ni;var i=32-Dr(r)-1;r&=~(1<<i),n+=1;var s=32-Dr(e)+i;if(30<s){var o=i-i%5;s=(r&(1<<o)-1).toString(32),r>>=o,i-=o,Di=1<<32-Dr(e)+i|n<<i|r,Ni=s+t}else Di=1<<s|n<<i|r,Ni=t}function sw(t){t.return!==null&&(ko(t,1),EP(t,1,0))}function ow(t){for(;t===Rp;)Rp=ll[--ul],ll[ul]=null,Ap=ll[--ul],ll[ul]=null;for(;t===na;)na=or[--ar],or[ar]=null,Ni=or[--ar],or[ar]=null,Di=or[--ar],or[ar]=null}var Jn=null,Yn=null,Xe=!1,xr=null;function SP(t,e){var n=cr(5,null,null,0);n.elementType="DELETED",n.stateNode=e,n.return=t,e=t.deletions,e===null?(t.deletions=[n],t.flags|=16):e.push(n)}function MT(t,e){switch(t.tag){case 5:var n=t.type;return e=e.nodeType!==1||n.toLowerCase()!==e.nodeName.toLowerCase()?null:e,e!==null?(t.stateNode=e,Jn=t,Yn=Fs(e.firstChild),!0):!1;case 6:return e=t.pendingProps===""||e.nodeType!==3?null:e,e!==null?(t.stateNode=e,Jn=t,Yn=null,!0):!1;case 13:return e=e.nodeType!==8?null:e,e!==null?(n=na!==null?{id:Di,overflow:Ni}:null,t.memoizedState={dehydrated:e,treeContext:n,retryLane:1073741824},n=cr(18,null,null,0),n.stateNode=e,n.return=t,t.child=n,Jn=t,Yn=null,!0):!1;default:return!1}}function tv(t){return(t.mode&1)!==0&&(t.flags&128)===0}function nv(t){if(Xe){var e=Yn;if(e){var n=e;if(!MT(t,e)){if(tv(t))throw Error(W(418));e=Fs(n.nextSibling);var r=Jn;e&&MT(t,e)?SP(r,n):(t.flags=t.flags&-4097|2,Xe=!1,Jn=t)}}else{if(tv(t))throw Error(W(418));t.flags=t.flags&-4097|2,Xe=!1,Jn=t}}}function LT(t){for(t=t.return;t!==null&&t.tag!==5&&t.tag!==3&&t.tag!==13;)t=t.return;Jn=t}function af(t){if(t!==Jn)return!1;if(!Xe)return LT(t),Xe=!0,!1;var e;if((e=t.tag!==3)&&!(e=t.tag!==5)&&(e=t.type,e=e!=="head"&&e!=="body"&&!J_(t.type,t.memoizedProps)),e&&(e=Yn)){if(tv(t))throw IP(),Error(W(418));for(;e;)SP(t,e),e=Fs(e.nextSibling)}if(LT(t),t.tag===13){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(W(317));e:{for(t=t.nextSibling,e=0;t;){if(t.nodeType===8){var n=t.data;if(n==="/$"){if(e===0){Yn=Fs(t.nextSibling);break e}e--}else n!=="$"&&n!=="$!"&&n!=="$?"||e++}t=t.nextSibling}Yn=null}}else Yn=Jn?Fs(t.stateNode.nextSibling):null;return!0}function IP(){for(var t=Yn;t;)t=Fs(t.nextSibling)}function Nl(){Yn=Jn=null,Xe=!1}function aw(t){xr===null?xr=[t]:xr.push(t)}var hV=ts.ReactCurrentBatchConfig;function Qu(t,e,n){if(t=n.ref,t!==null&&typeof t!="function"&&typeof t!="object"){if(n._owner){if(n=n._owner,n){if(n.tag!==1)throw Error(W(309));var r=n.stateNode}if(!r)throw Error(W(147,t));var i=r,s=""+t;return e!==null&&e.ref!==null&&typeof e.ref=="function"&&e.ref._stringRef===s?e.ref:(e=function(o){var a=i.refs;o===null?delete a[s]:a[s]=o},e._stringRef=s,e)}if(typeof t!="string")throw Error(W(284));if(!n._owner)throw Error(W(290,t))}return t}function lf(t,e){throw t=Object.prototype.toString.call(e),Error(W(31,t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t))}function VT(t){var e=t._init;return e(t._payload)}function TP(t){function e(I,w){if(t){var E=I.deletions;E===null?(I.deletions=[w],I.flags|=16):E.push(w)}}function n(I,w){if(!t)return null;for(;w!==null;)e(I,w),w=w.sibling;return null}function r(I,w){for(I=new Map;w!==null;)w.key!==null?I.set(w.key,w):I.set(w.index,w),w=w.sibling;return I}function i(I,w){return I=zs(I,w),I.index=0,I.sibling=null,I}function s(I,w,E){return I.index=E,t?(E=I.alternate,E!==null?(E=E.index,E<w?(I.flags|=2,w):E):(I.flags|=2,w)):(I.flags|=1048576,w)}function o(I){return t&&I.alternate===null&&(I.flags|=2),I}function a(I,w,E,O){return w===null||w.tag!==6?(w=Yy(E,I.mode,O),w.return=I,w):(w=i(w,E),w.return=I,w)}function l(I,w,E,O){var C=E.type;return C===nl?d(I,w,E.props.children,O,E.key):w!==null&&(w.elementType===C||typeof C=="object"&&C!==null&&C.$$typeof===Ss&&VT(C)===w.type)?(O=i(w,E.props),O.ref=Qu(I,w,E),O.return=I,O):(O=jf(E.type,E.key,E.props,null,I.mode,O),O.ref=Qu(I,w,E),O.return=I,O)}function u(I,w,E,O){return w===null||w.tag!==4||w.stateNode.containerInfo!==E.containerInfo||w.stateNode.implementation!==E.implementation?(w=Qy(E,I.mode,O),w.return=I,w):(w=i(w,E.children||[]),w.return=I,w)}function d(I,w,E,O,C){return w===null||w.tag!==7?(w=Yo(E,I.mode,O,C),w.return=I,w):(w=i(w,E),w.return=I,w)}function h(I,w,E){if(typeof w=="string"&&w!==""||typeof w=="number")return w=Yy(""+w,I.mode,E),w.return=I,w;if(typeof w=="object"&&w!==null){switch(w.$$typeof){case Qh:return E=jf(w.type,w.key,w.props,null,I.mode,E),E.ref=Qu(I,null,w),E.return=I,E;case tl:return w=Qy(w,I.mode,E),w.return=I,w;case Ss:var O=w._init;return h(I,O(w._payload),E)}if(gc(w)||qu(w))return w=Yo(w,I.mode,E,null),w.return=I,w;lf(I,w)}return null}function f(I,w,E,O){var C=w!==null?w.key:null;if(typeof E=="string"&&E!==""||typeof E=="number")return C!==null?null:a(I,w,""+E,O);if(typeof E=="object"&&E!==null){switch(E.$$typeof){case Qh:return E.key===C?l(I,w,E,O):null;case tl:return E.key===C?u(I,w,E,O):null;case Ss:return C=E._init,f(I,w,C(E._payload),O)}if(gc(E)||qu(E))return C!==null?null:d(I,w,E,O,null);lf(I,E)}return null}function g(I,w,E,O,C){if(typeof O=="string"&&O!==""||typeof O=="number")return I=I.get(E)||null,a(w,I,""+O,C);if(typeof O=="object"&&O!==null){switch(O.$$typeof){case Qh:return I=I.get(O.key===null?E:O.key)||null,l(w,I,O,C);case tl:return I=I.get(O.key===null?E:O.key)||null,u(w,I,O,C);case Ss:var N=O._init;return g(I,w,E,N(O._payload),C)}if(gc(O)||qu(O))return I=I.get(E)||null,d(w,I,O,C,null);lf(w,O)}return null}function _(I,w,E,O){for(var C=null,N=null,b=w,S=w=0,m=null;b!==null&&S<E.length;S++){b.index>S?(m=b,b=null):m=b.sibling;var A=f(I,b,E[S],O);if(A===null){b===null&&(b=m);break}t&&b&&A.alternate===null&&e(I,b),w=s(A,w,S),N===null?C=A:N.sibling=A,N=A,b=m}if(S===E.length)return n(I,b),Xe&&ko(I,S),C;if(b===null){for(;S<E.length;S++)b=h(I,E[S],O),b!==null&&(w=s(b,w,S),N===null?C=b:N.sibling=b,N=b);return Xe&&ko(I,S),C}for(b=r(I,b);S<E.length;S++)m=g(b,I,S,E[S],O),m!==null&&(t&&m.alternate!==null&&b.delete(m.key===null?S:m.key),w=s(m,w,S),N===null?C=m:N.sibling=m,N=m);return t&&b.forEach(function(k){return e(I,k)}),Xe&&ko(I,S),C}function v(I,w,E,O){var C=qu(E);if(typeof C!="function")throw Error(W(150));if(E=C.call(E),E==null)throw Error(W(151));for(var N=C=null,b=w,S=w=0,m=null,A=E.next();b!==null&&!A.done;S++,A=E.next()){b.index>S?(m=b,b=null):m=b.sibling;var k=f(I,b,A.value,O);if(k===null){b===null&&(b=m);break}t&&b&&k.alternate===null&&e(I,b),w=s(k,w,S),N===null?C=k:N.sibling=k,N=k,b=m}if(A.done)return n(I,b),Xe&&ko(I,S),C;if(b===null){for(;!A.done;S++,A=E.next())A=h(I,A.value,O),A!==null&&(w=s(A,w,S),N===null?C=A:N.sibling=A,N=A);return Xe&&ko(I,S),C}for(b=r(I,b);!A.done;S++,A=E.next())A=g(b,I,S,A.value,O),A!==null&&(t&&A.alternate!==null&&b.delete(A.key===null?S:A.key),w=s(A,w,S),N===null?C=A:N.sibling=A,N=A);return t&&b.forEach(function(D){return e(I,D)}),Xe&&ko(I,S),C}function T(I,w,E,O){if(typeof E=="object"&&E!==null&&E.type===nl&&E.key===null&&(E=E.props.children),typeof E=="object"&&E!==null){switch(E.$$typeof){case Qh:e:{for(var C=E.key,N=w;N!==null;){if(N.key===C){if(C=E.type,C===nl){if(N.tag===7){n(I,N.sibling),w=i(N,E.props.children),w.return=I,I=w;break e}}else if(N.elementType===C||typeof C=="object"&&C!==null&&C.$$typeof===Ss&&VT(C)===N.type){n(I,N.sibling),w=i(N,E.props),w.ref=Qu(I,N,E),w.return=I,I=w;break e}n(I,N);break}else e(I,N);N=N.sibling}E.type===nl?(w=Yo(E.props.children,I.mode,O,E.key),w.return=I,I=w):(O=jf(E.type,E.key,E.props,null,I.mode,O),O.ref=Qu(I,w,E),O.return=I,I=O)}return o(I);case tl:e:{for(N=E.key;w!==null;){if(w.key===N)if(w.tag===4&&w.stateNode.containerInfo===E.containerInfo&&w.stateNode.implementation===E.implementation){n(I,w.sibling),w=i(w,E.children||[]),w.return=I,I=w;break e}else{n(I,w);break}else e(I,w);w=w.sibling}w=Qy(E,I.mode,O),w.return=I,I=w}return o(I);case Ss:return N=E._init,T(I,w,N(E._payload),O)}if(gc(E))return _(I,w,E,O);if(qu(E))return v(I,w,E,O);lf(I,E)}return typeof E=="string"&&E!==""||typeof E=="number"?(E=""+E,w!==null&&w.tag===6?(n(I,w.sibling),w=i(w,E),w.return=I,I=w):(n(I,w),w=Yy(E,I.mode,O),w.return=I,I=w),o(I)):n(I,w)}return T}var Ml=TP(!0),bP=TP(!1),Pp=co(null),kp=null,cl=null,lw=null;function uw(){lw=cl=kp=null}function cw(t){var e=Pp.current;qe(Pp),t._currentValue=e}function rv(t,e,n){for(;t!==null;){var r=t.alternate;if((t.childLanes&e)!==e?(t.childLanes|=e,r!==null&&(r.childLanes|=e)):r!==null&&(r.childLanes&e)!==e&&(r.childLanes|=e),t===n)break;t=t.return}}function vl(t,e){kp=t,lw=cl=null,t=t.dependencies,t!==null&&t.firstContext!==null&&(t.lanes&e&&(On=!0),t.firstContext=null)}function pr(t){var e=t._currentValue;if(lw!==t)if(t={context:t,memoizedValue:e,next:null},cl===null){if(kp===null)throw Error(W(308));cl=t,kp.dependencies={lanes:0,firstContext:t}}else cl=cl.next=t;return e}var $o=null;function dw(t){$o===null?$o=[t]:$o.push(t)}function RP(t,e,n,r){var i=e.interleaved;return i===null?(n.next=n,dw(e)):(n.next=i.next,i.next=n),e.interleaved=n,Gi(t,r)}function Gi(t,e){t.lanes|=e;var n=t.alternate;for(n!==null&&(n.lanes|=e),n=t,t=t.return;t!==null;)t.childLanes|=e,n=t.alternate,n!==null&&(n.childLanes|=e),n=t,t=t.return;return n.tag===3?n.stateNode:null}var Is=!1;function hw(t){t.updateQueue={baseState:t.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function AP(t,e){t=t.updateQueue,e.updateQueue===t&&(e.updateQueue={baseState:t.baseState,firstBaseUpdate:t.firstBaseUpdate,lastBaseUpdate:t.lastBaseUpdate,shared:t.shared,effects:t.effects})}function $i(t,e){return{eventTime:t,lane:e,tag:0,payload:null,callback:null,next:null}}function Us(t,e,n){var r=t.updateQueue;if(r===null)return null;if(r=r.shared,Ie&2){var i=r.pending;return i===null?e.next=e:(e.next=i.next,i.next=e),r.pending=e,Gi(t,n)}return i=r.interleaved,i===null?(e.next=e,dw(r)):(e.next=i.next,i.next=e),r.interleaved=e,Gi(t,n)}function Vf(t,e,n){if(e=e.updateQueue,e!==null&&(e=e.shared,(n&4194240)!==0)){var r=e.lanes;r&=t.pendingLanes,n|=r,e.lanes=n,J0(t,n)}}function FT(t,e){var n=t.updateQueue,r=t.alternate;if(r!==null&&(r=r.updateQueue,n===r)){var i=null,s=null;if(n=n.firstBaseUpdate,n!==null){do{var o={eventTime:n.eventTime,lane:n.lane,tag:n.tag,payload:n.payload,callback:n.callback,next:null};s===null?i=s=o:s=s.next=o,n=n.next}while(n!==null);s===null?i=s=e:s=s.next=e}else i=s=e;n={baseState:r.baseState,firstBaseUpdate:i,lastBaseUpdate:s,shared:r.shared,effects:r.effects},t.updateQueue=n;return}t=n.lastBaseUpdate,t===null?n.firstBaseUpdate=e:t.next=e,n.lastBaseUpdate=e}function Cp(t,e,n,r){var i=t.updateQueue;Is=!1;var s=i.firstBaseUpdate,o=i.lastBaseUpdate,a=i.shared.pending;if(a!==null){i.shared.pending=null;var l=a,u=l.next;l.next=null,o===null?s=u:o.next=u,o=l;var d=t.alternate;d!==null&&(d=d.updateQueue,a=d.lastBaseUpdate,a!==o&&(a===null?d.firstBaseUpdate=u:a.next=u,d.lastBaseUpdate=l))}if(s!==null){var h=i.baseState;o=0,d=u=l=null,a=s;do{var f=a.lane,g=a.eventTime;if((r&f)===f){d!==null&&(d=d.next={eventTime:g,lane:0,tag:a.tag,payload:a.payload,callback:a.callback,next:null});e:{var _=t,v=a;switch(f=e,g=n,v.tag){case 1:if(_=v.payload,typeof _=="function"){h=_.call(g,h,f);break e}h=_;break e;case 3:_.flags=_.flags&-65537|128;case 0:if(_=v.payload,f=typeof _=="function"?_.call(g,h,f):_,f==null)break e;h=at({},h,f);break e;case 2:Is=!0}}a.callback!==null&&a.lane!==0&&(t.flags|=64,f=i.effects,f===null?i.effects=[a]:f.push(a))}else g={eventTime:g,lane:f,tag:a.tag,payload:a.payload,callback:a.callback,next:null},d===null?(u=d=g,l=h):d=d.next=g,o|=f;if(a=a.next,a===null){if(a=i.shared.pending,a===null)break;f=a,a=f.next,f.next=null,i.lastBaseUpdate=f,i.shared.pending=null}}while(!0);if(d===null&&(l=h),i.baseState=l,i.firstBaseUpdate=u,i.lastBaseUpdate=d,e=i.shared.interleaved,e!==null){i=e;do o|=i.lane,i=i.next;while(i!==e)}else s===null&&(i.shared.lanes=0);ia|=o,t.lanes=o,t.memoizedState=h}}function UT(t,e,n){if(t=e.effects,e.effects=null,t!==null)for(e=0;e<t.length;e++){var r=t[e],i=r.callback;if(i!==null){if(r.callback=null,r=n,typeof i!="function")throw Error(W(191,i));i.call(r)}}}var Yd={},li=co(Yd),ud=co(Yd),cd=co(Yd);function zo(t){if(t===Yd)throw Error(W(174));return t}function fw(t,e){switch(Be(cd,e),Be(ud,t),Be(li,Yd),t=e.nodeType,t){case 9:case 11:e=(e=e.documentElement)?e.namespaceURI:V_(null,"");break;default:t=t===8?e.parentNode:e,e=t.namespaceURI||null,t=t.tagName,e=V_(e,t)}qe(li),Be(li,e)}function Ll(){qe(li),qe(ud),qe(cd)}function PP(t){zo(cd.current);var e=zo(li.current),n=V_(e,t.type);e!==n&&(Be(ud,t),Be(li,n))}function pw(t){ud.current===t&&(qe(li),qe(ud))}var it=co(0);function xp(t){for(var e=t;e!==null;){if(e.tag===13){var n=e.memoizedState;if(n!==null&&(n=n.dehydrated,n===null||n.data==="$?"||n.data==="$!"))return e}else if(e.tag===19&&e.memoizedProps.revealOrder!==void 0){if(e.flags&128)return e}else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return null;e=e.return}e.sibling.return=e.return,e=e.sibling}return null}var jy=[];function mw(){for(var t=0;t<jy.length;t++)jy[t]._workInProgressVersionPrimary=null;jy.length=0}var Ff=ts.ReactCurrentDispatcher,Wy=ts.ReactCurrentBatchConfig,ra=0,st=null,Dt=null,$t=null,Op=!1,Dc=!1,dd=0,fV=0;function sn(){throw Error(W(321))}function gw(t,e){if(e===null)return!1;for(var n=0;n<e.length&&n<t.length;n++)if(!Lr(t[n],e[n]))return!1;return!0}function yw(t,e,n,r,i,s){if(ra=s,st=e,e.memoizedState=null,e.updateQueue=null,e.lanes=0,Ff.current=t===null||t.memoizedState===null?yV:_V,t=n(r,i),Dc){s=0;do{if(Dc=!1,dd=0,25<=s)throw Error(W(301));s+=1,$t=Dt=null,e.updateQueue=null,Ff.current=vV,t=n(r,i)}while(Dc)}if(Ff.current=Dp,e=Dt!==null&&Dt.next!==null,ra=0,$t=Dt=st=null,Op=!1,e)throw Error(W(300));return t}function _w(){var t=dd!==0;return dd=0,t}function Gr(){var t={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return $t===null?st.memoizedState=$t=t:$t=$t.next=t,$t}function mr(){if(Dt===null){var t=st.alternate;t=t!==null?t.memoizedState:null}else t=Dt.next;var e=$t===null?st.memoizedState:$t.next;if(e!==null)$t=e,Dt=t;else{if(t===null)throw Error(W(310));Dt=t,t={memoizedState:Dt.memoizedState,baseState:Dt.baseState,baseQueue:Dt.baseQueue,queue:Dt.queue,next:null},$t===null?st.memoizedState=$t=t:$t=$t.next=t}return $t}function hd(t,e){return typeof e=="function"?e(t):e}function qy(t){var e=mr(),n=e.queue;if(n===null)throw Error(W(311));n.lastRenderedReducer=t;var r=Dt,i=r.baseQueue,s=n.pending;if(s!==null){if(i!==null){var o=i.next;i.next=s.next,s.next=o}r.baseQueue=i=s,n.pending=null}if(i!==null){s=i.next,r=r.baseState;var a=o=null,l=null,u=s;do{var d=u.lane;if((ra&d)===d)l!==null&&(l=l.next={lane:0,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null}),r=u.hasEagerState?u.eagerState:t(r,u.action);else{var h={lane:d,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null};l===null?(a=l=h,o=r):l=l.next=h,st.lanes|=d,ia|=d}u=u.next}while(u!==null&&u!==s);l===null?o=r:l.next=a,Lr(r,e.memoizedState)||(On=!0),e.memoizedState=r,e.baseState=o,e.baseQueue=l,n.lastRenderedState=r}if(t=n.interleaved,t!==null){i=t;do s=i.lane,st.lanes|=s,ia|=s,i=i.next;while(i!==t)}else i===null&&(n.lanes=0);return[e.memoizedState,n.dispatch]}function Hy(t){var e=mr(),n=e.queue;if(n===null)throw Error(W(311));n.lastRenderedReducer=t;var r=n.dispatch,i=n.pending,s=e.memoizedState;if(i!==null){n.pending=null;var o=i=i.next;do s=t(s,o.action),o=o.next;while(o!==i);Lr(s,e.memoizedState)||(On=!0),e.memoizedState=s,e.baseQueue===null&&(e.baseState=s),n.lastRenderedState=s}return[s,r]}function kP(){}function CP(t,e){var n=st,r=mr(),i=e(),s=!Lr(r.memoizedState,i);if(s&&(r.memoizedState=i,On=!0),r=r.queue,vw(DP.bind(null,n,r,t),[t]),r.getSnapshot!==e||s||$t!==null&&$t.memoizedState.tag&1){if(n.flags|=2048,fd(9,OP.bind(null,n,r,i,e),void 0,null),jt===null)throw Error(W(349));ra&30||xP(n,e,i)}return i}function xP(t,e,n){t.flags|=16384,t={getSnapshot:e,value:n},e=st.updateQueue,e===null?(e={lastEffect:null,stores:null},st.updateQueue=e,e.stores=[t]):(n=e.stores,n===null?e.stores=[t]:n.push(t))}function OP(t,e,n,r){e.value=n,e.getSnapshot=r,NP(e)&&MP(t)}function DP(t,e,n){return n(function(){NP(e)&&MP(t)})}function NP(t){var e=t.getSnapshot;t=t.value;try{var n=e();return!Lr(t,n)}catch{return!0}}function MP(t){var e=Gi(t,1);e!==null&&Nr(e,t,1,-1)}function BT(t){var e=Gr();return typeof t=="function"&&(t=t()),e.memoizedState=e.baseState=t,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:hd,lastRenderedState:t},e.queue=t,t=t.dispatch=gV.bind(null,st,t),[e.memoizedState,t]}function fd(t,e,n,r){return t={tag:t,create:e,destroy:n,deps:r,next:null},e=st.updateQueue,e===null?(e={lastEffect:null,stores:null},st.updateQueue=e,e.lastEffect=t.next=t):(n=e.lastEffect,n===null?e.lastEffect=t.next=t:(r=n.next,n.next=t,t.next=r,e.lastEffect=t)),t}function LP(){return mr().memoizedState}function Uf(t,e,n,r){var i=Gr();st.flags|=t,i.memoizedState=fd(1|e,n,void 0,r===void 0?null:r)}function Om(t,e,n,r){var i=mr();r=r===void 0?null:r;var s=void 0;if(Dt!==null){var o=Dt.memoizedState;if(s=o.destroy,r!==null&&gw(r,o.deps)){i.memoizedState=fd(e,n,s,r);return}}st.flags|=t,i.memoizedState=fd(1|e,n,s,r)}function $T(t,e){return Uf(8390656,8,t,e)}function vw(t,e){return Om(2048,8,t,e)}function VP(t,e){return Om(4,2,t,e)}function FP(t,e){return Om(4,4,t,e)}function UP(t,e){if(typeof e=="function")return t=t(),e(t),function(){e(null)};if(e!=null)return t=t(),e.current=t,function(){e.current=null}}function BP(t,e,n){return n=n!=null?n.concat([t]):null,Om(4,4,UP.bind(null,e,t),n)}function ww(){}function $P(t,e){var n=mr();e=e===void 0?null:e;var r=n.memoizedState;return r!==null&&e!==null&&gw(e,r[1])?r[0]:(n.memoizedState=[t,e],t)}function zP(t,e){var n=mr();e=e===void 0?null:e;var r=n.memoizedState;return r!==null&&e!==null&&gw(e,r[1])?r[0]:(t=t(),n.memoizedState=[t,e],t)}function jP(t,e,n){return ra&21?(Lr(n,e)||(n=KA(),st.lanes|=n,ia|=n,t.baseState=!0),e):(t.baseState&&(t.baseState=!1,On=!0),t.memoizedState=n)}function pV(t,e){var n=De;De=n!==0&&4>n?n:4,t(!0);var r=Wy.transition;Wy.transition={};try{t(!1),e()}finally{De=n,Wy.transition=r}}function WP(){return mr().memoizedState}function mV(t,e,n){var r=$s(t);if(n={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null},qP(t))HP(e,n);else if(n=RP(t,e,n,r),n!==null){var i=En();Nr(n,t,r,i),GP(n,e,r)}}function gV(t,e,n){var r=$s(t),i={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null};if(qP(t))HP(e,i);else{var s=t.alternate;if(t.lanes===0&&(s===null||s.lanes===0)&&(s=e.lastRenderedReducer,s!==null))try{var o=e.lastRenderedState,a=s(o,n);if(i.hasEagerState=!0,i.eagerState=a,Lr(a,o)){var l=e.interleaved;l===null?(i.next=i,dw(e)):(i.next=l.next,l.next=i),e.interleaved=i;return}}catch{}finally{}n=RP(t,e,i,r),n!==null&&(i=En(),Nr(n,t,r,i),GP(n,e,r))}}function qP(t){var e=t.alternate;return t===st||e!==null&&e===st}function HP(t,e){Dc=Op=!0;var n=t.pending;n===null?e.next=e:(e.next=n.next,n.next=e),t.pending=e}function GP(t,e,n){if(n&4194240){var r=e.lanes;r&=t.pendingLanes,n|=r,e.lanes=n,J0(t,n)}}var Dp={readContext:pr,useCallback:sn,useContext:sn,useEffect:sn,useImperativeHandle:sn,useInsertionEffect:sn,useLayoutEffect:sn,useMemo:sn,useReducer:sn,useRef:sn,useState:sn,useDebugValue:sn,useDeferredValue:sn,useTransition:sn,useMutableSource:sn,useSyncExternalStore:sn,useId:sn,unstable_isNewReconciler:!1},yV={readContext:pr,useCallback:function(t,e){return Gr().memoizedState=[t,e===void 0?null:e],t},useContext:pr,useEffect:$T,useImperativeHandle:function(t,e,n){return n=n!=null?n.concat([t]):null,Uf(4194308,4,UP.bind(null,e,t),n)},useLayoutEffect:function(t,e){return Uf(4194308,4,t,e)},useInsertionEffect:function(t,e){return Uf(4,2,t,e)},useMemo:function(t,e){var n=Gr();return e=e===void 0?null:e,t=t(),n.memoizedState=[t,e],t},useReducer:function(t,e,n){var r=Gr();return e=n!==void 0?n(e):e,r.memoizedState=r.baseState=e,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:t,lastRenderedState:e},r.queue=t,t=t.dispatch=mV.bind(null,st,t),[r.memoizedState,t]},useRef:function(t){var e=Gr();return t={current:t},e.memoizedState=t},useState:BT,useDebugValue:ww,useDeferredValue:function(t){return Gr().memoizedState=t},useTransition:function(){var t=BT(!1),e=t[0];return t=pV.bind(null,t[1]),Gr().memoizedState=t,[e,t]},useMutableSource:function(){},useSyncExternalStore:function(t,e,n){var r=st,i=Gr();if(Xe){if(n===void 0)throw Error(W(407));n=n()}else{if(n=e(),jt===null)throw Error(W(349));ra&30||xP(r,e,n)}i.memoizedState=n;var s={value:n,getSnapshot:e};return i.queue=s,$T(DP.bind(null,r,s,t),[t]),r.flags|=2048,fd(9,OP.bind(null,r,s,n,e),void 0,null),n},useId:function(){var t=Gr(),e=jt.identifierPrefix;if(Xe){var n=Ni,r=Di;n=(r&~(1<<32-Dr(r)-1)).toString(32)+n,e=":"+e+"R"+n,n=dd++,0<n&&(e+="H"+n.toString(32)),e+=":"}else n=fV++,e=":"+e+"r"+n.toString(32)+":";return t.memoizedState=e},unstable_isNewReconciler:!1},_V={readContext:pr,useCallback:$P,useContext:pr,useEffect:vw,useImperativeHandle:BP,useInsertionEffect:VP,useLayoutEffect:FP,useMemo:zP,useReducer:qy,useRef:LP,useState:function(){return qy(hd)},useDebugValue:ww,useDeferredValue:function(t){var e=mr();return jP(e,Dt.memoizedState,t)},useTransition:function(){var t=qy(hd)[0],e=mr().memoizedState;return[t,e]},useMutableSource:kP,useSyncExternalStore:CP,useId:WP,unstable_isNewReconciler:!1},vV={readContext:pr,useCallback:$P,useContext:pr,useEffect:vw,useImperativeHandle:BP,useInsertionEffect:VP,useLayoutEffect:FP,useMemo:zP,useReducer:Hy,useRef:LP,useState:function(){return Hy(hd)},useDebugValue:ww,useDeferredValue:function(t){var e=mr();return Dt===null?e.memoizedState=t:jP(e,Dt.memoizedState,t)},useTransition:function(){var t=Hy(hd)[0],e=mr().memoizedState;return[t,e]},useMutableSource:kP,useSyncExternalStore:CP,useId:WP,unstable_isNewReconciler:!1};function kr(t,e){if(t&&t.defaultProps){e=at({},e),t=t.defaultProps;for(var n in t)e[n]===void 0&&(e[n]=t[n]);return e}return e}function iv(t,e,n,r){e=t.memoizedState,n=n(r,e),n=n==null?e:at({},e,n),t.memoizedState=n,t.lanes===0&&(t.updateQueue.baseState=n)}var Dm={isMounted:function(t){return(t=t._reactInternals)?wa(t)===t:!1},enqueueSetState:function(t,e,n){t=t._reactInternals;var r=En(),i=$s(t),s=$i(r,i);s.payload=e,n!=null&&(s.callback=n),e=Us(t,s,i),e!==null&&(Nr(e,t,i,r),Vf(e,t,i))},enqueueReplaceState:function(t,e,n){t=t._reactInternals;var r=En(),i=$s(t),s=$i(r,i);s.tag=1,s.payload=e,n!=null&&(s.callback=n),e=Us(t,s,i),e!==null&&(Nr(e,t,i,r),Vf(e,t,i))},enqueueForceUpdate:function(t,e){t=t._reactInternals;var n=En(),r=$s(t),i=$i(n,r);i.tag=2,e!=null&&(i.callback=e),e=Us(t,i,r),e!==null&&(Nr(e,t,r,n),Vf(e,t,r))}};function zT(t,e,n,r,i,s,o){return t=t.stateNode,typeof t.shouldComponentUpdate=="function"?t.shouldComponentUpdate(r,s,o):e.prototype&&e.prototype.isPureReactComponent?!sd(n,r)||!sd(i,s):!0}function KP(t,e,n){var r=!1,i=Ks,s=e.contextType;return typeof s=="object"&&s!==null?s=pr(s):(i=Vn(e)?ta:fn.current,r=e.contextTypes,s=(r=r!=null)?Dl(t,i):Ks),e=new e(n,s),t.memoizedState=e.state!==null&&e.state!==void 0?e.state:null,e.updater=Dm,t.stateNode=e,e._reactInternals=t,r&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=i,t.__reactInternalMemoizedMaskedChildContext=s),e}function jT(t,e,n,r){t=e.state,typeof e.componentWillReceiveProps=="function"&&e.componentWillReceiveProps(n,r),typeof e.UNSAFE_componentWillReceiveProps=="function"&&e.UNSAFE_componentWillReceiveProps(n,r),e.state!==t&&Dm.enqueueReplaceState(e,e.state,null)}function sv(t,e,n,r){var i=t.stateNode;i.props=n,i.state=t.memoizedState,i.refs={},hw(t);var s=e.contextType;typeof s=="object"&&s!==null?i.context=pr(s):(s=Vn(e)?ta:fn.current,i.context=Dl(t,s)),i.state=t.memoizedState,s=e.getDerivedStateFromProps,typeof s=="function"&&(iv(t,e,s,n),i.state=t.memoizedState),typeof e.getDerivedStateFromProps=="function"||typeof i.getSnapshotBeforeUpdate=="function"||typeof i.UNSAFE_componentWillMount!="function"&&typeof i.componentWillMount!="function"||(e=i.state,typeof i.componentWillMount=="function"&&i.componentWillMount(),typeof i.UNSAFE_componentWillMount=="function"&&i.UNSAFE_componentWillMount(),e!==i.state&&Dm.enqueueReplaceState(i,i.state,null),Cp(t,n,i,r),i.state=t.memoizedState),typeof i.componentDidMount=="function"&&(t.flags|=4194308)}function Vl(t,e){try{var n="",r=e;do n+=GM(r),r=r.return;while(r);var i=n}catch(s){i=`
Error generating stack: `+s.message+`
`+s.stack}return{value:t,source:e,stack:i,digest:null}}function Gy(t,e,n){return{value:t,source:null,stack:n??null,digest:e??null}}function ov(t,e){try{console.error(e.value)}catch(n){setTimeout(function(){throw n})}}var wV=typeof WeakMap=="function"?WeakMap:Map;function YP(t,e,n){n=$i(-1,n),n.tag=3,n.payload={element:null};var r=e.value;return n.callback=function(){Mp||(Mp=!0,gv=r),ov(t,e)},n}function QP(t,e,n){n=$i(-1,n),n.tag=3;var r=t.type.getDerivedStateFromError;if(typeof r=="function"){var i=e.value;n.payload=function(){return r(i)},n.callback=function(){ov(t,e)}}var s=t.stateNode;return s!==null&&typeof s.componentDidCatch=="function"&&(n.callback=function(){ov(t,e),typeof r!="function"&&(Bs===null?Bs=new Set([this]):Bs.add(this));var o=e.stack;this.componentDidCatch(e.value,{componentStack:o!==null?o:""})}),n}function WT(t,e,n){var r=t.pingCache;if(r===null){r=t.pingCache=new wV;var i=new Set;r.set(e,i)}else i=r.get(e),i===void 0&&(i=new Set,r.set(e,i));i.has(n)||(i.add(n),t=NV.bind(null,t,e,n),e.then(t,t))}function qT(t){do{var e;if((e=t.tag===13)&&(e=t.memoizedState,e=e!==null?e.dehydrated!==null:!0),e)return t;t=t.return}while(t!==null);return null}function HT(t,e,n,r,i){return t.mode&1?(t.flags|=65536,t.lanes=i,t):(t===e?t.flags|=65536:(t.flags|=128,n.flags|=131072,n.flags&=-52805,n.tag===1&&(n.alternate===null?n.tag=17:(e=$i(-1,1),e.tag=2,Us(n,e,1))),n.lanes|=1),t)}var EV=ts.ReactCurrentOwner,On=!1;function _n(t,e,n,r){e.child=t===null?bP(e,null,n,r):Ml(e,t.child,n,r)}function GT(t,e,n,r,i){n=n.render;var s=e.ref;return vl(e,i),r=yw(t,e,n,r,s,i),n=_w(),t!==null&&!On?(e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~i,Ki(t,e,i)):(Xe&&n&&sw(e),e.flags|=1,_n(t,e,r,i),e.child)}function KT(t,e,n,r,i){if(t===null){var s=n.type;return typeof s=="function"&&!Pw(s)&&s.defaultProps===void 0&&n.compare===null&&n.defaultProps===void 0?(e.tag=15,e.type=s,JP(t,e,s,r,i)):(t=jf(n.type,null,r,e,e.mode,i),t.ref=e.ref,t.return=e,e.child=t)}if(s=t.child,!(t.lanes&i)){var o=s.memoizedProps;if(n=n.compare,n=n!==null?n:sd,n(o,r)&&t.ref===e.ref)return Ki(t,e,i)}return e.flags|=1,t=zs(s,r),t.ref=e.ref,t.return=e,e.child=t}function JP(t,e,n,r,i){if(t!==null){var s=t.memoizedProps;if(sd(s,r)&&t.ref===e.ref)if(On=!1,e.pendingProps=r=s,(t.lanes&i)!==0)t.flags&131072&&(On=!0);else return e.lanes=t.lanes,Ki(t,e,i)}return av(t,e,n,r,i)}function XP(t,e,n){var r=e.pendingProps,i=r.children,s=t!==null?t.memoizedState:null;if(r.mode==="hidden")if(!(e.mode&1))e.memoizedState={baseLanes:0,cachePool:null,transitions:null},Be(hl,qn),qn|=n;else{if(!(n&1073741824))return t=s!==null?s.baseLanes|n:n,e.lanes=e.childLanes=1073741824,e.memoizedState={baseLanes:t,cachePool:null,transitions:null},e.updateQueue=null,Be(hl,qn),qn|=t,null;e.memoizedState={baseLanes:0,cachePool:null,transitions:null},r=s!==null?s.baseLanes:n,Be(hl,qn),qn|=r}else s!==null?(r=s.baseLanes|n,e.memoizedState=null):r=n,Be(hl,qn),qn|=r;return _n(t,e,i,n),e.child}function ZP(t,e){var n=e.ref;(t===null&&n!==null||t!==null&&t.ref!==n)&&(e.flags|=512,e.flags|=2097152)}function av(t,e,n,r,i){var s=Vn(n)?ta:fn.current;return s=Dl(e,s),vl(e,i),n=yw(t,e,n,r,s,i),r=_w(),t!==null&&!On?(e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~i,Ki(t,e,i)):(Xe&&r&&sw(e),e.flags|=1,_n(t,e,n,i),e.child)}function YT(t,e,n,r,i){if(Vn(n)){var s=!0;bp(e)}else s=!1;if(vl(e,i),e.stateNode===null)Bf(t,e),KP(e,n,r),sv(e,n,r,i),r=!0;else if(t===null){var o=e.stateNode,a=e.memoizedProps;o.props=a;var l=o.context,u=n.contextType;typeof u=="object"&&u!==null?u=pr(u):(u=Vn(n)?ta:fn.current,u=Dl(e,u));var d=n.getDerivedStateFromProps,h=typeof d=="function"||typeof o.getSnapshotBeforeUpdate=="function";h||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(a!==r||l!==u)&&jT(e,o,r,u),Is=!1;var f=e.memoizedState;o.state=f,Cp(e,r,o,i),l=e.memoizedState,a!==r||f!==l||Ln.current||Is?(typeof d=="function"&&(iv(e,n,d,r),l=e.memoizedState),(a=Is||zT(e,n,a,r,f,l,u))?(h||typeof o.UNSAFE_componentWillMount!="function"&&typeof o.componentWillMount!="function"||(typeof o.componentWillMount=="function"&&o.componentWillMount(),typeof o.UNSAFE_componentWillMount=="function"&&o.UNSAFE_componentWillMount()),typeof o.componentDidMount=="function"&&(e.flags|=4194308)):(typeof o.componentDidMount=="function"&&(e.flags|=4194308),e.memoizedProps=r,e.memoizedState=l),o.props=r,o.state=l,o.context=u,r=a):(typeof o.componentDidMount=="function"&&(e.flags|=4194308),r=!1)}else{o=e.stateNode,AP(t,e),a=e.memoizedProps,u=e.type===e.elementType?a:kr(e.type,a),o.props=u,h=e.pendingProps,f=o.context,l=n.contextType,typeof l=="object"&&l!==null?l=pr(l):(l=Vn(n)?ta:fn.current,l=Dl(e,l));var g=n.getDerivedStateFromProps;(d=typeof g=="function"||typeof o.getSnapshotBeforeUpdate=="function")||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(a!==h||f!==l)&&jT(e,o,r,l),Is=!1,f=e.memoizedState,o.state=f,Cp(e,r,o,i);var _=e.memoizedState;a!==h||f!==_||Ln.current||Is?(typeof g=="function"&&(iv(e,n,g,r),_=e.memoizedState),(u=Is||zT(e,n,u,r,f,_,l)||!1)?(d||typeof o.UNSAFE_componentWillUpdate!="function"&&typeof o.componentWillUpdate!="function"||(typeof o.componentWillUpdate=="function"&&o.componentWillUpdate(r,_,l),typeof o.UNSAFE_componentWillUpdate=="function"&&o.UNSAFE_componentWillUpdate(r,_,l)),typeof o.componentDidUpdate=="function"&&(e.flags|=4),typeof o.getSnapshotBeforeUpdate=="function"&&(e.flags|=1024)):(typeof o.componentDidUpdate!="function"||a===t.memoizedProps&&f===t.memoizedState||(e.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||a===t.memoizedProps&&f===t.memoizedState||(e.flags|=1024),e.memoizedProps=r,e.memoizedState=_),o.props=r,o.state=_,o.context=l,r=u):(typeof o.componentDidUpdate!="function"||a===t.memoizedProps&&f===t.memoizedState||(e.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||a===t.memoizedProps&&f===t.memoizedState||(e.flags|=1024),r=!1)}return lv(t,e,n,r,s,i)}function lv(t,e,n,r,i,s){ZP(t,e);var o=(e.flags&128)!==0;if(!r&&!o)return i&&NT(e,n,!1),Ki(t,e,s);r=e.stateNode,EV.current=e;var a=o&&typeof n.getDerivedStateFromError!="function"?null:r.render();return e.flags|=1,t!==null&&o?(e.child=Ml(e,t.child,null,s),e.child=Ml(e,null,a,s)):_n(t,e,a,s),e.memoizedState=r.state,i&&NT(e,n,!0),e.child}function ek(t){var e=t.stateNode;e.pendingContext?DT(t,e.pendingContext,e.pendingContext!==e.context):e.context&&DT(t,e.context,!1),fw(t,e.containerInfo)}function QT(t,e,n,r,i){return Nl(),aw(i),e.flags|=256,_n(t,e,n,r),e.child}var uv={dehydrated:null,treeContext:null,retryLane:0};function cv(t){return{baseLanes:t,cachePool:null,transitions:null}}function tk(t,e,n){var r=e.pendingProps,i=it.current,s=!1,o=(e.flags&128)!==0,a;if((a=o)||(a=t!==null&&t.memoizedState===null?!1:(i&2)!==0),a?(s=!0,e.flags&=-129):(t===null||t.memoizedState!==null)&&(i|=1),Be(it,i&1),t===null)return nv(e),t=e.memoizedState,t!==null&&(t=t.dehydrated,t!==null)?(e.mode&1?t.data==="$!"?e.lanes=8:e.lanes=1073741824:e.lanes=1,null):(o=r.children,t=r.fallback,s?(r=e.mode,s=e.child,o={mode:"hidden",children:o},!(r&1)&&s!==null?(s.childLanes=0,s.pendingProps=o):s=Lm(o,r,0,null),t=Yo(t,r,n,null),s.return=e,t.return=e,s.sibling=t,e.child=s,e.child.memoizedState=cv(n),e.memoizedState=uv,t):Ew(e,o));if(i=t.memoizedState,i!==null&&(a=i.dehydrated,a!==null))return SV(t,e,o,r,a,i,n);if(s){s=r.fallback,o=e.mode,i=t.child,a=i.sibling;var l={mode:"hidden",children:r.children};return!(o&1)&&e.child!==i?(r=e.child,r.childLanes=0,r.pendingProps=l,e.deletions=null):(r=zs(i,l),r.subtreeFlags=i.subtreeFlags&14680064),a!==null?s=zs(a,s):(s=Yo(s,o,n,null),s.flags|=2),s.return=e,r.return=e,r.sibling=s,e.child=r,r=s,s=e.child,o=t.child.memoizedState,o=o===null?cv(n):{baseLanes:o.baseLanes|n,cachePool:null,transitions:o.transitions},s.memoizedState=o,s.childLanes=t.childLanes&~n,e.memoizedState=uv,r}return s=t.child,t=s.sibling,r=zs(s,{mode:"visible",children:r.children}),!(e.mode&1)&&(r.lanes=n),r.return=e,r.sibling=null,t!==null&&(n=e.deletions,n===null?(e.deletions=[t],e.flags|=16):n.push(t)),e.child=r,e.memoizedState=null,r}function Ew(t,e){return e=Lm({mode:"visible",children:e},t.mode,0,null),e.return=t,t.child=e}function uf(t,e,n,r){return r!==null&&aw(r),Ml(e,t.child,null,n),t=Ew(e,e.pendingProps.children),t.flags|=2,e.memoizedState=null,t}function SV(t,e,n,r,i,s,o){if(n)return e.flags&256?(e.flags&=-257,r=Gy(Error(W(422))),uf(t,e,o,r)):e.memoizedState!==null?(e.child=t.child,e.flags|=128,null):(s=r.fallback,i=e.mode,r=Lm({mode:"visible",children:r.children},i,0,null),s=Yo(s,i,o,null),s.flags|=2,r.return=e,s.return=e,r.sibling=s,e.child=r,e.mode&1&&Ml(e,t.child,null,o),e.child.memoizedState=cv(o),e.memoizedState=uv,s);if(!(e.mode&1))return uf(t,e,o,null);if(i.data==="$!"){if(r=i.nextSibling&&i.nextSibling.dataset,r)var a=r.dgst;return r=a,s=Error(W(419)),r=Gy(s,r,void 0),uf(t,e,o,r)}if(a=(o&t.childLanes)!==0,On||a){if(r=jt,r!==null){switch(o&-o){case 4:i=2;break;case 16:i=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:i=32;break;case 536870912:i=268435456;break;default:i=0}i=i&(r.suspendedLanes|o)?0:i,i!==0&&i!==s.retryLane&&(s.retryLane=i,Gi(t,i),Nr(r,t,i,-1))}return Aw(),r=Gy(Error(W(421))),uf(t,e,o,r)}return i.data==="$?"?(e.flags|=128,e.child=t.child,e=MV.bind(null,t),i._reactRetry=e,null):(t=s.treeContext,Yn=Fs(i.nextSibling),Jn=e,Xe=!0,xr=null,t!==null&&(or[ar++]=Di,or[ar++]=Ni,or[ar++]=na,Di=t.id,Ni=t.overflow,na=e),e=Ew(e,r.children),e.flags|=4096,e)}function JT(t,e,n){t.lanes|=e;var r=t.alternate;r!==null&&(r.lanes|=e),rv(t.return,e,n)}function Ky(t,e,n,r,i){var s=t.memoizedState;s===null?t.memoizedState={isBackwards:e,rendering:null,renderingStartTime:0,last:r,tail:n,tailMode:i}:(s.isBackwards=e,s.rendering=null,s.renderingStartTime=0,s.last=r,s.tail=n,s.tailMode=i)}function nk(t,e,n){var r=e.pendingProps,i=r.revealOrder,s=r.tail;if(_n(t,e,r.children,n),r=it.current,r&2)r=r&1|2,e.flags|=128;else{if(t!==null&&t.flags&128)e:for(t=e.child;t!==null;){if(t.tag===13)t.memoizedState!==null&&JT(t,n,e);else if(t.tag===19)JT(t,n,e);else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break e;for(;t.sibling===null;){if(t.return===null||t.return===e)break e;t=t.return}t.sibling.return=t.return,t=t.sibling}r&=1}if(Be(it,r),!(e.mode&1))e.memoizedState=null;else switch(i){case"forwards":for(n=e.child,i=null;n!==null;)t=n.alternate,t!==null&&xp(t)===null&&(i=n),n=n.sibling;n=i,n===null?(i=e.child,e.child=null):(i=n.sibling,n.sibling=null),Ky(e,!1,i,n,s);break;case"backwards":for(n=null,i=e.child,e.child=null;i!==null;){if(t=i.alternate,t!==null&&xp(t)===null){e.child=i;break}t=i.sibling,i.sibling=n,n=i,i=t}Ky(e,!0,n,null,s);break;case"together":Ky(e,!1,null,null,void 0);break;default:e.memoizedState=null}return e.child}function Bf(t,e){!(e.mode&1)&&t!==null&&(t.alternate=null,e.alternate=null,e.flags|=2)}function Ki(t,e,n){if(t!==null&&(e.dependencies=t.dependencies),ia|=e.lanes,!(n&e.childLanes))return null;if(t!==null&&e.child!==t.child)throw Error(W(153));if(e.child!==null){for(t=e.child,n=zs(t,t.pendingProps),e.child=n,n.return=e;t.sibling!==null;)t=t.sibling,n=n.sibling=zs(t,t.pendingProps),n.return=e;n.sibling=null}return e.child}function IV(t,e,n){switch(e.tag){case 3:ek(e),Nl();break;case 5:PP(e);break;case 1:Vn(e.type)&&bp(e);break;case 4:fw(e,e.stateNode.containerInfo);break;case 10:var r=e.type._context,i=e.memoizedProps.value;Be(Pp,r._currentValue),r._currentValue=i;break;case 13:if(r=e.memoizedState,r!==null)return r.dehydrated!==null?(Be(it,it.current&1),e.flags|=128,null):n&e.child.childLanes?tk(t,e,n):(Be(it,it.current&1),t=Ki(t,e,n),t!==null?t.sibling:null);Be(it,it.current&1);break;case 19:if(r=(n&e.childLanes)!==0,t.flags&128){if(r)return nk(t,e,n);e.flags|=128}if(i=e.memoizedState,i!==null&&(i.rendering=null,i.tail=null,i.lastEffect=null),Be(it,it.current),r)break;return null;case 22:case 23:return e.lanes=0,XP(t,e,n)}return Ki(t,e,n)}var rk,dv,ik,sk;rk=function(t,e){for(var n=e.child;n!==null;){if(n.tag===5||n.tag===6)t.appendChild(n.stateNode);else if(n.tag!==4&&n.child!==null){n.child.return=n,n=n.child;continue}if(n===e)break;for(;n.sibling===null;){if(n.return===null||n.return===e)return;n=n.return}n.sibling.return=n.return,n=n.sibling}};dv=function(){};ik=function(t,e,n,r){var i=t.memoizedProps;if(i!==r){t=e.stateNode,zo(li.current);var s=null;switch(n){case"input":i=D_(t,i),r=D_(t,r),s=[];break;case"select":i=at({},i,{value:void 0}),r=at({},r,{value:void 0}),s=[];break;case"textarea":i=L_(t,i),r=L_(t,r),s=[];break;default:typeof i.onClick!="function"&&typeof r.onClick=="function"&&(t.onclick=Ip)}F_(n,r);var o;n=null;for(u in i)if(!r.hasOwnProperty(u)&&i.hasOwnProperty(u)&&i[u]!=null)if(u==="style"){var a=i[u];for(o in a)a.hasOwnProperty(o)&&(n||(n={}),n[o]="")}else u!=="dangerouslySetInnerHTML"&&u!=="children"&&u!=="suppressContentEditableWarning"&&u!=="suppressHydrationWarning"&&u!=="autoFocus"&&(Xc.hasOwnProperty(u)?s||(s=[]):(s=s||[]).push(u,null));for(u in r){var l=r[u];if(a=i!=null?i[u]:void 0,r.hasOwnProperty(u)&&l!==a&&(l!=null||a!=null))if(u==="style")if(a){for(o in a)!a.hasOwnProperty(o)||l&&l.hasOwnProperty(o)||(n||(n={}),n[o]="");for(o in l)l.hasOwnProperty(o)&&a[o]!==l[o]&&(n||(n={}),n[o]=l[o])}else n||(s||(s=[]),s.push(u,n)),n=l;else u==="dangerouslySetInnerHTML"?(l=l?l.__html:void 0,a=a?a.__html:void 0,l!=null&&a!==l&&(s=s||[]).push(u,l)):u==="children"?typeof l!="string"&&typeof l!="number"||(s=s||[]).push(u,""+l):u!=="suppressContentEditableWarning"&&u!=="suppressHydrationWarning"&&(Xc.hasOwnProperty(u)?(l!=null&&u==="onScroll"&&je("scroll",t),s||a===l||(s=[])):(s=s||[]).push(u,l))}n&&(s=s||[]).push("style",n);var u=s;(e.updateQueue=u)&&(e.flags|=4)}};sk=function(t,e,n,r){n!==r&&(e.flags|=4)};function Ju(t,e){if(!Xe)switch(t.tailMode){case"hidden":e=t.tail;for(var n=null;e!==null;)e.alternate!==null&&(n=e),e=e.sibling;n===null?t.tail=null:n.sibling=null;break;case"collapsed":n=t.tail;for(var r=null;n!==null;)n.alternate!==null&&(r=n),n=n.sibling;r===null?e||t.tail===null?t.tail=null:t.tail.sibling=null:r.sibling=null}}function on(t){var e=t.alternate!==null&&t.alternate.child===t.child,n=0,r=0;if(e)for(var i=t.child;i!==null;)n|=i.lanes|i.childLanes,r|=i.subtreeFlags&14680064,r|=i.flags&14680064,i.return=t,i=i.sibling;else for(i=t.child;i!==null;)n|=i.lanes|i.childLanes,r|=i.subtreeFlags,r|=i.flags,i.return=t,i=i.sibling;return t.subtreeFlags|=r,t.childLanes=n,e}function TV(t,e,n){var r=e.pendingProps;switch(ow(e),e.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return on(e),null;case 1:return Vn(e.type)&&Tp(),on(e),null;case 3:return r=e.stateNode,Ll(),qe(Ln),qe(fn),mw(),r.pendingContext&&(r.context=r.pendingContext,r.pendingContext=null),(t===null||t.child===null)&&(af(e)?e.flags|=4:t===null||t.memoizedState.isDehydrated&&!(e.flags&256)||(e.flags|=1024,xr!==null&&(vv(xr),xr=null))),dv(t,e),on(e),null;case 5:pw(e);var i=zo(cd.current);if(n=e.type,t!==null&&e.stateNode!=null)ik(t,e,n,r,i),t.ref!==e.ref&&(e.flags|=512,e.flags|=2097152);else{if(!r){if(e.stateNode===null)throw Error(W(166));return on(e),null}if(t=zo(li.current),af(e)){r=e.stateNode,n=e.type;var s=e.memoizedProps;switch(r[Qr]=e,r[ld]=s,t=(e.mode&1)!==0,n){case"dialog":je("cancel",r),je("close",r);break;case"iframe":case"object":case"embed":je("load",r);break;case"video":case"audio":for(i=0;i<_c.length;i++)je(_c[i],r);break;case"source":je("error",r);break;case"img":case"image":case"link":je("error",r),je("load",r);break;case"details":je("toggle",r);break;case"input":oT(r,s),je("invalid",r);break;case"select":r._wrapperState={wasMultiple:!!s.multiple},je("invalid",r);break;case"textarea":lT(r,s),je("invalid",r)}F_(n,s),i=null;for(var o in s)if(s.hasOwnProperty(o)){var a=s[o];o==="children"?typeof a=="string"?r.textContent!==a&&(s.suppressHydrationWarning!==!0&&of(r.textContent,a,t),i=["children",a]):typeof a=="number"&&r.textContent!==""+a&&(s.suppressHydrationWarning!==!0&&of(r.textContent,a,t),i=["children",""+a]):Xc.hasOwnProperty(o)&&a!=null&&o==="onScroll"&&je("scroll",r)}switch(n){case"input":Jh(r),aT(r,s,!0);break;case"textarea":Jh(r),uT(r);break;case"select":case"option":break;default:typeof s.onClick=="function"&&(r.onclick=Ip)}r=i,e.updateQueue=r,r!==null&&(e.flags|=4)}else{o=i.nodeType===9?i:i.ownerDocument,t==="http://www.w3.org/1999/xhtml"&&(t=DA(n)),t==="http://www.w3.org/1999/xhtml"?n==="script"?(t=o.createElement("div"),t.innerHTML="<script><\/script>",t=t.removeChild(t.firstChild)):typeof r.is=="string"?t=o.createElement(n,{is:r.is}):(t=o.createElement(n),n==="select"&&(o=t,r.multiple?o.multiple=!0:r.size&&(o.size=r.size))):t=o.createElementNS(t,n),t[Qr]=e,t[ld]=r,rk(t,e,!1,!1),e.stateNode=t;e:{switch(o=U_(n,r),n){case"dialog":je("cancel",t),je("close",t),i=r;break;case"iframe":case"object":case"embed":je("load",t),i=r;break;case"video":case"audio":for(i=0;i<_c.length;i++)je(_c[i],t);i=r;break;case"source":je("error",t),i=r;break;case"img":case"image":case"link":je("error",t),je("load",t),i=r;break;case"details":je("toggle",t),i=r;break;case"input":oT(t,r),i=D_(t,r),je("invalid",t);break;case"option":i=r;break;case"select":t._wrapperState={wasMultiple:!!r.multiple},i=at({},r,{value:void 0}),je("invalid",t);break;case"textarea":lT(t,r),i=L_(t,r),je("invalid",t);break;default:i=r}F_(n,i),a=i;for(s in a)if(a.hasOwnProperty(s)){var l=a[s];s==="style"?LA(t,l):s==="dangerouslySetInnerHTML"?(l=l?l.__html:void 0,l!=null&&NA(t,l)):s==="children"?typeof l=="string"?(n!=="textarea"||l!=="")&&Zc(t,l):typeof l=="number"&&Zc(t,""+l):s!=="suppressContentEditableWarning"&&s!=="suppressHydrationWarning"&&s!=="autoFocus"&&(Xc.hasOwnProperty(s)?l!=null&&s==="onScroll"&&je("scroll",t):l!=null&&q0(t,s,l,o))}switch(n){case"input":Jh(t),aT(t,r,!1);break;case"textarea":Jh(t),uT(t);break;case"option":r.value!=null&&t.setAttribute("value",""+Gs(r.value));break;case"select":t.multiple=!!r.multiple,s=r.value,s!=null?ml(t,!!r.multiple,s,!1):r.defaultValue!=null&&ml(t,!!r.multiple,r.defaultValue,!0);break;default:typeof i.onClick=="function"&&(t.onclick=Ip)}switch(n){case"button":case"input":case"select":case"textarea":r=!!r.autoFocus;break e;case"img":r=!0;break e;default:r=!1}}r&&(e.flags|=4)}e.ref!==null&&(e.flags|=512,e.flags|=2097152)}return on(e),null;case 6:if(t&&e.stateNode!=null)sk(t,e,t.memoizedProps,r);else{if(typeof r!="string"&&e.stateNode===null)throw Error(W(166));if(n=zo(cd.current),zo(li.current),af(e)){if(r=e.stateNode,n=e.memoizedProps,r[Qr]=e,(s=r.nodeValue!==n)&&(t=Jn,t!==null))switch(t.tag){case 3:of(r.nodeValue,n,(t.mode&1)!==0);break;case 5:t.memoizedProps.suppressHydrationWarning!==!0&&of(r.nodeValue,n,(t.mode&1)!==0)}s&&(e.flags|=4)}else r=(n.nodeType===9?n:n.ownerDocument).createTextNode(r),r[Qr]=e,e.stateNode=r}return on(e),null;case 13:if(qe(it),r=e.memoizedState,t===null||t.memoizedState!==null&&t.memoizedState.dehydrated!==null){if(Xe&&Yn!==null&&e.mode&1&&!(e.flags&128))IP(),Nl(),e.flags|=98560,s=!1;else if(s=af(e),r!==null&&r.dehydrated!==null){if(t===null){if(!s)throw Error(W(318));if(s=e.memoizedState,s=s!==null?s.dehydrated:null,!s)throw Error(W(317));s[Qr]=e}else Nl(),!(e.flags&128)&&(e.memoizedState=null),e.flags|=4;on(e),s=!1}else xr!==null&&(vv(xr),xr=null),s=!0;if(!s)return e.flags&65536?e:null}return e.flags&128?(e.lanes=n,e):(r=r!==null,r!==(t!==null&&t.memoizedState!==null)&&r&&(e.child.flags|=8192,e.mode&1&&(t===null||it.current&1?Nt===0&&(Nt=3):Aw())),e.updateQueue!==null&&(e.flags|=4),on(e),null);case 4:return Ll(),dv(t,e),t===null&&od(e.stateNode.containerInfo),on(e),null;case 10:return cw(e.type._context),on(e),null;case 17:return Vn(e.type)&&Tp(),on(e),null;case 19:if(qe(it),s=e.memoizedState,s===null)return on(e),null;if(r=(e.flags&128)!==0,o=s.rendering,o===null)if(r)Ju(s,!1);else{if(Nt!==0||t!==null&&t.flags&128)for(t=e.child;t!==null;){if(o=xp(t),o!==null){for(e.flags|=128,Ju(s,!1),r=o.updateQueue,r!==null&&(e.updateQueue=r,e.flags|=4),e.subtreeFlags=0,r=n,n=e.child;n!==null;)s=n,t=r,s.flags&=14680066,o=s.alternate,o===null?(s.childLanes=0,s.lanes=t,s.child=null,s.subtreeFlags=0,s.memoizedProps=null,s.memoizedState=null,s.updateQueue=null,s.dependencies=null,s.stateNode=null):(s.childLanes=o.childLanes,s.lanes=o.lanes,s.child=o.child,s.subtreeFlags=0,s.deletions=null,s.memoizedProps=o.memoizedProps,s.memoizedState=o.memoizedState,s.updateQueue=o.updateQueue,s.type=o.type,t=o.dependencies,s.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext}),n=n.sibling;return Be(it,it.current&1|2),e.child}t=t.sibling}s.tail!==null&&St()>Fl&&(e.flags|=128,r=!0,Ju(s,!1),e.lanes=4194304)}else{if(!r)if(t=xp(o),t!==null){if(e.flags|=128,r=!0,n=t.updateQueue,n!==null&&(e.updateQueue=n,e.flags|=4),Ju(s,!0),s.tail===null&&s.tailMode==="hidden"&&!o.alternate&&!Xe)return on(e),null}else 2*St()-s.renderingStartTime>Fl&&n!==1073741824&&(e.flags|=128,r=!0,Ju(s,!1),e.lanes=4194304);s.isBackwards?(o.sibling=e.child,e.child=o):(n=s.last,n!==null?n.sibling=o:e.child=o,s.last=o)}return s.tail!==null?(e=s.tail,s.rendering=e,s.tail=e.sibling,s.renderingStartTime=St(),e.sibling=null,n=it.current,Be(it,r?n&1|2:n&1),e):(on(e),null);case 22:case 23:return Rw(),r=e.memoizedState!==null,t!==null&&t.memoizedState!==null!==r&&(e.flags|=8192),r&&e.mode&1?qn&1073741824&&(on(e),e.subtreeFlags&6&&(e.flags|=8192)):on(e),null;case 24:return null;case 25:return null}throw Error(W(156,e.tag))}function bV(t,e){switch(ow(e),e.tag){case 1:return Vn(e.type)&&Tp(),t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 3:return Ll(),qe(Ln),qe(fn),mw(),t=e.flags,t&65536&&!(t&128)?(e.flags=t&-65537|128,e):null;case 5:return pw(e),null;case 13:if(qe(it),t=e.memoizedState,t!==null&&t.dehydrated!==null){if(e.alternate===null)throw Error(W(340));Nl()}return t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 19:return qe(it),null;case 4:return Ll(),null;case 10:return cw(e.type._context),null;case 22:case 23:return Rw(),null;case 24:return null;default:return null}}var cf=!1,cn=!1,RV=typeof WeakSet=="function"?WeakSet:Set,ee=null;function dl(t,e){var n=t.ref;if(n!==null)if(typeof n=="function")try{n(null)}catch(r){ft(t,e,r)}else n.current=null}function hv(t,e,n){try{n()}catch(r){ft(t,e,r)}}var XT=!1;function AV(t,e){if(Y_=wp,t=cP(),iw(t)){if("selectionStart"in t)var n={start:t.selectionStart,end:t.selectionEnd};else e:{n=(n=t.ownerDocument)&&n.defaultView||window;var r=n.getSelection&&n.getSelection();if(r&&r.rangeCount!==0){n=r.anchorNode;var i=r.anchorOffset,s=r.focusNode;r=r.focusOffset;try{n.nodeType,s.nodeType}catch{n=null;break e}var o=0,a=-1,l=-1,u=0,d=0,h=t,f=null;t:for(;;){for(var g;h!==n||i!==0&&h.nodeType!==3||(a=o+i),h!==s||r!==0&&h.nodeType!==3||(l=o+r),h.nodeType===3&&(o+=h.nodeValue.length),(g=h.firstChild)!==null;)f=h,h=g;for(;;){if(h===t)break t;if(f===n&&++u===i&&(a=o),f===s&&++d===r&&(l=o),(g=h.nextSibling)!==null)break;h=f,f=h.parentNode}h=g}n=a===-1||l===-1?null:{start:a,end:l}}else n=null}n=n||{start:0,end:0}}else n=null;for(Q_={focusedElem:t,selectionRange:n},wp=!1,ee=e;ee!==null;)if(e=ee,t=e.child,(e.subtreeFlags&1028)!==0&&t!==null)t.return=e,ee=t;else for(;ee!==null;){e=ee;try{var _=e.alternate;if(e.flags&1024)switch(e.tag){case 0:case 11:case 15:break;case 1:if(_!==null){var v=_.memoizedProps,T=_.memoizedState,I=e.stateNode,w=I.getSnapshotBeforeUpdate(e.elementType===e.type?v:kr(e.type,v),T);I.__reactInternalSnapshotBeforeUpdate=w}break;case 3:var E=e.stateNode.containerInfo;E.nodeType===1?E.textContent="":E.nodeType===9&&E.documentElement&&E.removeChild(E.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(W(163))}}catch(O){ft(e,e.return,O)}if(t=e.sibling,t!==null){t.return=e.return,ee=t;break}ee=e.return}return _=XT,XT=!1,_}function Nc(t,e,n){var r=e.updateQueue;if(r=r!==null?r.lastEffect:null,r!==null){var i=r=r.next;do{if((i.tag&t)===t){var s=i.destroy;i.destroy=void 0,s!==void 0&&hv(e,n,s)}i=i.next}while(i!==r)}}function Nm(t,e){if(e=e.updateQueue,e=e!==null?e.lastEffect:null,e!==null){var n=e=e.next;do{if((n.tag&t)===t){var r=n.create;n.destroy=r()}n=n.next}while(n!==e)}}function fv(t){var e=t.ref;if(e!==null){var n=t.stateNode;switch(t.tag){case 5:t=n;break;default:t=n}typeof e=="function"?e(t):e.current=t}}function ok(t){var e=t.alternate;e!==null&&(t.alternate=null,ok(e)),t.child=null,t.deletions=null,t.sibling=null,t.tag===5&&(e=t.stateNode,e!==null&&(delete e[Qr],delete e[ld],delete e[Z_],delete e[uV],delete e[cV])),t.stateNode=null,t.return=null,t.dependencies=null,t.memoizedProps=null,t.memoizedState=null,t.pendingProps=null,t.stateNode=null,t.updateQueue=null}function ak(t){return t.tag===5||t.tag===3||t.tag===4}function ZT(t){e:for(;;){for(;t.sibling===null;){if(t.return===null||ak(t.return))return null;t=t.return}for(t.sibling.return=t.return,t=t.sibling;t.tag!==5&&t.tag!==6&&t.tag!==18;){if(t.flags&2||t.child===null||t.tag===4)continue e;t.child.return=t,t=t.child}if(!(t.flags&2))return t.stateNode}}function pv(t,e,n){var r=t.tag;if(r===5||r===6)t=t.stateNode,e?n.nodeType===8?n.parentNode.insertBefore(t,e):n.insertBefore(t,e):(n.nodeType===8?(e=n.parentNode,e.insertBefore(t,n)):(e=n,e.appendChild(t)),n=n._reactRootContainer,n!=null||e.onclick!==null||(e.onclick=Ip));else if(r!==4&&(t=t.child,t!==null))for(pv(t,e,n),t=t.sibling;t!==null;)pv(t,e,n),t=t.sibling}function mv(t,e,n){var r=t.tag;if(r===5||r===6)t=t.stateNode,e?n.insertBefore(t,e):n.appendChild(t);else if(r!==4&&(t=t.child,t!==null))for(mv(t,e,n),t=t.sibling;t!==null;)mv(t,e,n),t=t.sibling}var Yt=null,Cr=!1;function ps(t,e,n){for(n=n.child;n!==null;)lk(t,e,n),n=n.sibling}function lk(t,e,n){if(ai&&typeof ai.onCommitFiberUnmount=="function")try{ai.onCommitFiberUnmount(Rm,n)}catch{}switch(n.tag){case 5:cn||dl(n,e);case 6:var r=Yt,i=Cr;Yt=null,ps(t,e,n),Yt=r,Cr=i,Yt!==null&&(Cr?(t=Yt,n=n.stateNode,t.nodeType===8?t.parentNode.removeChild(n):t.removeChild(n)):Yt.removeChild(n.stateNode));break;case 18:Yt!==null&&(Cr?(t=Yt,n=n.stateNode,t.nodeType===8?$y(t.parentNode,n):t.nodeType===1&&$y(t,n),rd(t)):$y(Yt,n.stateNode));break;case 4:r=Yt,i=Cr,Yt=n.stateNode.containerInfo,Cr=!0,ps(t,e,n),Yt=r,Cr=i;break;case 0:case 11:case 14:case 15:if(!cn&&(r=n.updateQueue,r!==null&&(r=r.lastEffect,r!==null))){i=r=r.next;do{var s=i,o=s.destroy;s=s.tag,o!==void 0&&(s&2||s&4)&&hv(n,e,o),i=i.next}while(i!==r)}ps(t,e,n);break;case 1:if(!cn&&(dl(n,e),r=n.stateNode,typeof r.componentWillUnmount=="function"))try{r.props=n.memoizedProps,r.state=n.memoizedState,r.componentWillUnmount()}catch(a){ft(n,e,a)}ps(t,e,n);break;case 21:ps(t,e,n);break;case 22:n.mode&1?(cn=(r=cn)||n.memoizedState!==null,ps(t,e,n),cn=r):ps(t,e,n);break;default:ps(t,e,n)}}function e1(t){var e=t.updateQueue;if(e!==null){t.updateQueue=null;var n=t.stateNode;n===null&&(n=t.stateNode=new RV),e.forEach(function(r){var i=LV.bind(null,t,r);n.has(r)||(n.add(r),r.then(i,i))})}}function Rr(t,e){var n=e.deletions;if(n!==null)for(var r=0;r<n.length;r++){var i=n[r];try{var s=t,o=e,a=o;e:for(;a!==null;){switch(a.tag){case 5:Yt=a.stateNode,Cr=!1;break e;case 3:Yt=a.stateNode.containerInfo,Cr=!0;break e;case 4:Yt=a.stateNode.containerInfo,Cr=!0;break e}a=a.return}if(Yt===null)throw Error(W(160));lk(s,o,i),Yt=null,Cr=!1;var l=i.alternate;l!==null&&(l.return=null),i.return=null}catch(u){ft(i,e,u)}}if(e.subtreeFlags&12854)for(e=e.child;e!==null;)uk(e,t),e=e.sibling}function uk(t,e){var n=t.alternate,r=t.flags;switch(t.tag){case 0:case 11:case 14:case 15:if(Rr(e,t),Wr(t),r&4){try{Nc(3,t,t.return),Nm(3,t)}catch(v){ft(t,t.return,v)}try{Nc(5,t,t.return)}catch(v){ft(t,t.return,v)}}break;case 1:Rr(e,t),Wr(t),r&512&&n!==null&&dl(n,n.return);break;case 5:if(Rr(e,t),Wr(t),r&512&&n!==null&&dl(n,n.return),t.flags&32){var i=t.stateNode;try{Zc(i,"")}catch(v){ft(t,t.return,v)}}if(r&4&&(i=t.stateNode,i!=null)){var s=t.memoizedProps,o=n!==null?n.memoizedProps:s,a=t.type,l=t.updateQueue;if(t.updateQueue=null,l!==null)try{a==="input"&&s.type==="radio"&&s.name!=null&&xA(i,s),U_(a,o);var u=U_(a,s);for(o=0;o<l.length;o+=2){var d=l[o],h=l[o+1];d==="style"?LA(i,h):d==="dangerouslySetInnerHTML"?NA(i,h):d==="children"?Zc(i,h):q0(i,d,h,u)}switch(a){case"input":N_(i,s);break;case"textarea":OA(i,s);break;case"select":var f=i._wrapperState.wasMultiple;i._wrapperState.wasMultiple=!!s.multiple;var g=s.value;g!=null?ml(i,!!s.multiple,g,!1):f!==!!s.multiple&&(s.defaultValue!=null?ml(i,!!s.multiple,s.defaultValue,!0):ml(i,!!s.multiple,s.multiple?[]:"",!1))}i[ld]=s}catch(v){ft(t,t.return,v)}}break;case 6:if(Rr(e,t),Wr(t),r&4){if(t.stateNode===null)throw Error(W(162));i=t.stateNode,s=t.memoizedProps;try{i.nodeValue=s}catch(v){ft(t,t.return,v)}}break;case 3:if(Rr(e,t),Wr(t),r&4&&n!==null&&n.memoizedState.isDehydrated)try{rd(e.containerInfo)}catch(v){ft(t,t.return,v)}break;case 4:Rr(e,t),Wr(t);break;case 13:Rr(e,t),Wr(t),i=t.child,i.flags&8192&&(s=i.memoizedState!==null,i.stateNode.isHidden=s,!s||i.alternate!==null&&i.alternate.memoizedState!==null||(Tw=St())),r&4&&e1(t);break;case 22:if(d=n!==null&&n.memoizedState!==null,t.mode&1?(cn=(u=cn)||d,Rr(e,t),cn=u):Rr(e,t),Wr(t),r&8192){if(u=t.memoizedState!==null,(t.stateNode.isHidden=u)&&!d&&t.mode&1)for(ee=t,d=t.child;d!==null;){for(h=ee=d;ee!==null;){switch(f=ee,g=f.child,f.tag){case 0:case 11:case 14:case 15:Nc(4,f,f.return);break;case 1:dl(f,f.return);var _=f.stateNode;if(typeof _.componentWillUnmount=="function"){r=f,n=f.return;try{e=r,_.props=e.memoizedProps,_.state=e.memoizedState,_.componentWillUnmount()}catch(v){ft(r,n,v)}}break;case 5:dl(f,f.return);break;case 22:if(f.memoizedState!==null){n1(h);continue}}g!==null?(g.return=f,ee=g):n1(h)}d=d.sibling}e:for(d=null,h=t;;){if(h.tag===5){if(d===null){d=h;try{i=h.stateNode,u?(s=i.style,typeof s.setProperty=="function"?s.setProperty("display","none","important"):s.display="none"):(a=h.stateNode,l=h.memoizedProps.style,o=l!=null&&l.hasOwnProperty("display")?l.display:null,a.style.display=MA("display",o))}catch(v){ft(t,t.return,v)}}}else if(h.tag===6){if(d===null)try{h.stateNode.nodeValue=u?"":h.memoizedProps}catch(v){ft(t,t.return,v)}}else if((h.tag!==22&&h.tag!==23||h.memoizedState===null||h===t)&&h.child!==null){h.child.return=h,h=h.child;continue}if(h===t)break e;for(;h.sibling===null;){if(h.return===null||h.return===t)break e;d===h&&(d=null),h=h.return}d===h&&(d=null),h.sibling.return=h.return,h=h.sibling}}break;case 19:Rr(e,t),Wr(t),r&4&&e1(t);break;case 21:break;default:Rr(e,t),Wr(t)}}function Wr(t){var e=t.flags;if(e&2){try{e:{for(var n=t.return;n!==null;){if(ak(n)){var r=n;break e}n=n.return}throw Error(W(160))}switch(r.tag){case 5:var i=r.stateNode;r.flags&32&&(Zc(i,""),r.flags&=-33);var s=ZT(t);mv(t,s,i);break;case 3:case 4:var o=r.stateNode.containerInfo,a=ZT(t);pv(t,a,o);break;default:throw Error(W(161))}}catch(l){ft(t,t.return,l)}t.flags&=-3}e&4096&&(t.flags&=-4097)}function PV(t,e,n){ee=t,ck(t)}function ck(t,e,n){for(var r=(t.mode&1)!==0;ee!==null;){var i=ee,s=i.child;if(i.tag===22&&r){var o=i.memoizedState!==null||cf;if(!o){var a=i.alternate,l=a!==null&&a.memoizedState!==null||cn;a=cf;var u=cn;if(cf=o,(cn=l)&&!u)for(ee=i;ee!==null;)o=ee,l=o.child,o.tag===22&&o.memoizedState!==null?r1(i):l!==null?(l.return=o,ee=l):r1(i);for(;s!==null;)ee=s,ck(s),s=s.sibling;ee=i,cf=a,cn=u}t1(t)}else i.subtreeFlags&8772&&s!==null?(s.return=i,ee=s):t1(t)}}function t1(t){for(;ee!==null;){var e=ee;if(e.flags&8772){var n=e.alternate;try{if(e.flags&8772)switch(e.tag){case 0:case 11:case 15:cn||Nm(5,e);break;case 1:var r=e.stateNode;if(e.flags&4&&!cn)if(n===null)r.componentDidMount();else{var i=e.elementType===e.type?n.memoizedProps:kr(e.type,n.memoizedProps);r.componentDidUpdate(i,n.memoizedState,r.__reactInternalSnapshotBeforeUpdate)}var s=e.updateQueue;s!==null&&UT(e,s,r);break;case 3:var o=e.updateQueue;if(o!==null){if(n=null,e.child!==null)switch(e.child.tag){case 5:n=e.child.stateNode;break;case 1:n=e.child.stateNode}UT(e,o,n)}break;case 5:var a=e.stateNode;if(n===null&&e.flags&4){n=a;var l=e.memoizedProps;switch(e.type){case"button":case"input":case"select":case"textarea":l.autoFocus&&n.focus();break;case"img":l.src&&(n.src=l.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(e.memoizedState===null){var u=e.alternate;if(u!==null){var d=u.memoizedState;if(d!==null){var h=d.dehydrated;h!==null&&rd(h)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(W(163))}cn||e.flags&512&&fv(e)}catch(f){ft(e,e.return,f)}}if(e===t){ee=null;break}if(n=e.sibling,n!==null){n.return=e.return,ee=n;break}ee=e.return}}function n1(t){for(;ee!==null;){var e=ee;if(e===t){ee=null;break}var n=e.sibling;if(n!==null){n.return=e.return,ee=n;break}ee=e.return}}function r1(t){for(;ee!==null;){var e=ee;try{switch(e.tag){case 0:case 11:case 15:var n=e.return;try{Nm(4,e)}catch(l){ft(e,n,l)}break;case 1:var r=e.stateNode;if(typeof r.componentDidMount=="function"){var i=e.return;try{r.componentDidMount()}catch(l){ft(e,i,l)}}var s=e.return;try{fv(e)}catch(l){ft(e,s,l)}break;case 5:var o=e.return;try{fv(e)}catch(l){ft(e,o,l)}}}catch(l){ft(e,e.return,l)}if(e===t){ee=null;break}var a=e.sibling;if(a!==null){a.return=e.return,ee=a;break}ee=e.return}}var kV=Math.ceil,Np=ts.ReactCurrentDispatcher,Sw=ts.ReactCurrentOwner,hr=ts.ReactCurrentBatchConfig,Ie=0,jt=null,Ct=null,Zt=0,qn=0,hl=co(0),Nt=0,pd=null,ia=0,Mm=0,Iw=0,Mc=null,xn=null,Tw=0,Fl=1/0,Ai=null,Mp=!1,gv=null,Bs=null,df=!1,ks=null,Lp=0,Lc=0,yv=null,$f=-1,zf=0;function En(){return Ie&6?St():$f!==-1?$f:$f=St()}function $s(t){return t.mode&1?Ie&2&&Zt!==0?Zt&-Zt:hV.transition!==null?(zf===0&&(zf=KA()),zf):(t=De,t!==0||(t=window.event,t=t===void 0?16:tP(t.type)),t):1}function Nr(t,e,n,r){if(50<Lc)throw Lc=0,yv=null,Error(W(185));Hd(t,n,r),(!(Ie&2)||t!==jt)&&(t===jt&&(!(Ie&2)&&(Mm|=n),Nt===4&&bs(t,Zt)),Fn(t,r),n===1&&Ie===0&&!(e.mode&1)&&(Fl=St()+500,xm&&ho()))}function Fn(t,e){var n=t.callbackNode;hL(t,e);var r=vp(t,t===jt?Zt:0);if(r===0)n!==null&&hT(n),t.callbackNode=null,t.callbackPriority=0;else if(e=r&-r,t.callbackPriority!==e){if(n!=null&&hT(n),e===1)t.tag===0?dV(i1.bind(null,t)):wP(i1.bind(null,t)),aV(function(){!(Ie&6)&&ho()}),n=null;else{switch(YA(r)){case 1:n=Q0;break;case 4:n=HA;break;case 16:n=_p;break;case 536870912:n=GA;break;default:n=_p}n=_k(n,dk.bind(null,t))}t.callbackPriority=e,t.callbackNode=n}}function dk(t,e){if($f=-1,zf=0,Ie&6)throw Error(W(327));var n=t.callbackNode;if(wl()&&t.callbackNode!==n)return null;var r=vp(t,t===jt?Zt:0);if(r===0)return null;if(r&30||r&t.expiredLanes||e)e=Vp(t,r);else{e=r;var i=Ie;Ie|=2;var s=fk();(jt!==t||Zt!==e)&&(Ai=null,Fl=St()+500,Ko(t,e));do try{OV();break}catch(a){hk(t,a)}while(!0);uw(),Np.current=s,Ie=i,Ct!==null?e=0:(jt=null,Zt=0,e=Nt)}if(e!==0){if(e===2&&(i=W_(t),i!==0&&(r=i,e=_v(t,i))),e===1)throw n=pd,Ko(t,0),bs(t,r),Fn(t,St()),n;if(e===6)bs(t,r);else{if(i=t.current.alternate,!(r&30)&&!CV(i)&&(e=Vp(t,r),e===2&&(s=W_(t),s!==0&&(r=s,e=_v(t,s))),e===1))throw n=pd,Ko(t,0),bs(t,r),Fn(t,St()),n;switch(t.finishedWork=i,t.finishedLanes=r,e){case 0:case 1:throw Error(W(345));case 2:Co(t,xn,Ai);break;case 3:if(bs(t,r),(r&130023424)===r&&(e=Tw+500-St(),10<e)){if(vp(t,0)!==0)break;if(i=t.suspendedLanes,(i&r)!==r){En(),t.pingedLanes|=t.suspendedLanes&i;break}t.timeoutHandle=X_(Co.bind(null,t,xn,Ai),e);break}Co(t,xn,Ai);break;case 4:if(bs(t,r),(r&4194240)===r)break;for(e=t.eventTimes,i=-1;0<r;){var o=31-Dr(r);s=1<<o,o=e[o],o>i&&(i=o),r&=~s}if(r=i,r=St()-r,r=(120>r?120:480>r?480:1080>r?1080:1920>r?1920:3e3>r?3e3:4320>r?4320:1960*kV(r/1960))-r,10<r){t.timeoutHandle=X_(Co.bind(null,t,xn,Ai),r);break}Co(t,xn,Ai);break;case 5:Co(t,xn,Ai);break;default:throw Error(W(329))}}}return Fn(t,St()),t.callbackNode===n?dk.bind(null,t):null}function _v(t,e){var n=Mc;return t.current.memoizedState.isDehydrated&&(Ko(t,e).flags|=256),t=Vp(t,e),t!==2&&(e=xn,xn=n,e!==null&&vv(e)),t}function vv(t){xn===null?xn=t:xn.push.apply(xn,t)}function CV(t){for(var e=t;;){if(e.flags&16384){var n=e.updateQueue;if(n!==null&&(n=n.stores,n!==null))for(var r=0;r<n.length;r++){var i=n[r],s=i.getSnapshot;i=i.value;try{if(!Lr(s(),i))return!1}catch{return!1}}}if(n=e.child,e.subtreeFlags&16384&&n!==null)n.return=e,e=n;else{if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return!0;e=e.return}e.sibling.return=e.return,e=e.sibling}}return!0}function bs(t,e){for(e&=~Iw,e&=~Mm,t.suspendedLanes|=e,t.pingedLanes&=~e,t=t.expirationTimes;0<e;){var n=31-Dr(e),r=1<<n;t[n]=-1,e&=~r}}function i1(t){if(Ie&6)throw Error(W(327));wl();var e=vp(t,0);if(!(e&1))return Fn(t,St()),null;var n=Vp(t,e);if(t.tag!==0&&n===2){var r=W_(t);r!==0&&(e=r,n=_v(t,r))}if(n===1)throw n=pd,Ko(t,0),bs(t,e),Fn(t,St()),n;if(n===6)throw Error(W(345));return t.finishedWork=t.current.alternate,t.finishedLanes=e,Co(t,xn,Ai),Fn(t,St()),null}function bw(t,e){var n=Ie;Ie|=1;try{return t(e)}finally{Ie=n,Ie===0&&(Fl=St()+500,xm&&ho())}}function sa(t){ks!==null&&ks.tag===0&&!(Ie&6)&&wl();var e=Ie;Ie|=1;var n=hr.transition,r=De;try{if(hr.transition=null,De=1,t)return t()}finally{De=r,hr.transition=n,Ie=e,!(Ie&6)&&ho()}}function Rw(){qn=hl.current,qe(hl)}function Ko(t,e){t.finishedWork=null,t.finishedLanes=0;var n=t.timeoutHandle;if(n!==-1&&(t.timeoutHandle=-1,oV(n)),Ct!==null)for(n=Ct.return;n!==null;){var r=n;switch(ow(r),r.tag){case 1:r=r.type.childContextTypes,r!=null&&Tp();break;case 3:Ll(),qe(Ln),qe(fn),mw();break;case 5:pw(r);break;case 4:Ll();break;case 13:qe(it);break;case 19:qe(it);break;case 10:cw(r.type._context);break;case 22:case 23:Rw()}n=n.return}if(jt=t,Ct=t=zs(t.current,null),Zt=qn=e,Nt=0,pd=null,Iw=Mm=ia=0,xn=Mc=null,$o!==null){for(e=0;e<$o.length;e++)if(n=$o[e],r=n.interleaved,r!==null){n.interleaved=null;var i=r.next,s=n.pending;if(s!==null){var o=s.next;s.next=i,r.next=o}n.pending=r}$o=null}return t}function hk(t,e){do{var n=Ct;try{if(uw(),Ff.current=Dp,Op){for(var r=st.memoizedState;r!==null;){var i=r.queue;i!==null&&(i.pending=null),r=r.next}Op=!1}if(ra=0,$t=Dt=st=null,Dc=!1,dd=0,Sw.current=null,n===null||n.return===null){Nt=1,pd=e,Ct=null;break}e:{var s=t,o=n.return,a=n,l=e;if(e=Zt,a.flags|=32768,l!==null&&typeof l=="object"&&typeof l.then=="function"){var u=l,d=a,h=d.tag;if(!(d.mode&1)&&(h===0||h===11||h===15)){var f=d.alternate;f?(d.updateQueue=f.updateQueue,d.memoizedState=f.memoizedState,d.lanes=f.lanes):(d.updateQueue=null,d.memoizedState=null)}var g=qT(o);if(g!==null){g.flags&=-257,HT(g,o,a,s,e),g.mode&1&&WT(s,u,e),e=g,l=u;var _=e.updateQueue;if(_===null){var v=new Set;v.add(l),e.updateQueue=v}else _.add(l);break e}else{if(!(e&1)){WT(s,u,e),Aw();break e}l=Error(W(426))}}else if(Xe&&a.mode&1){var T=qT(o);if(T!==null){!(T.flags&65536)&&(T.flags|=256),HT(T,o,a,s,e),aw(Vl(l,a));break e}}s=l=Vl(l,a),Nt!==4&&(Nt=2),Mc===null?Mc=[s]:Mc.push(s),s=o;do{switch(s.tag){case 3:s.flags|=65536,e&=-e,s.lanes|=e;var I=YP(s,l,e);FT(s,I);break e;case 1:a=l;var w=s.type,E=s.stateNode;if(!(s.flags&128)&&(typeof w.getDerivedStateFromError=="function"||E!==null&&typeof E.componentDidCatch=="function"&&(Bs===null||!Bs.has(E)))){s.flags|=65536,e&=-e,s.lanes|=e;var O=QP(s,a,e);FT(s,O);break e}}s=s.return}while(s!==null)}mk(n)}catch(C){e=C,Ct===n&&n!==null&&(Ct=n=n.return);continue}break}while(!0)}function fk(){var t=Np.current;return Np.current=Dp,t===null?Dp:t}function Aw(){(Nt===0||Nt===3||Nt===2)&&(Nt=4),jt===null||!(ia&268435455)&&!(Mm&268435455)||bs(jt,Zt)}function Vp(t,e){var n=Ie;Ie|=2;var r=fk();(jt!==t||Zt!==e)&&(Ai=null,Ko(t,e));do try{xV();break}catch(i){hk(t,i)}while(!0);if(uw(),Ie=n,Np.current=r,Ct!==null)throw Error(W(261));return jt=null,Zt=0,Nt}function xV(){for(;Ct!==null;)pk(Ct)}function OV(){for(;Ct!==null&&!rL();)pk(Ct)}function pk(t){var e=yk(t.alternate,t,qn);t.memoizedProps=t.pendingProps,e===null?mk(t):Ct=e,Sw.current=null}function mk(t){var e=t;do{var n=e.alternate;if(t=e.return,e.flags&32768){if(n=bV(n,e),n!==null){n.flags&=32767,Ct=n;return}if(t!==null)t.flags|=32768,t.subtreeFlags=0,t.deletions=null;else{Nt=6,Ct=null;return}}else if(n=TV(n,e,qn),n!==null){Ct=n;return}if(e=e.sibling,e!==null){Ct=e;return}Ct=e=t}while(e!==null);Nt===0&&(Nt=5)}function Co(t,e,n){var r=De,i=hr.transition;try{hr.transition=null,De=1,DV(t,e,n,r)}finally{hr.transition=i,De=r}return null}function DV(t,e,n,r){do wl();while(ks!==null);if(Ie&6)throw Error(W(327));n=t.finishedWork;var i=t.finishedLanes;if(n===null)return null;if(t.finishedWork=null,t.finishedLanes=0,n===t.current)throw Error(W(177));t.callbackNode=null,t.callbackPriority=0;var s=n.lanes|n.childLanes;if(fL(t,s),t===jt&&(Ct=jt=null,Zt=0),!(n.subtreeFlags&2064)&&!(n.flags&2064)||df||(df=!0,_k(_p,function(){return wl(),null})),s=(n.flags&15990)!==0,n.subtreeFlags&15990||s){s=hr.transition,hr.transition=null;var o=De;De=1;var a=Ie;Ie|=4,Sw.current=null,AV(t,n),uk(n,t),ZL(Q_),wp=!!Y_,Q_=Y_=null,t.current=n,PV(n),iL(),Ie=a,De=o,hr.transition=s}else t.current=n;if(df&&(df=!1,ks=t,Lp=i),s=t.pendingLanes,s===0&&(Bs=null),aL(n.stateNode),Fn(t,St()),e!==null)for(r=t.onRecoverableError,n=0;n<e.length;n++)i=e[n],r(i.value,{componentStack:i.stack,digest:i.digest});if(Mp)throw Mp=!1,t=gv,gv=null,t;return Lp&1&&t.tag!==0&&wl(),s=t.pendingLanes,s&1?t===yv?Lc++:(Lc=0,yv=t):Lc=0,ho(),null}function wl(){if(ks!==null){var t=YA(Lp),e=hr.transition,n=De;try{if(hr.transition=null,De=16>t?16:t,ks===null)var r=!1;else{if(t=ks,ks=null,Lp=0,Ie&6)throw Error(W(331));var i=Ie;for(Ie|=4,ee=t.current;ee!==null;){var s=ee,o=s.child;if(ee.flags&16){var a=s.deletions;if(a!==null){for(var l=0;l<a.length;l++){var u=a[l];for(ee=u;ee!==null;){var d=ee;switch(d.tag){case 0:case 11:case 15:Nc(8,d,s)}var h=d.child;if(h!==null)h.return=d,ee=h;else for(;ee!==null;){d=ee;var f=d.sibling,g=d.return;if(ok(d),d===u){ee=null;break}if(f!==null){f.return=g,ee=f;break}ee=g}}}var _=s.alternate;if(_!==null){var v=_.child;if(v!==null){_.child=null;do{var T=v.sibling;v.sibling=null,v=T}while(v!==null)}}ee=s}}if(s.subtreeFlags&2064&&o!==null)o.return=s,ee=o;else e:for(;ee!==null;){if(s=ee,s.flags&2048)switch(s.tag){case 0:case 11:case 15:Nc(9,s,s.return)}var I=s.sibling;if(I!==null){I.return=s.return,ee=I;break e}ee=s.return}}var w=t.current;for(ee=w;ee!==null;){o=ee;var E=o.child;if(o.subtreeFlags&2064&&E!==null)E.return=o,ee=E;else e:for(o=w;ee!==null;){if(a=ee,a.flags&2048)try{switch(a.tag){case 0:case 11:case 15:Nm(9,a)}}catch(C){ft(a,a.return,C)}if(a===o){ee=null;break e}var O=a.sibling;if(O!==null){O.return=a.return,ee=O;break e}ee=a.return}}if(Ie=i,ho(),ai&&typeof ai.onPostCommitFiberRoot=="function")try{ai.onPostCommitFiberRoot(Rm,t)}catch{}r=!0}return r}finally{De=n,hr.transition=e}}return!1}function s1(t,e,n){e=Vl(n,e),e=YP(t,e,1),t=Us(t,e,1),e=En(),t!==null&&(Hd(t,1,e),Fn(t,e))}function ft(t,e,n){if(t.tag===3)s1(t,t,n);else for(;e!==null;){if(e.tag===3){s1(e,t,n);break}else if(e.tag===1){var r=e.stateNode;if(typeof e.type.getDerivedStateFromError=="function"||typeof r.componentDidCatch=="function"&&(Bs===null||!Bs.has(r))){t=Vl(n,t),t=QP(e,t,1),e=Us(e,t,1),t=En(),e!==null&&(Hd(e,1,t),Fn(e,t));break}}e=e.return}}function NV(t,e,n){var r=t.pingCache;r!==null&&r.delete(e),e=En(),t.pingedLanes|=t.suspendedLanes&n,jt===t&&(Zt&n)===n&&(Nt===4||Nt===3&&(Zt&130023424)===Zt&&500>St()-Tw?Ko(t,0):Iw|=n),Fn(t,e)}function gk(t,e){e===0&&(t.mode&1?(e=ef,ef<<=1,!(ef&130023424)&&(ef=4194304)):e=1);var n=En();t=Gi(t,e),t!==null&&(Hd(t,e,n),Fn(t,n))}function MV(t){var e=t.memoizedState,n=0;e!==null&&(n=e.retryLane),gk(t,n)}function LV(t,e){var n=0;switch(t.tag){case 13:var r=t.stateNode,i=t.memoizedState;i!==null&&(n=i.retryLane);break;case 19:r=t.stateNode;break;default:throw Error(W(314))}r!==null&&r.delete(e),gk(t,n)}var yk;yk=function(t,e,n){if(t!==null)if(t.memoizedProps!==e.pendingProps||Ln.current)On=!0;else{if(!(t.lanes&n)&&!(e.flags&128))return On=!1,IV(t,e,n);On=!!(t.flags&131072)}else On=!1,Xe&&e.flags&1048576&&EP(e,Ap,e.index);switch(e.lanes=0,e.tag){case 2:var r=e.type;Bf(t,e),t=e.pendingProps;var i=Dl(e,fn.current);vl(e,n),i=yw(null,e,r,t,i,n);var s=_w();return e.flags|=1,typeof i=="object"&&i!==null&&typeof i.render=="function"&&i.$$typeof===void 0?(e.tag=1,e.memoizedState=null,e.updateQueue=null,Vn(r)?(s=!0,bp(e)):s=!1,e.memoizedState=i.state!==null&&i.state!==void 0?i.state:null,hw(e),i.updater=Dm,e.stateNode=i,i._reactInternals=e,sv(e,r,t,n),e=lv(null,e,r,!0,s,n)):(e.tag=0,Xe&&s&&sw(e),_n(null,e,i,n),e=e.child),e;case 16:r=e.elementType;e:{switch(Bf(t,e),t=e.pendingProps,i=r._init,r=i(r._payload),e.type=r,i=e.tag=FV(r),t=kr(r,t),i){case 0:e=av(null,e,r,t,n);break e;case 1:e=YT(null,e,r,t,n);break e;case 11:e=GT(null,e,r,t,n);break e;case 14:e=KT(null,e,r,kr(r.type,t),n);break e}throw Error(W(306,r,""))}return e;case 0:return r=e.type,i=e.pendingProps,i=e.elementType===r?i:kr(r,i),av(t,e,r,i,n);case 1:return r=e.type,i=e.pendingProps,i=e.elementType===r?i:kr(r,i),YT(t,e,r,i,n);case 3:e:{if(ek(e),t===null)throw Error(W(387));r=e.pendingProps,s=e.memoizedState,i=s.element,AP(t,e),Cp(e,r,null,n);var o=e.memoizedState;if(r=o.element,s.isDehydrated)if(s={element:r,isDehydrated:!1,cache:o.cache,pendingSuspenseBoundaries:o.pendingSuspenseBoundaries,transitions:o.transitions},e.updateQueue.baseState=s,e.memoizedState=s,e.flags&256){i=Vl(Error(W(423)),e),e=QT(t,e,r,n,i);break e}else if(r!==i){i=Vl(Error(W(424)),e),e=QT(t,e,r,n,i);break e}else for(Yn=Fs(e.stateNode.containerInfo.firstChild),Jn=e,Xe=!0,xr=null,n=bP(e,null,r,n),e.child=n;n;)n.flags=n.flags&-3|4096,n=n.sibling;else{if(Nl(),r===i){e=Ki(t,e,n);break e}_n(t,e,r,n)}e=e.child}return e;case 5:return PP(e),t===null&&nv(e),r=e.type,i=e.pendingProps,s=t!==null?t.memoizedProps:null,o=i.children,J_(r,i)?o=null:s!==null&&J_(r,s)&&(e.flags|=32),ZP(t,e),_n(t,e,o,n),e.child;case 6:return t===null&&nv(e),null;case 13:return tk(t,e,n);case 4:return fw(e,e.stateNode.containerInfo),r=e.pendingProps,t===null?e.child=Ml(e,null,r,n):_n(t,e,r,n),e.child;case 11:return r=e.type,i=e.pendingProps,i=e.elementType===r?i:kr(r,i),GT(t,e,r,i,n);case 7:return _n(t,e,e.pendingProps,n),e.child;case 8:return _n(t,e,e.pendingProps.children,n),e.child;case 12:return _n(t,e,e.pendingProps.children,n),e.child;case 10:e:{if(r=e.type._context,i=e.pendingProps,s=e.memoizedProps,o=i.value,Be(Pp,r._currentValue),r._currentValue=o,s!==null)if(Lr(s.value,o)){if(s.children===i.children&&!Ln.current){e=Ki(t,e,n);break e}}else for(s=e.child,s!==null&&(s.return=e);s!==null;){var a=s.dependencies;if(a!==null){o=s.child;for(var l=a.firstContext;l!==null;){if(l.context===r){if(s.tag===1){l=$i(-1,n&-n),l.tag=2;var u=s.updateQueue;if(u!==null){u=u.shared;var d=u.pending;d===null?l.next=l:(l.next=d.next,d.next=l),u.pending=l}}s.lanes|=n,l=s.alternate,l!==null&&(l.lanes|=n),rv(s.return,n,e),a.lanes|=n;break}l=l.next}}else if(s.tag===10)o=s.type===e.type?null:s.child;else if(s.tag===18){if(o=s.return,o===null)throw Error(W(341));o.lanes|=n,a=o.alternate,a!==null&&(a.lanes|=n),rv(o,n,e),o=s.sibling}else o=s.child;if(o!==null)o.return=s;else for(o=s;o!==null;){if(o===e){o=null;break}if(s=o.sibling,s!==null){s.return=o.return,o=s;break}o=o.return}s=o}_n(t,e,i.children,n),e=e.child}return e;case 9:return i=e.type,r=e.pendingProps.children,vl(e,n),i=pr(i),r=r(i),e.flags|=1,_n(t,e,r,n),e.child;case 14:return r=e.type,i=kr(r,e.pendingProps),i=kr(r.type,i),KT(t,e,r,i,n);case 15:return JP(t,e,e.type,e.pendingProps,n);case 17:return r=e.type,i=e.pendingProps,i=e.elementType===r?i:kr(r,i),Bf(t,e),e.tag=1,Vn(r)?(t=!0,bp(e)):t=!1,vl(e,n),KP(e,r,i),sv(e,r,i,n),lv(null,e,r,!0,t,n);case 19:return nk(t,e,n);case 22:return XP(t,e,n)}throw Error(W(156,e.tag))};function _k(t,e){return qA(t,e)}function VV(t,e,n,r){this.tag=t,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=e,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=r,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function cr(t,e,n,r){return new VV(t,e,n,r)}function Pw(t){return t=t.prototype,!(!t||!t.isReactComponent)}function FV(t){if(typeof t=="function")return Pw(t)?1:0;if(t!=null){if(t=t.$$typeof,t===G0)return 11;if(t===K0)return 14}return 2}function zs(t,e){var n=t.alternate;return n===null?(n=cr(t.tag,e,t.key,t.mode),n.elementType=t.elementType,n.type=t.type,n.stateNode=t.stateNode,n.alternate=t,t.alternate=n):(n.pendingProps=e,n.type=t.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=t.flags&14680064,n.childLanes=t.childLanes,n.lanes=t.lanes,n.child=t.child,n.memoizedProps=t.memoizedProps,n.memoizedState=t.memoizedState,n.updateQueue=t.updateQueue,e=t.dependencies,n.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext},n.sibling=t.sibling,n.index=t.index,n.ref=t.ref,n}function jf(t,e,n,r,i,s){var o=2;if(r=t,typeof t=="function")Pw(t)&&(o=1);else if(typeof t=="string")o=5;else e:switch(t){case nl:return Yo(n.children,i,s,e);case H0:o=8,i|=8;break;case k_:return t=cr(12,n,e,i|2),t.elementType=k_,t.lanes=s,t;case C_:return t=cr(13,n,e,i),t.elementType=C_,t.lanes=s,t;case x_:return t=cr(19,n,e,i),t.elementType=x_,t.lanes=s,t;case PA:return Lm(n,i,s,e);default:if(typeof t=="object"&&t!==null)switch(t.$$typeof){case RA:o=10;break e;case AA:o=9;break e;case G0:o=11;break e;case K0:o=14;break e;case Ss:o=16,r=null;break e}throw Error(W(130,t==null?t:typeof t,""))}return e=cr(o,n,e,i),e.elementType=t,e.type=r,e.lanes=s,e}function Yo(t,e,n,r){return t=cr(7,t,r,e),t.lanes=n,t}function Lm(t,e,n,r){return t=cr(22,t,r,e),t.elementType=PA,t.lanes=n,t.stateNode={isHidden:!1},t}function Yy(t,e,n){return t=cr(6,t,null,e),t.lanes=n,t}function Qy(t,e,n){return e=cr(4,t.children!==null?t.children:[],t.key,e),e.lanes=n,e.stateNode={containerInfo:t.containerInfo,pendingChildren:null,implementation:t.implementation},e}function UV(t,e,n,r,i){this.tag=e,this.containerInfo=t,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=Cy(0),this.expirationTimes=Cy(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Cy(0),this.identifierPrefix=r,this.onRecoverableError=i,this.mutableSourceEagerHydrationData=null}function kw(t,e,n,r,i,s,o,a,l){return t=new UV(t,e,n,a,l),e===1?(e=1,s===!0&&(e|=8)):e=0,s=cr(3,null,null,e),t.current=s,s.stateNode=t,s.memoizedState={element:r,isDehydrated:n,cache:null,transitions:null,pendingSuspenseBoundaries:null},hw(s),t}function BV(t,e,n){var r=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:tl,key:r==null?null:""+r,children:t,containerInfo:e,implementation:n}}function vk(t){if(!t)return Ks;t=t._reactInternals;e:{if(wa(t)!==t||t.tag!==1)throw Error(W(170));var e=t;do{switch(e.tag){case 3:e=e.stateNode.context;break e;case 1:if(Vn(e.type)){e=e.stateNode.__reactInternalMemoizedMergedChildContext;break e}}e=e.return}while(e!==null);throw Error(W(171))}if(t.tag===1){var n=t.type;if(Vn(n))return vP(t,n,e)}return e}function wk(t,e,n,r,i,s,o,a,l){return t=kw(n,r,!0,t,i,s,o,a,l),t.context=vk(null),n=t.current,r=En(),i=$s(n),s=$i(r,i),s.callback=e??null,Us(n,s,i),t.current.lanes=i,Hd(t,i,r),Fn(t,r),t}function Vm(t,e,n,r){var i=e.current,s=En(),o=$s(i);return n=vk(n),e.context===null?e.context=n:e.pendingContext=n,e=$i(s,o),e.payload={element:t},r=r===void 0?null:r,r!==null&&(e.callback=r),t=Us(i,e,o),t!==null&&(Nr(t,i,o,s),Vf(t,i,o)),o}function Fp(t){if(t=t.current,!t.child)return null;switch(t.child.tag){case 5:return t.child.stateNode;default:return t.child.stateNode}}function o1(t,e){if(t=t.memoizedState,t!==null&&t.dehydrated!==null){var n=t.retryLane;t.retryLane=n!==0&&n<e?n:e}}function Cw(t,e){o1(t,e),(t=t.alternate)&&o1(t,e)}function $V(){return null}var Ek=typeof reportError=="function"?reportError:function(t){console.error(t)};function xw(t){this._internalRoot=t}Fm.prototype.render=xw.prototype.render=function(t){var e=this._internalRoot;if(e===null)throw Error(W(409));Vm(t,e,null,null)};Fm.prototype.unmount=xw.prototype.unmount=function(){var t=this._internalRoot;if(t!==null){this._internalRoot=null;var e=t.containerInfo;sa(function(){Vm(null,t,null,null)}),e[Hi]=null}};function Fm(t){this._internalRoot=t}Fm.prototype.unstable_scheduleHydration=function(t){if(t){var e=XA();t={blockedOn:null,target:t,priority:e};for(var n=0;n<Ts.length&&e!==0&&e<Ts[n].priority;n++);Ts.splice(n,0,t),n===0&&eP(t)}};function Ow(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11)}function Um(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11&&(t.nodeType!==8||t.nodeValue!==" react-mount-point-unstable "))}function a1(){}function zV(t,e,n,r,i){if(i){if(typeof r=="function"){var s=r;r=function(){var u=Fp(o);s.call(u)}}var o=wk(e,r,t,0,null,!1,!1,"",a1);return t._reactRootContainer=o,t[Hi]=o.current,od(t.nodeType===8?t.parentNode:t),sa(),o}for(;i=t.lastChild;)t.removeChild(i);if(typeof r=="function"){var a=r;r=function(){var u=Fp(l);a.call(u)}}var l=kw(t,0,!1,null,null,!1,!1,"",a1);return t._reactRootContainer=l,t[Hi]=l.current,od(t.nodeType===8?t.parentNode:t),sa(function(){Vm(e,l,n,r)}),l}function Bm(t,e,n,r,i){var s=n._reactRootContainer;if(s){var o=s;if(typeof i=="function"){var a=i;i=function(){var l=Fp(o);a.call(l)}}Vm(e,o,t,i)}else o=zV(n,e,t,i,r);return Fp(o)}QA=function(t){switch(t.tag){case 3:var e=t.stateNode;if(e.current.memoizedState.isDehydrated){var n=yc(e.pendingLanes);n!==0&&(J0(e,n|1),Fn(e,St()),!(Ie&6)&&(Fl=St()+500,ho()))}break;case 13:sa(function(){var r=Gi(t,1);if(r!==null){var i=En();Nr(r,t,1,i)}}),Cw(t,1)}};X0=function(t){if(t.tag===13){var e=Gi(t,134217728);if(e!==null){var n=En();Nr(e,t,134217728,n)}Cw(t,134217728)}};JA=function(t){if(t.tag===13){var e=$s(t),n=Gi(t,e);if(n!==null){var r=En();Nr(n,t,e,r)}Cw(t,e)}};XA=function(){return De};ZA=function(t,e){var n=De;try{return De=t,e()}finally{De=n}};$_=function(t,e,n){switch(e){case"input":if(N_(t,n),e=n.name,n.type==="radio"&&e!=null){for(n=t;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll("input[name="+JSON.stringify(""+e)+'][type="radio"]'),e=0;e<n.length;e++){var r=n[e];if(r!==t&&r.form===t.form){var i=Cm(r);if(!i)throw Error(W(90));CA(r),N_(r,i)}}}break;case"textarea":OA(t,n);break;case"select":e=n.value,e!=null&&ml(t,!!n.multiple,e,!1)}};UA=bw;BA=sa;var jV={usingClientEntryPoint:!1,Events:[Kd,ol,Cm,VA,FA,bw]},Xu={findFiberByHostInstance:Bo,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},WV={bundleType:Xu.bundleType,version:Xu.version,rendererPackageName:Xu.rendererPackageName,rendererConfig:Xu.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:ts.ReactCurrentDispatcher,findHostInstanceByFiber:function(t){return t=jA(t),t===null?null:t.stateNode},findFiberByHostInstance:Xu.findFiberByHostInstance||$V,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var hf=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!hf.isDisabled&&hf.supportsFiber)try{Rm=hf.inject(WV),ai=hf}catch{}}rr.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=jV;rr.createPortal=function(t,e){var n=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!Ow(e))throw Error(W(200));return BV(t,e,null,n)};rr.createRoot=function(t,e){if(!Ow(t))throw Error(W(299));var n=!1,r="",i=Ek;return e!=null&&(e.unstable_strictMode===!0&&(n=!0),e.identifierPrefix!==void 0&&(r=e.identifierPrefix),e.onRecoverableError!==void 0&&(i=e.onRecoverableError)),e=kw(t,1,!1,null,null,n,!1,r,i),t[Hi]=e.current,od(t.nodeType===8?t.parentNode:t),new xw(e)};rr.findDOMNode=function(t){if(t==null)return null;if(t.nodeType===1)return t;var e=t._reactInternals;if(e===void 0)throw typeof t.render=="function"?Error(W(188)):(t=Object.keys(t).join(","),Error(W(268,t)));return t=jA(e),t=t===null?null:t.stateNode,t};rr.flushSync=function(t){return sa(t)};rr.hydrate=function(t,e,n){if(!Um(e))throw Error(W(200));return Bm(null,t,e,!0,n)};rr.hydrateRoot=function(t,e,n){if(!Ow(t))throw Error(W(405));var r=n!=null&&n.hydratedSources||null,i=!1,s="",o=Ek;if(n!=null&&(n.unstable_strictMode===!0&&(i=!0),n.identifierPrefix!==void 0&&(s=n.identifierPrefix),n.onRecoverableError!==void 0&&(o=n.onRecoverableError)),e=wk(e,null,t,1,n??null,i,!1,s,o),t[Hi]=e.current,od(t),r)for(t=0;t<r.length;t++)n=r[t],i=n._getVersion,i=i(n._source),e.mutableSourceEagerHydrationData==null?e.mutableSourceEagerHydrationData=[n,i]:e.mutableSourceEagerHydrationData.push(n,i);return new Fm(e)};rr.render=function(t,e,n){if(!Um(e))throw Error(W(200));return Bm(null,t,e,!1,n)};rr.unmountComponentAtNode=function(t){if(!Um(t))throw Error(W(40));return t._reactRootContainer?(sa(function(){Bm(null,null,t,!1,function(){t._reactRootContainer=null,t[Hi]=null})}),!0):!1};rr.unstable_batchedUpdates=bw;rr.unstable_renderSubtreeIntoContainer=function(t,e,n,r){if(!Um(n))throw Error(W(200));if(t==null||t._reactInternals===void 0)throw Error(W(38));return Bm(t,e,n,!1,r)};rr.version="18.3.1-next-f1338f8080-20240426";function Sk(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(Sk)}catch(t){console.error(t)}}Sk(),SA.exports=rr;var qV=SA.exports,Ik,l1=qV;Ik=l1.createRoot,l1.hydrateRoot;/**
 * @remix-run/router v1.19.2
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function md(){return md=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},md.apply(this,arguments)}var Cs;(function(t){t.Pop="POP",t.Push="PUSH",t.Replace="REPLACE"})(Cs||(Cs={}));const u1="popstate";function HV(t){t===void 0&&(t={});function e(r,i){let{pathname:s,search:o,hash:a}=r.location;return wv("",{pathname:s,search:o,hash:a},i.state&&i.state.usr||null,i.state&&i.state.key||"default")}function n(r,i){return typeof i=="string"?i:Up(i)}return KV(e,n,null,t)}function xt(t,e){if(t===!1||t===null||typeof t>"u")throw new Error(e)}function Tk(t,e){if(!t){typeof console<"u"&&console.warn(e);try{throw new Error(e)}catch{}}}function GV(){return Math.random().toString(36).substr(2,8)}function c1(t,e){return{usr:t.state,key:t.key,idx:e}}function wv(t,e,n,r){return n===void 0&&(n=null),md({pathname:typeof t=="string"?t:t.pathname,search:"",hash:""},typeof e=="string"?uu(e):e,{state:n,key:e&&e.key||r||GV()})}function Up(t){let{pathname:e="/",search:n="",hash:r=""}=t;return n&&n!=="?"&&(e+=n.charAt(0)==="?"?n:"?"+n),r&&r!=="#"&&(e+=r.charAt(0)==="#"?r:"#"+r),e}function uu(t){let e={};if(t){let n=t.indexOf("#");n>=0&&(e.hash=t.substr(n),t=t.substr(0,n));let r=t.indexOf("?");r>=0&&(e.search=t.substr(r),t=t.substr(0,r)),t&&(e.pathname=t)}return e}function KV(t,e,n,r){r===void 0&&(r={});let{window:i=document.defaultView,v5Compat:s=!1}=r,o=i.history,a=Cs.Pop,l=null,u=d();u==null&&(u=0,o.replaceState(md({},o.state,{idx:u}),""));function d(){return(o.state||{idx:null}).idx}function h(){a=Cs.Pop;let T=d(),I=T==null?null:T-u;u=T,l&&l({action:a,location:v.location,delta:I})}function f(T,I){a=Cs.Push;let w=wv(v.location,T,I);u=d()+1;let E=c1(w,u),O=v.createHref(w);try{o.pushState(E,"",O)}catch(C){if(C instanceof DOMException&&C.name==="DataCloneError")throw C;i.location.assign(O)}s&&l&&l({action:a,location:v.location,delta:1})}function g(T,I){a=Cs.Replace;let w=wv(v.location,T,I);u=d();let E=c1(w,u),O=v.createHref(w);o.replaceState(E,"",O),s&&l&&l({action:a,location:v.location,delta:0})}function _(T){let I=i.location.origin!=="null"?i.location.origin:i.location.href,w=typeof T=="string"?T:Up(T);return w=w.replace(/ $/,"%20"),xt(I,"No window.location.(origin|href) available to create URL for href: "+w),new URL(w,I)}let v={get action(){return a},get location(){return t(i,o)},listen(T){if(l)throw new Error("A history only accepts one active listener");return i.addEventListener(u1,h),l=T,()=>{i.removeEventListener(u1,h),l=null}},createHref(T){return e(i,T)},createURL:_,encodeLocation(T){let I=_(T);return{pathname:I.pathname,search:I.search,hash:I.hash}},push:f,replace:g,go(T){return o.go(T)}};return v}var d1;(function(t){t.data="data",t.deferred="deferred",t.redirect="redirect",t.error="error"})(d1||(d1={}));function YV(t,e,n){return n===void 0&&(n="/"),QV(t,e,n,!1)}function QV(t,e,n,r){let i=typeof e=="string"?uu(e):e,s=Dw(i.pathname||"/",n);if(s==null)return null;let o=bk(t);JV(o);let a=null;for(let l=0;a==null&&l<o.length;++l){let u=lF(s);a=oF(o[l],u,r)}return a}function bk(t,e,n,r){e===void 0&&(e=[]),n===void 0&&(n=[]),r===void 0&&(r="");let i=(s,o,a)=>{let l={relativePath:a===void 0?s.path||"":a,caseSensitive:s.caseSensitive===!0,childrenIndex:o,route:s};l.relativePath.startsWith("/")&&(xt(l.relativePath.startsWith(r),'Absolute route path "'+l.relativePath+'" nested under path '+('"'+r+'" is not valid. An absolute child route path ')+"must start with the combined path of all its parent routes."),l.relativePath=l.relativePath.slice(r.length));let u=js([r,l.relativePath]),d=n.concat(l);s.children&&s.children.length>0&&(xt(s.index!==!0,"Index routes must not have child routes. Please remove "+('all child routes from route path "'+u+'".')),bk(s.children,e,d,u)),!(s.path==null&&!s.index)&&e.push({path:u,score:iF(u,s.index),routesMeta:d})};return t.forEach((s,o)=>{var a;if(s.path===""||!((a=s.path)!=null&&a.includes("?")))i(s,o);else for(let l of Rk(s.path))i(s,o,l)}),e}function Rk(t){let e=t.split("/");if(e.length===0)return[];let[n,...r]=e,i=n.endsWith("?"),s=n.replace(/\?$/,"");if(r.length===0)return i?[s,""]:[s];let o=Rk(r.join("/")),a=[];return a.push(...o.map(l=>l===""?s:[s,l].join("/"))),i&&a.push(...o),a.map(l=>t.startsWith("/")&&l===""?"/":l)}function JV(t){t.sort((e,n)=>e.score!==n.score?n.score-e.score:sF(e.routesMeta.map(r=>r.childrenIndex),n.routesMeta.map(r=>r.childrenIndex)))}const XV=/^:[\w-]+$/,ZV=3,eF=2,tF=1,nF=10,rF=-2,h1=t=>t==="*";function iF(t,e){let n=t.split("/"),r=n.length;return n.some(h1)&&(r+=rF),e&&(r+=eF),n.filter(i=>!h1(i)).reduce((i,s)=>i+(XV.test(s)?ZV:s===""?tF:nF),r)}function sF(t,e){return t.length===e.length&&t.slice(0,-1).every((r,i)=>r===e[i])?t[t.length-1]-e[e.length-1]:0}function oF(t,e,n){let{routesMeta:r}=t,i={},s="/",o=[];for(let a=0;a<r.length;++a){let l=r[a],u=a===r.length-1,d=s==="/"?e:e.slice(s.length)||"/",h=f1({path:l.relativePath,caseSensitive:l.caseSensitive,end:u},d),f=l.route;if(!h&&u&&n&&!r[r.length-1].route.index&&(h=f1({path:l.relativePath,caseSensitive:l.caseSensitive,end:!1},d)),!h)return null;Object.assign(i,h.params),o.push({params:i,pathname:js([s,h.pathname]),pathnameBase:hF(js([s,h.pathnameBase])),route:f}),h.pathnameBase!=="/"&&(s=js([s,h.pathnameBase]))}return o}function f1(t,e){typeof t=="string"&&(t={path:t,caseSensitive:!1,end:!0});let[n,r]=aF(t.path,t.caseSensitive,t.end),i=e.match(n);if(!i)return null;let s=i[0],o=s.replace(/(.)\/+$/,"$1"),a=i.slice(1);return{params:r.reduce((u,d,h)=>{let{paramName:f,isOptional:g}=d;if(f==="*"){let v=a[h]||"";o=s.slice(0,s.length-v.length).replace(/(.)\/+$/,"$1")}const _=a[h];return g&&!_?u[f]=void 0:u[f]=(_||"").replace(/%2F/g,"/"),u},{}),pathname:s,pathnameBase:o,pattern:t}}function aF(t,e,n){e===void 0&&(e=!1),n===void 0&&(n=!0),Tk(t==="*"||!t.endsWith("*")||t.endsWith("/*"),'Route path "'+t+'" will be treated as if it were '+('"'+t.replace(/\*$/,"/*")+'" because the `*` character must ')+"always follow a `/` in the pattern. To get rid of this warning, "+('please change the route path to "'+t.replace(/\*$/,"/*")+'".'));let r=[],i="^"+t.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(o,a,l)=>(r.push({paramName:a,isOptional:l!=null}),l?"/?([^\\/]+)?":"/([^\\/]+)"));return t.endsWith("*")?(r.push({paramName:"*"}),i+=t==="*"||t==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):n?i+="\\/*$":t!==""&&t!=="/"&&(i+="(?:(?=\\/|$))"),[new RegExp(i,e?void 0:"i"),r]}function lF(t){try{return t.split("/").map(e=>decodeURIComponent(e).replace(/\//g,"%2F")).join("/")}catch(e){return Tk(!1,'The URL path "'+t+'" could not be decoded because it is is a malformed URL segment. This is probably due to a bad percent '+("encoding ("+e+").")),t}}function Dw(t,e){if(e==="/")return t;if(!t.toLowerCase().startsWith(e.toLowerCase()))return null;let n=e.endsWith("/")?e.length-1:e.length,r=t.charAt(n);return r&&r!=="/"?null:t.slice(n)||"/"}function uF(t,e){e===void 0&&(e="/");let{pathname:n,search:r="",hash:i=""}=typeof t=="string"?uu(t):t;return{pathname:n?n.startsWith("/")?n:cF(n,e):e,search:fF(r),hash:pF(i)}}function cF(t,e){let n=e.replace(/\/+$/,"").split("/");return t.split("/").forEach(i=>{i===".."?n.length>1&&n.pop():i!=="."&&n.push(i)}),n.length>1?n.join("/"):"/"}function Jy(t,e,n,r){return"Cannot include a '"+t+"' character in a manually specified "+("`to."+e+"` field ["+JSON.stringify(r)+"].  Please separate it out to the ")+("`to."+n+"` field. Alternatively you may provide the full path as ")+'a string in <Link to="..."> and the router will parse it for you.'}function dF(t){return t.filter((e,n)=>n===0||e.route.path&&e.route.path.length>0)}function Ak(t,e){let n=dF(t);return e?n.map((r,i)=>i===n.length-1?r.pathname:r.pathnameBase):n.map(r=>r.pathnameBase)}function Pk(t,e,n,r){r===void 0&&(r=!1);let i;typeof t=="string"?i=uu(t):(i=md({},t),xt(!i.pathname||!i.pathname.includes("?"),Jy("?","pathname","search",i)),xt(!i.pathname||!i.pathname.includes("#"),Jy("#","pathname","hash",i)),xt(!i.search||!i.search.includes("#"),Jy("#","search","hash",i)));let s=t===""||i.pathname==="",o=s?"/":i.pathname,a;if(o==null)a=n;else{let h=e.length-1;if(!r&&o.startsWith("..")){let f=o.split("/");for(;f[0]==="..";)f.shift(),h-=1;i.pathname=f.join("/")}a=h>=0?e[h]:"/"}let l=uF(i,a),u=o&&o!=="/"&&o.endsWith("/"),d=(s||o===".")&&n.endsWith("/");return!l.pathname.endsWith("/")&&(u||d)&&(l.pathname+="/"),l}const js=t=>t.join("/").replace(/\/\/+/g,"/"),hF=t=>t.replace(/\/+$/,"").replace(/^\/*/,"/"),fF=t=>!t||t==="?"?"":t.startsWith("?")?t:"?"+t,pF=t=>!t||t==="#"?"":t.startsWith("#")?t:"#"+t;function mF(t){return t!=null&&typeof t.status=="number"&&typeof t.statusText=="string"&&typeof t.internal=="boolean"&&"data"in t}const kk=["post","put","patch","delete"];new Set(kk);const gF=["get",...kk];new Set(gF);/**
 * React Router v6.26.2
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function gd(){return gd=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},gd.apply(this,arguments)}const Nw=U.createContext(null),yF=U.createContext(null),Ea=U.createContext(null),$m=U.createContext(null),fo=U.createContext({outlet:null,matches:[],isDataRoute:!1}),Ck=U.createContext(null);function _F(t,e){let{relative:n}=e===void 0?{}:e;Qd()||xt(!1);let{basename:r,navigator:i}=U.useContext(Ea),{hash:s,pathname:o,search:a}=Dk(t,{relative:n}),l=o;return r!=="/"&&(l=o==="/"?r:js([r,o])),i.createHref({pathname:l,search:a,hash:s})}function Qd(){return U.useContext($m)!=null}function Jd(){return Qd()||xt(!1),U.useContext($m).location}function xk(t){U.useContext(Ea).static||U.useLayoutEffect(t)}function zm(){let{isDataRoute:t}=U.useContext(fo);return t?xF():vF()}function vF(){Qd()||xt(!1);let t=U.useContext(Nw),{basename:e,future:n,navigator:r}=U.useContext(Ea),{matches:i}=U.useContext(fo),{pathname:s}=Jd(),o=JSON.stringify(Ak(i,n.v7_relativeSplatPath)),a=U.useRef(!1);return xk(()=>{a.current=!0}),U.useCallback(function(u,d){if(d===void 0&&(d={}),!a.current)return;if(typeof u=="number"){r.go(u);return}let h=Pk(u,JSON.parse(o),s,d.relative==="path");t==null&&e!=="/"&&(h.pathname=h.pathname==="/"?e:js([e,h.pathname])),(d.replace?r.replace:r.push)(h,d.state,d)},[e,r,o,s,t])}function Ok(){let{matches:t}=U.useContext(fo),e=t[t.length-1];return e?e.params:{}}function Dk(t,e){let{relative:n}=e===void 0?{}:e,{future:r}=U.useContext(Ea),{matches:i}=U.useContext(fo),{pathname:s}=Jd(),o=JSON.stringify(Ak(i,r.v7_relativeSplatPath));return U.useMemo(()=>Pk(t,JSON.parse(o),s,n==="path"),[t,o,s,n])}function wF(t,e){return EF(t,e)}function EF(t,e,n,r){Qd()||xt(!1);let{navigator:i}=U.useContext(Ea),{matches:s}=U.useContext(fo),o=s[s.length-1],a=o?o.params:{};o&&o.pathname;let l=o?o.pathnameBase:"/";o&&o.route;let u=Jd(),d;if(e){var h;let T=typeof e=="string"?uu(e):e;l==="/"||(h=T.pathname)!=null&&h.startsWith(l)||xt(!1),d=T}else d=u;let f=d.pathname||"/",g=f;if(l!=="/"){let T=l.replace(/^\//,"").split("/");g="/"+f.replace(/^\//,"").split("/").slice(T.length).join("/")}let _=YV(t,{pathname:g}),v=RF(_&&_.map(T=>Object.assign({},T,{params:Object.assign({},a,T.params),pathname:js([l,i.encodeLocation?i.encodeLocation(T.pathname).pathname:T.pathname]),pathnameBase:T.pathnameBase==="/"?l:js([l,i.encodeLocation?i.encodeLocation(T.pathnameBase).pathname:T.pathnameBase])})),s,n,r);return e&&v?U.createElement($m.Provider,{value:{location:gd({pathname:"/",search:"",hash:"",state:null,key:"default"},d),navigationType:Cs.Pop}},v):v}function SF(){let t=CF(),e=mF(t)?t.status+" "+t.statusText:t instanceof Error?t.message:JSON.stringify(t),n=t instanceof Error?t.stack:null,i={padding:"0.5rem",backgroundColor:"rgba(200,200,200, 0.5)"};return U.createElement(U.Fragment,null,U.createElement("h2",null,"Unexpected Application Error!"),U.createElement("h3",{style:{fontStyle:"italic"}},e),n?U.createElement("pre",{style:i},n):null,null)}const IF=U.createElement(SF,null);class TF extends U.Component{constructor(e){super(e),this.state={location:e.location,revalidation:e.revalidation,error:e.error}}static getDerivedStateFromError(e){return{error:e}}static getDerivedStateFromProps(e,n){return n.location!==e.location||n.revalidation!=="idle"&&e.revalidation==="idle"?{error:e.error,location:e.location,revalidation:e.revalidation}:{error:e.error!==void 0?e.error:n.error,location:n.location,revalidation:e.revalidation||n.revalidation}}componentDidCatch(e,n){console.error("React Router caught the following error during render",e,n)}render(){return this.state.error!==void 0?U.createElement(fo.Provider,{value:this.props.routeContext},U.createElement(Ck.Provider,{value:this.state.error,children:this.props.component})):this.props.children}}function bF(t){let{routeContext:e,match:n,children:r}=t,i=U.useContext(Nw);return i&&i.static&&i.staticContext&&(n.route.errorElement||n.route.ErrorBoundary)&&(i.staticContext._deepestRenderedBoundaryId=n.route.id),U.createElement(fo.Provider,{value:e},r)}function RF(t,e,n,r){var i;if(e===void 0&&(e=[]),n===void 0&&(n=null),r===void 0&&(r=null),t==null){var s;if(!n)return null;if(n.errors)t=n.matches;else if((s=r)!=null&&s.v7_partialHydration&&e.length===0&&!n.initialized&&n.matches.length>0)t=n.matches;else return null}let o=t,a=(i=n)==null?void 0:i.errors;if(a!=null){let d=o.findIndex(h=>h.route.id&&(a==null?void 0:a[h.route.id])!==void 0);d>=0||xt(!1),o=o.slice(0,Math.min(o.length,d+1))}let l=!1,u=-1;if(n&&r&&r.v7_partialHydration)for(let d=0;d<o.length;d++){let h=o[d];if((h.route.HydrateFallback||h.route.hydrateFallbackElement)&&(u=d),h.route.id){let{loaderData:f,errors:g}=n,_=h.route.loader&&f[h.route.id]===void 0&&(!g||g[h.route.id]===void 0);if(h.route.lazy||_){l=!0,u>=0?o=o.slice(0,u+1):o=[o[0]];break}}}return o.reduceRight((d,h,f)=>{let g,_=!1,v=null,T=null;n&&(g=a&&h.route.id?a[h.route.id]:void 0,v=h.route.errorElement||IF,l&&(u<0&&f===0?(_=!0,T=null):u===f&&(_=!0,T=h.route.hydrateFallbackElement||null)));let I=e.concat(o.slice(0,f+1)),w=()=>{let E;return g?E=v:_?E=T:h.route.Component?E=U.createElement(h.route.Component,null):h.route.element?E=h.route.element:E=d,U.createElement(bF,{match:h,routeContext:{outlet:d,matches:I,isDataRoute:n!=null},children:E})};return n&&(h.route.ErrorBoundary||h.route.errorElement||f===0)?U.createElement(TF,{location:n.location,revalidation:n.revalidation,component:v,error:g,children:w(),routeContext:{outlet:null,matches:I,isDataRoute:!0}}):w()},null)}var Nk=function(t){return t.UseBlocker="useBlocker",t.UseRevalidator="useRevalidator",t.UseNavigateStable="useNavigate",t}(Nk||{}),Bp=function(t){return t.UseBlocker="useBlocker",t.UseLoaderData="useLoaderData",t.UseActionData="useActionData",t.UseRouteError="useRouteError",t.UseNavigation="useNavigation",t.UseRouteLoaderData="useRouteLoaderData",t.UseMatches="useMatches",t.UseRevalidator="useRevalidator",t.UseNavigateStable="useNavigate",t.UseRouteId="useRouteId",t}(Bp||{});function AF(t){let e=U.useContext(Nw);return e||xt(!1),e}function PF(t){let e=U.useContext(yF);return e||xt(!1),e}function kF(t){let e=U.useContext(fo);return e||xt(!1),e}function Mk(t){let e=kF(),n=e.matches[e.matches.length-1];return n.route.id||xt(!1),n.route.id}function CF(){var t;let e=U.useContext(Ck),n=PF(Bp.UseRouteError),r=Mk(Bp.UseRouteError);return e!==void 0?e:(t=n.errors)==null?void 0:t[r]}function xF(){let{router:t}=AF(Nk.UseNavigateStable),e=Mk(Bp.UseNavigateStable),n=U.useRef(!1);return xk(()=>{n.current=!0}),U.useCallback(function(i,s){s===void 0&&(s={}),n.current&&(typeof i=="number"?t.navigate(i):t.navigate(i,gd({fromRouteId:e},s)))},[t,e])}function Hr(t){xt(!1)}function OF(t){let{basename:e="/",children:n=null,location:r,navigationType:i=Cs.Pop,navigator:s,static:o=!1,future:a}=t;Qd()&&xt(!1);let l=e.replace(/^\/*/,"/"),u=U.useMemo(()=>({basename:l,navigator:s,static:o,future:gd({v7_relativeSplatPath:!1},a)}),[l,a,s,o]);typeof r=="string"&&(r=uu(r));let{pathname:d="/",search:h="",hash:f="",state:g=null,key:_="default"}=r,v=U.useMemo(()=>{let T=Dw(d,l);return T==null?null:{location:{pathname:T,search:h,hash:f,state:g,key:_},navigationType:i}},[l,d,h,f,g,_,i]);return v==null?null:U.createElement(Ea.Provider,{value:u},U.createElement($m.Provider,{children:n,value:v}))}function DF(t){let{children:e,location:n}=t;return wF(Ev(e),n)}new Promise(()=>{});function Ev(t,e){e===void 0&&(e=[]);let n=[];return U.Children.forEach(t,(r,i)=>{if(!U.isValidElement(r))return;let s=[...e,i];if(r.type===U.Fragment){n.push.apply(n,Ev(r.props.children,s));return}r.type!==Hr&&xt(!1),!r.props.index||!r.props.children||xt(!1);let o={id:r.props.id||s.join("-"),caseSensitive:r.props.caseSensitive,element:r.props.element,Component:r.props.Component,index:r.props.index,path:r.props.path,loader:r.props.loader,action:r.props.action,errorElement:r.props.errorElement,ErrorBoundary:r.props.ErrorBoundary,hasErrorBoundary:r.props.ErrorBoundary!=null||r.props.errorElement!=null,shouldRevalidate:r.props.shouldRevalidate,handle:r.props.handle,lazy:r.props.lazy};r.props.children&&(o.children=Ev(r.props.children,s)),n.push(o)}),n}/**
 * React Router DOM v6.26.2
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function Sv(){return Sv=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Sv.apply(this,arguments)}function NF(t,e){if(t==null)return{};var n={},r=Object.keys(t),i,s;for(s=0;s<r.length;s++)i=r[s],!(e.indexOf(i)>=0)&&(n[i]=t[i]);return n}function MF(t){return!!(t.metaKey||t.altKey||t.ctrlKey||t.shiftKey)}function LF(t,e){return t.button===0&&(!e||e==="_self")&&!MF(t)}const VF=["onClick","relative","reloadDocument","replace","state","target","to","preventScrollReset","unstable_viewTransition"],FF="6";try{window.__reactRouterVersion=FF}catch{}const UF="startTransition",p1=pp[UF];function BF(t){let{basename:e,children:n,future:r,window:i}=t,s=U.useRef();s.current==null&&(s.current=HV({window:i,v5Compat:!0}));let o=s.current,[a,l]=U.useState({action:o.action,location:o.location}),{v7_startTransition:u}=r||{},d=U.useCallback(h=>{u&&p1?p1(()=>l(h)):l(h)},[l,u]);return U.useLayoutEffect(()=>o.listen(d),[o,d]),U.createElement(OF,{basename:e,children:n,location:a.location,navigationType:a.action,navigator:o,future:r})}const $F=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",zF=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,xi=U.forwardRef(function(e,n){let{onClick:r,relative:i,reloadDocument:s,replace:o,state:a,target:l,to:u,preventScrollReset:d,unstable_viewTransition:h}=e,f=NF(e,VF),{basename:g}=U.useContext(Ea),_,v=!1;if(typeof u=="string"&&zF.test(u)&&(_=u,$F))try{let E=new URL(window.location.href),O=u.startsWith("//")?new URL(E.protocol+u):new URL(u),C=Dw(O.pathname,g);O.origin===E.origin&&C!=null?u=C+O.search+O.hash:v=!0}catch{}let T=_F(u,{relative:i}),I=jF(u,{replace:o,state:a,target:l,preventScrollReset:d,relative:i,unstable_viewTransition:h});function w(E){r&&r(E),E.defaultPrevented||I(E)}return U.createElement("a",Sv({},f,{href:_||T,onClick:v||s?r:w,ref:n,target:l}))});var m1;(function(t){t.UseScrollRestoration="useScrollRestoration",t.UseSubmit="useSubmit",t.UseSubmitFetcher="useSubmitFetcher",t.UseFetcher="useFetcher",t.useViewTransitionState="useViewTransitionState"})(m1||(m1={}));var g1;(function(t){t.UseFetcher="useFetcher",t.UseFetchers="useFetchers",t.UseScrollRestoration="useScrollRestoration"})(g1||(g1={}));function jF(t,e){let{target:n,replace:r,state:i,preventScrollReset:s,relative:o,unstable_viewTransition:a}=e===void 0?{}:e,l=zm(),u=Jd(),d=Dk(t,{relative:o});return U.useCallback(h=>{if(LF(h,n)){h.preventDefault();let f=r!==void 0?r:Up(u)===Up(d);l(t,{replace:f,state:i,preventScrollReset:s,relative:o,unstable_viewTransition:a})}},[u,l,d,r,i,n,t,s,o,a])}const WF=[{title:"Electronics",name:"electronics",imgLink:"https://images-na.ssl-images-amazon.com/images/G/01/AmazonExports/Fuji/2020/May/Dashboard/Fuji_Dash_TV_2X._SY304_CB432517900_.jpg"},{title:"Discover fashion trends",name:"women's clothing",imgLink:"https://images-na.ssl-images-amazon.com/images/G/01/softlines/shopbop/ingress/2023/March/mp_20230219_ff_desktopsinglecategory_desktop_379x304_1._SY304_CB612639047_.jpg"},{title:"Men's Clothing",name:"men's clothing",imgLink:"https://m.media-amazon.com/images/I/618bcm65ksL._AC_UL480_FMwebp_QL65_.jpg"},{title:"Jewelery",name:"jewelery",imgLink:"https://m.media-amazon.com/images/I/71r7eWuCsaL._AC_UL480_FMwebp_QL65_.jpg"}],qF="_category_5jcdb_1",HF="_category__container_5jcdb_35",Lk={category:qF,category__container:HF};function GF({data:t}){return x.createElement("div",{className:Lk.category},x.createElement(xi,{to:`/category/${t==null?void 0:t.name}`},x.createElement("span",null,x.createElement("h2",null,t==null?void 0:t.title)),x.createElement("img",{src:t==null?void 0:t.imgLink,alt:t.name+" products"}),x.createElement("p",null,"shop now")))}function KF(){return x.createElement("section",{className:Lk.category__container},WF.map(t=>x.createElement(GF,{key:t.name,data:t})))}var Vk={},jm={},Mw={},Xy={},Fk={exports:{}},YF="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED",QF=YF,JF=QF;function Uk(){}function Bk(){}Bk.resetWarningCache=Uk;var XF=function(){function t(r,i,s,o,a,l){if(l!==JF){var u=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw u.name="Invariant Violation",u}}t.isRequired=t;function e(){return t}var n={array:t,bigint:t,bool:t,func:t,number:t,object:t,string:t,symbol:t,any:t,arrayOf:e,element:t,elementType:t,instanceOf:e,node:t,objectOf:e,oneOf:e,oneOfType:e,shape:e,exact:e,checkPropTypes:Bk,resetWarningCache:Uk};return n.PropTypes=n,n};Fk.exports=XF();var $k=Fk.exports;const rt=F0($k);var y1;function ZF(){return y1||(y1=1,function(t){(function(e,n){n(t,U,$k)})(V0,function(e,n,r){Object.defineProperty(e,"__esModule",{value:!0}),e.setHasSupportToCaptureOption=_;var i=o(n),s=o(r);function o(w){return w&&w.__esModule?w:{default:w}}var a=Object.assign||function(w){for(var E=1;E<arguments.length;E++){var O=arguments[E];for(var C in O)Object.prototype.hasOwnProperty.call(O,C)&&(w[C]=O[C])}return w};function l(w,E){var O={};for(var C in w)E.indexOf(C)>=0||Object.prototype.hasOwnProperty.call(w,C)&&(O[C]=w[C]);return O}function u(w,E){if(!(w instanceof E))throw new TypeError("Cannot call a class as a function")}var d=function(){function w(E,O){for(var C=0;C<O.length;C++){var N=O[C];N.enumerable=N.enumerable||!1,N.configurable=!0,"value"in N&&(N.writable=!0),Object.defineProperty(E,N.key,N)}}return function(E,O,C){return O&&w(E.prototype,O),C&&w(E,C),E}}();function h(w,E){if(!w)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return E&&(typeof E=="object"||typeof E=="function")?E:w}function f(w,E){if(typeof E!="function"&&E!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof E);w.prototype=Object.create(E&&E.prototype,{constructor:{value:w,enumerable:!1,writable:!0,configurable:!0}}),E&&(Object.setPrototypeOf?Object.setPrototypeOf(w,E):w.__proto__=E)}var g=!1;function _(w){g=w}try{addEventListener("test",null,Object.defineProperty({},"capture",{get:function(){_(!0)}}))}catch{}function v(){var w=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{capture:!0};return g?w:w.capture}function T(w){if("touches"in w){var E=w.touches[0],O=E.pageX,C=E.pageY;return{x:O,y:C}}var N=w.screenX,b=w.screenY;return{x:N,y:b}}var I=function(w){f(E,w);function E(){var O;u(this,E);for(var C=arguments.length,N=Array(C),b=0;b<C;b++)N[b]=arguments[b];var S=h(this,(O=E.__proto__||Object.getPrototypeOf(E)).call.apply(O,[this].concat(N)));return S._handleSwipeStart=S._handleSwipeStart.bind(S),S._handleSwipeMove=S._handleSwipeMove.bind(S),S._handleSwipeEnd=S._handleSwipeEnd.bind(S),S._onMouseDown=S._onMouseDown.bind(S),S._onMouseMove=S._onMouseMove.bind(S),S._onMouseUp=S._onMouseUp.bind(S),S._setSwiperRef=S._setSwiperRef.bind(S),S}return d(E,[{key:"componentDidMount",value:function(){this.swiper&&this.swiper.addEventListener("touchmove",this._handleSwipeMove,v({capture:!0,passive:!1}))}},{key:"componentWillUnmount",value:function(){this.swiper&&this.swiper.removeEventListener("touchmove",this._handleSwipeMove,v({capture:!0,passive:!1}))}},{key:"_onMouseDown",value:function(C){this.props.allowMouseEvents&&(this.mouseDown=!0,document.addEventListener("mouseup",this._onMouseUp),document.addEventListener("mousemove",this._onMouseMove),this._handleSwipeStart(C))}},{key:"_onMouseMove",value:function(C){this.mouseDown&&this._handleSwipeMove(C)}},{key:"_onMouseUp",value:function(C){this.mouseDown=!1,document.removeEventListener("mouseup",this._onMouseUp),document.removeEventListener("mousemove",this._onMouseMove),this._handleSwipeEnd(C)}},{key:"_handleSwipeStart",value:function(C){var N=T(C),b=N.x,S=N.y;this.moveStart={x:b,y:S},this.props.onSwipeStart(C)}},{key:"_handleSwipeMove",value:function(C){if(this.moveStart){var N=T(C),b=N.x,S=N.y,m=b-this.moveStart.x,A=S-this.moveStart.y;this.moving=!0;var k=this.props.onSwipeMove({x:m,y:A},C);k&&C.cancelable&&C.preventDefault(),this.movePosition={deltaX:m,deltaY:A}}}},{key:"_handleSwipeEnd",value:function(C){this.props.onSwipeEnd(C);var N=this.props.tolerance;this.moving&&this.movePosition&&(this.movePosition.deltaX<-N?this.props.onSwipeLeft(1,C):this.movePosition.deltaX>N&&this.props.onSwipeRight(1,C),this.movePosition.deltaY<-N?this.props.onSwipeUp(1,C):this.movePosition.deltaY>N&&this.props.onSwipeDown(1,C)),this.moveStart=null,this.moving=!1,this.movePosition=null}},{key:"_setSwiperRef",value:function(C){this.swiper=C,this.props.innerRef(C)}},{key:"render",value:function(){var C=this.props;C.tagName;var N=C.className,b=C.style,S=C.children;C.allowMouseEvents,C.onSwipeUp,C.onSwipeDown,C.onSwipeLeft,C.onSwipeRight,C.onSwipeStart,C.onSwipeMove,C.onSwipeEnd,C.innerRef,C.tolerance;var m=l(C,["tagName","className","style","children","allowMouseEvents","onSwipeUp","onSwipeDown","onSwipeLeft","onSwipeRight","onSwipeStart","onSwipeMove","onSwipeEnd","innerRef","tolerance"]);return i.default.createElement(this.props.tagName,a({ref:this._setSwiperRef,onMouseDown:this._onMouseDown,onTouchStart:this._handleSwipeStart,onTouchEnd:this._handleSwipeEnd,className:N,style:b},m),S)}}]),E}(n.Component);I.displayName="ReactSwipe",I.propTypes={tagName:s.default.string,className:s.default.string,style:s.default.object,children:s.default.node,allowMouseEvents:s.default.bool,onSwipeUp:s.default.func,onSwipeDown:s.default.func,onSwipeLeft:s.default.func,onSwipeRight:s.default.func,onSwipeStart:s.default.func,onSwipeMove:s.default.func,onSwipeEnd:s.default.func,innerRef:s.default.func,tolerance:s.default.number.isRequired},I.defaultProps={tagName:"div",allowMouseEvents:!1,onSwipeUp:function(){},onSwipeDown:function(){},onSwipeLeft:function(){},onSwipeRight:function(){},onSwipeStart:function(){},onSwipeMove:function(){},onSwipeEnd:function(){},innerRef:function(){},tolerance:0},e.default=I})}(Xy)),Xy}(function(t){(function(e,n){n(t,ZF())})(V0,function(e,n){Object.defineProperty(e,"__esModule",{value:!0});var r=i(n);function i(s){return s&&s.__esModule?s:{default:s}}e.default=r.default})})(Mw);var Xd={},zk={exports:{}};/*!
	Copyright (c) 2018 Jed Watson.
	Licensed under the MIT License (MIT), see
	http://jedwatson.github.io/classnames
*/(function(t){(function(){var e={}.hasOwnProperty;function n(){for(var s="",o=0;o<arguments.length;o++){var a=arguments[o];a&&(s=i(s,r(a)))}return s}function r(s){if(typeof s=="string"||typeof s=="number")return s;if(typeof s!="object")return"";if(Array.isArray(s))return n.apply(null,s);if(s.toString!==Object.prototype.toString&&!s.toString.toString().includes("[native code]"))return s.toString();var o="";for(var a in s)e.call(s,a)&&s[a]&&(o=i(o,a));return o}function i(s,o){return o?s?s+" "+o:s+o:s}t.exports?(n.default=n,t.exports=n):window.classNames=n})()})(zk);var e4=zk.exports;Object.defineProperty(Xd,"__esModule",{value:!0});Xd.default=void 0;var ms=t4(e4);function t4(t){return t&&t.__esModule?t:{default:t}}function n4(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}var r4={ROOT:function(e){return(0,ms.default)(n4({"carousel-root":!0},e||"",!!e))},CAROUSEL:function(e){return(0,ms.default)({carousel:!0,"carousel-slider":e})},WRAPPER:function(e,n){return(0,ms.default)({"thumbs-wrapper":!e,"slider-wrapper":e,"axis-horizontal":n==="horizontal","axis-vertical":n!=="horizontal"})},SLIDER:function(e,n){return(0,ms.default)({thumbs:!e,slider:e,animated:!n})},ITEM:function(e,n,r){return(0,ms.default)({thumb:!e,slide:e,selected:n,previous:r})},ARROW_PREV:function(e){return(0,ms.default)({"control-arrow control-prev":!0,"control-disabled":e})},ARROW_NEXT:function(e){return(0,ms.default)({"control-arrow control-next":!0,"control-disabled":e})},DOT:function(e){return(0,ms.default)({dot:!0,selected:e})}};Xd.default=r4;var Zd={},Wm={};Object.defineProperty(Wm,"__esModule",{value:!0});Wm.outerWidth=void 0;var i4=function(e){var n=e.offsetWidth,r=getComputedStyle(e);return n+=parseInt(r.marginLeft)+parseInt(r.marginRight),n};Wm.outerWidth=i4;var cu={};Object.defineProperty(cu,"__esModule",{value:!0});cu.default=void 0;var s4=function(e,n,r){var i=e===0?e:e+n,s=r==="horizontal"?[i,0,0]:[0,i,0],o="translate3d",a="("+s.join(",")+")";return o+a};cu.default=s4;var eh={};Object.defineProperty(eh,"__esModule",{value:!0});eh.default=void 0;var o4=function(){return window};eh.default=o4;Object.defineProperty(Zd,"__esModule",{value:!0});Zd.default=void 0;var Ar=u4(U),Ro=qm(Xd),a4=Wm,_1=qm(cu),l4=qm(Mw),ff=qm(eh);function qm(t){return t&&t.__esModule?t:{default:t}}function jk(){if(typeof WeakMap!="function")return null;var t=new WeakMap;return jk=function(){return t},t}function u4(t){if(t&&t.__esModule)return t;if(t===null||Vc(t)!=="object"&&typeof t!="function")return{default:t};var e=jk();if(e&&e.has(t))return e.get(t);var n={},r=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var i in t)if(Object.prototype.hasOwnProperty.call(t,i)){var s=r?Object.getOwnPropertyDescriptor(t,i):null;s&&(s.get||s.set)?Object.defineProperty(n,i,s):n[i]=t[i]}return n.default=t,e&&e.set(t,n),n}function Vc(t){"@babel/helpers - typeof";return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?Vc=function(n){return typeof n}:Vc=function(n){return n&&typeof Symbol=="function"&&n.constructor===Symbol&&n!==Symbol.prototype?"symbol":typeof n},Vc(t)}function Iv(){return Iv=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Iv.apply(this,arguments)}function c4(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function d4(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function h4(t,e,n){return e&&d4(t.prototype,e),t}function f4(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&Tv(t,e)}function Tv(t,e){return Tv=Object.setPrototypeOf||function(r,i){return r.__proto__=i,r},Tv(t,e)}function p4(t){var e=g4();return function(){var r=$p(t),i;if(e){var s=$p(this).constructor;i=Reflect.construct(r,arguments,s)}else i=r.apply(this,arguments);return m4(this,i)}}function m4(t,e){return e&&(Vc(e)==="object"||typeof e=="function")?e:yn(t)}function yn(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function g4(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch{return!1}}function $p(t){return $p=Object.setPrototypeOf?Object.getPrototypeOf:function(n){return n.__proto__||Object.getPrototypeOf(n)},$p(t)}function un(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}var y4=function(e){return e.hasOwnProperty("key")},Lw=function(t){f4(n,t);var e=p4(n);function n(r){var i;return c4(this,n),i=e.call(this,r),un(yn(i),"itemsWrapperRef",void 0),un(yn(i),"itemsListRef",void 0),un(yn(i),"thumbsRef",void 0),un(yn(i),"setItemsWrapperRef",function(s){i.itemsWrapperRef=s}),un(yn(i),"setItemsListRef",function(s){i.itemsListRef=s}),un(yn(i),"setThumbsRef",function(s,o){i.thumbsRef||(i.thumbsRef=[]),i.thumbsRef[o]=s}),un(yn(i),"updateSizes",function(){if(!(!i.props.children||!i.itemsWrapperRef||!i.thumbsRef)){var s=Ar.Children.count(i.props.children),o=i.itemsWrapperRef.clientWidth,a=i.props.thumbWidth?i.props.thumbWidth:(0,a4.outerWidth)(i.thumbsRef[0]),l=Math.floor(o/a),u=l<s,d=u?s-l:0;i.setState(function(h,f){return{itemSize:a,visibleItems:l,firstItem:u?i.getFirstItem(f.selectedItem):0,lastPosition:d,showArrows:u}})}}),un(yn(i),"handleClickItem",function(s,o,a){if(!y4(a)||a.key==="Enter"){var l=i.props.onSelectItem;typeof l=="function"&&l(s,o)}}),un(yn(i),"onSwipeStart",function(){i.setState({swiping:!0})}),un(yn(i),"onSwipeEnd",function(){i.setState({swiping:!1})}),un(yn(i),"onSwipeMove",function(s){var o=s.x;if(!i.state.itemSize||!i.itemsWrapperRef||!i.state.visibleItems)return!1;var a=0,l=Ar.Children.count(i.props.children),u=-(i.state.firstItem*100)/i.state.visibleItems,d=Math.max(l-i.state.visibleItems,0),h=-d*100/i.state.visibleItems;u===a&&o>0&&(o=0),u===h&&o<0&&(o=0);var f=i.itemsWrapperRef.clientWidth,g=u+100/(f/o);return i.itemsListRef&&["WebkitTransform","MozTransform","MsTransform","OTransform","transform","msTransform"].forEach(function(_){i.itemsListRef.style[_]=(0,_1.default)(g,"%",i.props.axis)}),!0}),un(yn(i),"slideRight",function(s){i.moveTo(i.state.firstItem-(typeof s=="number"?s:1))}),un(yn(i),"slideLeft",function(s){i.moveTo(i.state.firstItem+(typeof s=="number"?s:1))}),un(yn(i),"moveTo",function(s){s=s<0?0:s,s=s>=i.state.lastPosition?i.state.lastPosition:s,i.setState({firstItem:s})}),i.state={selectedItem:r.selectedItem,swiping:!1,showArrows:!1,firstItem:0,visibleItems:0,lastPosition:0},i}return h4(n,[{key:"componentDidMount",value:function(){this.setupThumbs()}},{key:"componentDidUpdate",value:function(i){this.props.selectedItem!==this.state.selectedItem&&this.setState({selectedItem:this.props.selectedItem,firstItem:this.getFirstItem(this.props.selectedItem)}),this.props.children!==i.children&&this.updateSizes()}},{key:"componentWillUnmount",value:function(){this.destroyThumbs()}},{key:"setupThumbs",value:function(){(0,ff.default)().addEventListener("resize",this.updateSizes),(0,ff.default)().addEventListener("DOMContentLoaded",this.updateSizes),this.updateSizes()}},{key:"destroyThumbs",value:function(){(0,ff.default)().removeEventListener("resize",this.updateSizes),(0,ff.default)().removeEventListener("DOMContentLoaded",this.updateSizes)}},{key:"getFirstItem",value:function(i){var s=i;return i>=this.state.lastPosition&&(s=this.state.lastPosition),i<this.state.firstItem+this.state.visibleItems&&(s=this.state.firstItem),i<this.state.firstItem&&(s=i),s}},{key:"renderItems",value:function(){var i=this;return this.props.children.map(function(s,o){var a=Ro.default.ITEM(!1,o===i.state.selectedItem),l={key:o,ref:function(d){return i.setThumbsRef(d,o)},className:a,onClick:i.handleClickItem.bind(i,o,i.props.children[o]),onKeyDown:i.handleClickItem.bind(i,o,i.props.children[o]),"aria-label":"".concat(i.props.labels.item," ").concat(o+1),style:{width:i.props.thumbWidth}};return Ar.default.createElement("li",Iv({},l,{role:"button",tabIndex:0}),s)})}},{key:"render",value:function(){var i=this;if(!this.props.children)return null;var s=Ar.Children.count(this.props.children)>1,o=this.state.showArrows&&this.state.firstItem>0,a=this.state.showArrows&&this.state.firstItem<this.state.lastPosition,l={},u=-this.state.firstItem*(this.state.itemSize||0),d=(0,_1.default)(u,"px",this.props.axis),h=this.props.transitionTime+"ms";return l={WebkitTransform:d,MozTransform:d,MsTransform:d,OTransform:d,transform:d,msTransform:d,WebkitTransitionDuration:h,MozTransitionDuration:h,MsTransitionDuration:h,OTransitionDuration:h,transitionDuration:h,msTransitionDuration:h},Ar.default.createElement("div",{className:Ro.default.CAROUSEL(!1)},Ar.default.createElement("div",{className:Ro.default.WRAPPER(!1),ref:this.setItemsWrapperRef},Ar.default.createElement("button",{type:"button",className:Ro.default.ARROW_PREV(!o),onClick:function(){return i.slideRight()},"aria-label":this.props.labels.leftArrow}),s?Ar.default.createElement(l4.default,{tagName:"ul",className:Ro.default.SLIDER(!1,this.state.swiping),onSwipeLeft:this.slideLeft,onSwipeRight:this.slideRight,onSwipeMove:this.onSwipeMove,onSwipeStart:this.onSwipeStart,onSwipeEnd:this.onSwipeEnd,style:l,innerRef:this.setItemsListRef,allowMouseEvents:this.props.emulateTouch},this.renderItems()):Ar.default.createElement("ul",{className:Ro.default.SLIDER(!1,this.state.swiping),ref:function(g){return i.setItemsListRef(g)},style:l},this.renderItems()),Ar.default.createElement("button",{type:"button",className:Ro.default.ARROW_NEXT(!a),onClick:function(){return i.slideLeft()},"aria-label":this.props.labels.rightArrow})))}}]),n}(Ar.Component);Zd.default=Lw;un(Lw,"displayName","Thumbs");un(Lw,"defaultProps",{axis:"horizontal",labels:{leftArrow:"previous slide / item",rightArrow:"next slide / item",item:"slide item"},selectedItem:0,thumbWidth:80,transitionTime:350});var Hm={};Object.defineProperty(Hm,"__esModule",{value:!0});Hm.default=void 0;var _4=function(){return document};Hm.default=_4;var Gn={};Object.defineProperty(Gn,"__esModule",{value:!0});Gn.setPosition=Gn.getPosition=Gn.isKeyboardEvent=Gn.defaultStatusFormatter=Gn.noop=void 0;var v4=U,w4=E4(cu);function E4(t){return t&&t.__esModule?t:{default:t}}var S4=function(){};Gn.noop=S4;var I4=function(e,n){return"".concat(e," of ").concat(n)};Gn.defaultStatusFormatter=I4;var T4=function(e){return e?e.hasOwnProperty("key"):!1};Gn.isKeyboardEvent=T4;var b4=function(e,n){if(n.infiniteLoop&&++e,e===0)return 0;var r=v4.Children.count(n.children);if(n.centerMode&&n.axis==="horizontal"){var i=-e*n.centerSlidePercentage,s=r-1;return e&&(e!==s||n.infiniteLoop)?i+=(100-n.centerSlidePercentage)/2:e===s&&(i+=100-n.centerSlidePercentage),i}return-e*100};Gn.getPosition=b4;var R4=function(e,n){var r={};return["WebkitTransform","MozTransform","MsTransform","OTransform","transform","msTransform"].forEach(function(i){r[i]=(0,w4.default)(e,"%",n)}),r};Gn.setPosition=R4;var ni={};Object.defineProperty(ni,"__esModule",{value:!0});ni.fadeAnimationHandler=ni.slideStopSwipingHandler=ni.slideSwipeAnimationHandler=ni.slideAnimationHandler=void 0;var Wk=U,A4=P4(cu),ri=Gn;function P4(t){return t&&t.__esModule?t:{default:t}}function v1(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function No(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?v1(Object(n),!0).forEach(function(r){k4(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):v1(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function k4(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}var C4=function(e,n){var r={},i=n.selectedItem,s=i,o=Wk.Children.count(e.children)-1,a=e.infiniteLoop&&(i<0||i>o);if(a)return s<0?e.centerMode&&e.centerSlidePercentage&&e.axis==="horizontal"?r.itemListStyle=(0,ri.setPosition)(-(o+2)*e.centerSlidePercentage-(100-e.centerSlidePercentage)/2,e.axis):r.itemListStyle=(0,ri.setPosition)(-(o+2)*100,e.axis):s>o&&(r.itemListStyle=(0,ri.setPosition)(0,e.axis)),r;var l=(0,ri.getPosition)(i,e),u=(0,A4.default)(l,"%",e.axis),d=e.transitionTime+"ms";return r.itemListStyle={WebkitTransform:u,msTransform:u,OTransform:u,transform:u},n.swiping||(r.itemListStyle=No(No({},r.itemListStyle),{},{WebkitTransitionDuration:d,MozTransitionDuration:d,OTransitionDuration:d,transitionDuration:d,msTransitionDuration:d})),r};ni.slideAnimationHandler=C4;var x4=function(e,n,r,i){var s={},o=n.axis==="horizontal",a=Wk.Children.count(n.children),l=0,u=(0,ri.getPosition)(r.selectedItem,n),d=n.infiniteLoop?(0,ri.getPosition)(a-1,n)-100:(0,ri.getPosition)(a-1,n),h=o?e.x:e.y,f=h;u===l&&h>0&&(f=0),u===d&&h<0&&(f=0);var g=u+100/(r.itemSize/f),_=Math.abs(h)>n.swipeScrollTolerance;return n.infiniteLoop&&_&&(r.selectedItem===0&&g>-100?g-=a*100:r.selectedItem===a-1&&g<-a*100&&(g+=a*100)),(!n.preventMovementUntilSwipeScrollTolerance||_||r.swipeMovementStarted)&&(r.swipeMovementStarted||i({swipeMovementStarted:!0}),s.itemListStyle=(0,ri.setPosition)(g,n.axis)),_&&!r.cancelClick&&i({cancelClick:!0}),s};ni.slideSwipeAnimationHandler=x4;var O4=function(e,n){var r=(0,ri.getPosition)(n.selectedItem,e),i=(0,ri.setPosition)(r,e.axis);return{itemListStyle:i}};ni.slideStopSwipingHandler=O4;var D4=function(e,n){var r=e.transitionTime+"ms",i="ease-in-out",s={position:"absolute",display:"block",zIndex:-2,minHeight:"100%",opacity:0,top:0,right:0,left:0,bottom:0,transitionTimingFunction:i,msTransitionTimingFunction:i,MozTransitionTimingFunction:i,WebkitTransitionTimingFunction:i,OTransitionTimingFunction:i};return n.swiping||(s=No(No({},s),{},{WebkitTransitionDuration:r,MozTransitionDuration:r,OTransitionDuration:r,transitionDuration:r,msTransitionDuration:r})),{slideStyle:s,selectedStyle:No(No({},s),{},{opacity:1,position:"relative"}),prevStyle:No({},s)}};ni.fadeAnimationHandler=D4;Object.defineProperty(jm,"__esModule",{value:!0});jm.default=void 0;var xe=L4(U),N4=th(Mw),Ci=th(Xd),M4=th(Zd),pf=th(Hm),mf=th(eh),vc=Gn,zp=ni;function th(t){return t&&t.__esModule?t:{default:t}}function qk(){if(typeof WeakMap!="function")return null;var t=new WeakMap;return qk=function(){return t},t}function L4(t){if(t&&t.__esModule)return t;if(t===null||Fc(t)!=="object"&&typeof t!="function")return{default:t};var e=qk();if(e&&e.has(t))return e.get(t);var n={},r=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var i in t)if(Object.prototype.hasOwnProperty.call(t,i)){var s=r?Object.getOwnPropertyDescriptor(t,i):null;s&&(s.get||s.set)?Object.defineProperty(n,i,s):n[i]=t[i]}return n.default=t,e&&e.set(t,n),n}function Fc(t){"@babel/helpers - typeof";return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?Fc=function(n){return typeof n}:Fc=function(n){return n&&typeof Symbol=="function"&&n.constructor===Symbol&&n!==Symbol.prototype?"symbol":typeof n},Fc(t)}function bv(){return bv=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},bv.apply(this,arguments)}function w1(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Pr(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?w1(Object(n),!0).forEach(function(r){de(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):w1(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function V4(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function F4(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function U4(t,e,n){return e&&F4(t.prototype,e),t}function B4(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&Rv(t,e)}function Rv(t,e){return Rv=Object.setPrototypeOf||function(r,i){return r.__proto__=i,r},Rv(t,e)}function $4(t){var e=j4();return function(){var r=jp(t),i;if(e){var s=jp(this).constructor;i=Reflect.construct(r,arguments,s)}else i=r.apply(this,arguments);return z4(this,i)}}function z4(t,e){return e&&(Fc(e)==="object"||typeof e=="function")?e:he(t)}function he(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function j4(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch{return!1}}function jp(t){return jp=Object.setPrototypeOf?Object.getPrototypeOf:function(n){return n.__proto__||Object.getPrototypeOf(n)},jp(t)}function de(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}var Vw=function(t){B4(n,t);var e=$4(n);function n(r){var i;V4(this,n),i=e.call(this,r),de(he(i),"thumbsRef",void 0),de(he(i),"carouselWrapperRef",void 0),de(he(i),"listRef",void 0),de(he(i),"itemsRef",void 0),de(he(i),"timer",void 0),de(he(i),"animationHandler",void 0),de(he(i),"setThumbsRef",function(o){i.thumbsRef=o}),de(he(i),"setCarouselWrapperRef",function(o){i.carouselWrapperRef=o}),de(he(i),"setListRef",function(o){i.listRef=o}),de(he(i),"setItemsRef",function(o,a){i.itemsRef||(i.itemsRef=[]),i.itemsRef[a]=o}),de(he(i),"autoPlay",function(){xe.Children.count(i.props.children)<=1||(i.clearAutoPlay(),i.props.autoPlay&&(i.timer=setTimeout(function(){i.increment()},i.props.interval)))}),de(he(i),"clearAutoPlay",function(){i.timer&&clearTimeout(i.timer)}),de(he(i),"resetAutoPlay",function(){i.clearAutoPlay(),i.autoPlay()}),de(he(i),"stopOnHover",function(){i.setState({isMouseEntered:!0},i.clearAutoPlay)}),de(he(i),"startOnLeave",function(){i.setState({isMouseEntered:!1},i.autoPlay)}),de(he(i),"isFocusWithinTheCarousel",function(){return i.carouselWrapperRef?!!((0,pf.default)().activeElement===i.carouselWrapperRef||i.carouselWrapperRef.contains((0,pf.default)().activeElement)):!1}),de(he(i),"navigateWithKeyboard",function(o){if(i.isFocusWithinTheCarousel()){var a=i.props.axis,l=a==="horizontal",u={ArrowUp:38,ArrowRight:39,ArrowDown:40,ArrowLeft:37},d=l?u.ArrowRight:u.ArrowDown,h=l?u.ArrowLeft:u.ArrowUp;d===o.keyCode?i.increment():h===o.keyCode&&i.decrement()}}),de(he(i),"updateSizes",function(){if(!(!i.state.initialized||!i.itemsRef||i.itemsRef.length===0)){var o=i.props.axis==="horizontal",a=i.itemsRef[0];if(a){var l=o?a.clientWidth:a.clientHeight;i.setState({itemSize:l}),i.thumbsRef&&i.thumbsRef.updateSizes()}}}),de(he(i),"setMountState",function(){i.setState({hasMount:!0}),i.updateSizes()}),de(he(i),"handleClickItem",function(o,a){if(xe.Children.count(i.props.children)!==0){if(i.state.cancelClick){i.setState({cancelClick:!1});return}i.props.onClickItem(o,a),o!==i.state.selectedItem&&i.setState({selectedItem:o})}}),de(he(i),"handleOnChange",function(o,a){xe.Children.count(i.props.children)<=1||i.props.onChange(o,a)}),de(he(i),"handleClickThumb",function(o,a){i.props.onClickThumb(o,a),i.moveTo(o)}),de(he(i),"onSwipeStart",function(o){i.setState({swiping:!0}),i.props.onSwipeStart(o)}),de(he(i),"onSwipeEnd",function(o){i.setState({swiping:!1,cancelClick:!1,swipeMovementStarted:!1}),i.props.onSwipeEnd(o),i.clearAutoPlay(),i.state.autoPlay&&i.autoPlay()}),de(he(i),"onSwipeMove",function(o,a){i.props.onSwipeMove(a);var l=i.props.swipeAnimationHandler(o,i.props,i.state,i.setState.bind(he(i)));return i.setState(Pr({},l)),!!Object.keys(l).length}),de(he(i),"decrement",function(){var o=arguments.length>0&&arguments[0]!==void 0?arguments[0]:1;i.moveTo(i.state.selectedItem-(typeof o=="number"?o:1))}),de(he(i),"increment",function(){var o=arguments.length>0&&arguments[0]!==void 0?arguments[0]:1;i.moveTo(i.state.selectedItem+(typeof o=="number"?o:1))}),de(he(i),"moveTo",function(o){if(typeof o=="number"){var a=xe.Children.count(i.props.children)-1;o<0&&(o=i.props.infiniteLoop?a:0),o>a&&(o=i.props.infiniteLoop?0:a),i.selectItem({selectedItem:o}),i.state.autoPlay&&i.state.isMouseEntered===!1&&i.resetAutoPlay()}}),de(he(i),"onClickNext",function(){i.increment(1)}),de(he(i),"onClickPrev",function(){i.decrement(1)}),de(he(i),"onSwipeForward",function(){i.increment(1),i.props.emulateTouch&&i.setState({cancelClick:!0})}),de(he(i),"onSwipeBackwards",function(){i.decrement(1),i.props.emulateTouch&&i.setState({cancelClick:!0})}),de(he(i),"changeItem",function(o){return function(a){(!(0,vc.isKeyboardEvent)(a)||a.key==="Enter")&&i.moveTo(o)}}),de(he(i),"selectItem",function(o){i.setState(Pr({previousItem:i.state.selectedItem},o),function(){i.setState(i.animationHandler(i.props,i.state))}),i.handleOnChange(o.selectedItem,xe.Children.toArray(i.props.children)[o.selectedItem])}),de(he(i),"getInitialImage",function(){var o=i.props.selectedItem,a=i.itemsRef&&i.itemsRef[o],l=a&&a.getElementsByTagName("img")||[];return l[0]}),de(he(i),"getVariableItemHeight",function(o){var a=i.itemsRef&&i.itemsRef[o];if(i.state.hasMount&&a&&a.children.length){var l=a.children[0].getElementsByTagName("img")||[];if(l.length>0){var u=l[0];if(!u.complete){var d=function g(){i.forceUpdate(),u.removeEventListener("load",g)};u.addEventListener("load",d)}}var h=l[0]||a.children[0],f=h.clientHeight;return f>0?f:null}return null});var s={initialized:!1,previousItem:r.selectedItem,selectedItem:r.selectedItem,hasMount:!1,isMouseEntered:!1,autoPlay:r.autoPlay,swiping:!1,swipeMovementStarted:!1,cancelClick:!1,itemSize:1,itemListStyle:{},slideStyle:{},selectedStyle:{},prevStyle:{}};return i.animationHandler=typeof r.animationHandler=="function"&&r.animationHandler||r.animationHandler==="fade"&&zp.fadeAnimationHandler||zp.slideAnimationHandler,i.state=Pr(Pr({},s),i.animationHandler(r,s)),i}return U4(n,[{key:"componentDidMount",value:function(){this.props.children&&this.setupCarousel()}},{key:"componentDidUpdate",value:function(i,s){!i.children&&this.props.children&&!this.state.initialized&&this.setupCarousel(),!i.autoFocus&&this.props.autoFocus&&this.forceFocus(),s.swiping&&!this.state.swiping&&this.setState(Pr({},this.props.stopSwipingHandler(this.props,this.state))),(i.selectedItem!==this.props.selectedItem||i.centerMode!==this.props.centerMode)&&(this.updateSizes(),this.moveTo(this.props.selectedItem)),i.autoPlay!==this.props.autoPlay&&(this.props.autoPlay?this.setupAutoPlay():this.destroyAutoPlay(),this.setState({autoPlay:this.props.autoPlay}))}},{key:"componentWillUnmount",value:function(){this.destroyCarousel()}},{key:"setupCarousel",value:function(){var i=this;this.bindEvents(),this.state.autoPlay&&xe.Children.count(this.props.children)>1&&this.setupAutoPlay(),this.props.autoFocus&&this.forceFocus(),this.setState({initialized:!0},function(){var s=i.getInitialImage();s&&!s.complete?s.addEventListener("load",i.setMountState):i.setMountState()})}},{key:"destroyCarousel",value:function(){this.state.initialized&&(this.unbindEvents(),this.destroyAutoPlay())}},{key:"setupAutoPlay",value:function(){this.autoPlay();var i=this.carouselWrapperRef;this.props.stopOnHover&&i&&(i.addEventListener("mouseenter",this.stopOnHover),i.addEventListener("mouseleave",this.startOnLeave))}},{key:"destroyAutoPlay",value:function(){this.clearAutoPlay();var i=this.carouselWrapperRef;this.props.stopOnHover&&i&&(i.removeEventListener("mouseenter",this.stopOnHover),i.removeEventListener("mouseleave",this.startOnLeave))}},{key:"bindEvents",value:function(){(0,mf.default)().addEventListener("resize",this.updateSizes),(0,mf.default)().addEventListener("DOMContentLoaded",this.updateSizes),this.props.useKeyboardArrows&&(0,pf.default)().addEventListener("keydown",this.navigateWithKeyboard)}},{key:"unbindEvents",value:function(){(0,mf.default)().removeEventListener("resize",this.updateSizes),(0,mf.default)().removeEventListener("DOMContentLoaded",this.updateSizes);var i=this.getInitialImage();i&&i.removeEventListener("load",this.setMountState),this.props.useKeyboardArrows&&(0,pf.default)().removeEventListener("keydown",this.navigateWithKeyboard)}},{key:"forceFocus",value:function(){var i;(i=this.carouselWrapperRef)===null||i===void 0||i.focus()}},{key:"renderItems",value:function(i){var s=this;return this.props.children?xe.Children.map(this.props.children,function(o,a){var l=a===s.state.selectedItem,u=a===s.state.previousItem,d=l&&s.state.selectedStyle||u&&s.state.prevStyle||s.state.slideStyle||{};s.props.centerMode&&s.props.axis==="horizontal"&&(d=Pr(Pr({},d),{},{minWidth:s.props.centerSlidePercentage+"%"})),s.state.swiping&&s.state.swipeMovementStarted&&(d=Pr(Pr({},d),{},{pointerEvents:"none"}));var h={ref:function(g){return s.setItemsRef(g,a)},key:"itemKey"+a+(i?"clone":""),className:Ci.default.ITEM(!0,a===s.state.selectedItem,a===s.state.previousItem),onClick:s.handleClickItem.bind(s,a,o),style:d};return xe.default.createElement("li",h,s.props.renderItem(o,{isSelected:a===s.state.selectedItem,isPrevious:a===s.state.previousItem}))}):[]}},{key:"renderControls",value:function(){var i=this,s=this.props,o=s.showIndicators,a=s.labels,l=s.renderIndicator,u=s.children;return o?xe.default.createElement("ul",{className:"control-dots"},xe.Children.map(u,function(d,h){return l&&l(i.changeItem(h),h===i.state.selectedItem,h,a.item)})):null}},{key:"renderStatus",value:function(){return this.props.showStatus?xe.default.createElement("p",{className:"carousel-status"},this.props.statusFormatter(this.state.selectedItem+1,xe.Children.count(this.props.children))):null}},{key:"renderThumbs",value:function(){return!this.props.showThumbs||!this.props.children||xe.Children.count(this.props.children)===0?null:xe.default.createElement(M4.default,{ref:this.setThumbsRef,onSelectItem:this.handleClickThumb,selectedItem:this.state.selectedItem,transitionTime:this.props.transitionTime,thumbWidth:this.props.thumbWidth,labels:this.props.labels,emulateTouch:this.props.emulateTouch},this.props.renderThumbs(this.props.children))}},{key:"render",value:function(){var i=this;if(!this.props.children||xe.Children.count(this.props.children)===0)return null;var s=this.props.swipeable&&xe.Children.count(this.props.children)>1,o=this.props.axis==="horizontal",a=this.props.showArrows&&xe.Children.count(this.props.children)>1,l=a&&(this.state.selectedItem>0||this.props.infiniteLoop)||!1,u=a&&(this.state.selectedItem<xe.Children.count(this.props.children)-1||this.props.infiniteLoop)||!1,d=this.renderItems(!0),h=d.shift(),f=d.pop(),g={className:Ci.default.SLIDER(!0,this.state.swiping),onSwipeMove:this.onSwipeMove,onSwipeStart:this.onSwipeStart,onSwipeEnd:this.onSwipeEnd,style:this.state.itemListStyle,tolerance:this.props.swipeScrollTolerance},_={};if(o){if(g.onSwipeLeft=this.onSwipeForward,g.onSwipeRight=this.onSwipeBackwards,this.props.dynamicHeight){var v=this.getVariableItemHeight(this.state.selectedItem);_.height=v||"auto"}}else g.onSwipeUp=this.props.verticalSwipe==="natural"?this.onSwipeBackwards:this.onSwipeForward,g.onSwipeDown=this.props.verticalSwipe==="natural"?this.onSwipeForward:this.onSwipeBackwards,g.style=Pr(Pr({},g.style),{},{height:this.state.itemSize}),_.height=this.state.itemSize;return xe.default.createElement("div",{"aria-label":this.props.ariaLabel,className:Ci.default.ROOT(this.props.className),ref:this.setCarouselWrapperRef,tabIndex:this.props.useKeyboardArrows?0:void 0},xe.default.createElement("div",{className:Ci.default.CAROUSEL(!0),style:{width:this.props.width}},this.renderControls(),this.props.renderArrowPrev(this.onClickPrev,l,this.props.labels.leftArrow),xe.default.createElement("div",{className:Ci.default.WRAPPER(!0,this.props.axis),style:_},s?xe.default.createElement(N4.default,bv({tagName:"ul",innerRef:this.setListRef},g,{allowMouseEvents:this.props.emulateTouch}),this.props.infiniteLoop&&f,this.renderItems(),this.props.infiniteLoop&&h):xe.default.createElement("ul",{className:Ci.default.SLIDER(!0,this.state.swiping),ref:function(I){return i.setListRef(I)},style:this.state.itemListStyle||{}},this.props.infiniteLoop&&f,this.renderItems(),this.props.infiniteLoop&&h)),this.props.renderArrowNext(this.onClickNext,u,this.props.labels.rightArrow),this.renderStatus()),this.renderThumbs())}}]),n}(xe.default.Component);jm.default=Vw;de(Vw,"displayName","Carousel");de(Vw,"defaultProps",{ariaLabel:void 0,axis:"horizontal",centerSlidePercentage:80,interval:3e3,labels:{leftArrow:"previous slide / item",rightArrow:"next slide / item",item:"slide item"},onClickItem:vc.noop,onClickThumb:vc.noop,onChange:vc.noop,onSwipeStart:function(){},onSwipeEnd:function(){},onSwipeMove:function(){return!1},preventMovementUntilSwipeScrollTolerance:!1,renderArrowPrev:function(e,n,r){return xe.default.createElement("button",{type:"button","aria-label":r,className:Ci.default.ARROW_PREV(!n),onClick:e})},renderArrowNext:function(e,n,r){return xe.default.createElement("button",{type:"button","aria-label":r,className:Ci.default.ARROW_NEXT(!n),onClick:e})},renderIndicator:function(e,n,r,i){return xe.default.createElement("li",{className:Ci.default.DOT(n),onClick:e,onKeyDown:e,value:r,key:r,role:"button",tabIndex:0,"aria-label":"".concat(i," ").concat(r+1)})},renderItem:function(e){return e},renderThumbs:function(e){var n=xe.Children.map(e,function(r){var i=r;if(r.type!=="img"&&(i=xe.Children.toArray(r.props.children).find(function(s){return s.type==="img"})),!!i)return i});return n.filter(function(r){return r}).length===0?(console.warn("No images found! Can't build the thumb list without images. If you don't need thumbs, set showThumbs={false} in the Carousel. Note that it's not possible to get images rendered inside custom components. More info at https://github.com/leandrowd/react-responsive-carousel/blob/master/TROUBLESHOOTING.md"),[]):n},statusFormatter:vc.defaultStatusFormatter,selectedItem:0,showArrows:!0,showIndicators:!0,showStatus:!0,showThumbs:!0,stopOnHover:!0,swipeScrollTolerance:5,swipeable:!0,transitionTime:350,verticalSwipe:"standard",width:"100%",animationHandler:"slide",swipeAnimationHandler:zp.slideSwipeAnimationHandler,stopSwipingHandler:zp.slideStopSwipingHandler});var W4={};(function(t){Object.defineProperty(t,"__esModule",{value:!0}),Object.defineProperty(t,"Carousel",{enumerable:!0,get:function(){return e.default}}),Object.defineProperty(t,"CarouselProps",{enumerable:!0,get:function(){return n.CarouselProps}}),Object.defineProperty(t,"Thumbs",{enumerable:!0,get:function(){return r.default}});var e=i(jm),n=W4,r=i(Zd);function i(s){return s&&s.__esModule?s:{default:s}}})(Vk);const q4="/assets/game_store-D5N4-SpK.jpg",H4="/assets/beauty_products-DdBKhaaq.jpg",G4="/assets/kitchen_fav-BVidbrhC.jpg",K4="/assets/new_arrival_toys-bl35EseN.jpg",Y4="/assets/shop_books-X-_6zMIx.jpg",Q4=[q4,H4,G4,K4,Y4],J4={"hero__img--bottom":"_hero__img--bottom_1etls_1"};function X4(){return x.createElement("div",null,x.createElement(Vk.Carousel,{autoPlay:!0,infiniteLoop:!0,showIndicators:!1,showThumbs:!1},Q4.map((t,e)=>x.createElement("img",{key:e,src:t}))),x.createElement("div",{className:J4["hero__img--bottom"]}))}function Hk(t,e){return function(){return t.apply(e,arguments)}}const{toString:Z4}=Object.prototype,{getPrototypeOf:Fw}=Object,Gm=(t=>e=>{const n=Z4.call(e);return t[n]||(t[n]=n.slice(8,-1).toLowerCase())})(Object.create(null)),$r=t=>(t=t.toLowerCase(),e=>Gm(e)===t),Km=t=>e=>typeof e===t,{isArray:du}=Array,yd=Km("undefined");function eU(t){return t!==null&&!yd(t)&&t.constructor!==null&&!yd(t.constructor)&&Xn(t.constructor.isBuffer)&&t.constructor.isBuffer(t)}const Gk=$r("ArrayBuffer");function tU(t){let e;return typeof ArrayBuffer<"u"&&ArrayBuffer.isView?e=ArrayBuffer.isView(t):e=t&&t.buffer&&Gk(t.buffer),e}const nU=Km("string"),Xn=Km("function"),Kk=Km("number"),Ym=t=>t!==null&&typeof t=="object",rU=t=>t===!0||t===!1,Wf=t=>{if(Gm(t)!=="object")return!1;const e=Fw(t);return(e===null||e===Object.prototype||Object.getPrototypeOf(e)===null)&&!(Symbol.toStringTag in t)&&!(Symbol.iterator in t)},iU=$r("Date"),sU=$r("File"),oU=$r("Blob"),aU=$r("FileList"),lU=t=>Ym(t)&&Xn(t.pipe),uU=t=>{let e;return t&&(typeof FormData=="function"&&t instanceof FormData||Xn(t.append)&&((e=Gm(t))==="formdata"||e==="object"&&Xn(t.toString)&&t.toString()==="[object FormData]"))},cU=$r("URLSearchParams"),[dU,hU,fU,pU]=["ReadableStream","Request","Response","Headers"].map($r),mU=t=>t.trim?t.trim():t.replace(/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,"");function nh(t,e,{allOwnKeys:n=!1}={}){if(t===null||typeof t>"u")return;let r,i;if(typeof t!="object"&&(t=[t]),du(t))for(r=0,i=t.length;r<i;r++)e.call(null,t[r],r,t);else{const s=n?Object.getOwnPropertyNames(t):Object.keys(t),o=s.length;let a;for(r=0;r<o;r++)a=s[r],e.call(null,t[a],a,t)}}function Yk(t,e){e=e.toLowerCase();const n=Object.keys(t);let r=n.length,i;for(;r-- >0;)if(i=n[r],e===i.toLowerCase())return i;return null}const jo=typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:global,Qk=t=>!yd(t)&&t!==jo;function Av(){const{caseless:t}=Qk(this)&&this||{},e={},n=(r,i)=>{const s=t&&Yk(e,i)||i;Wf(e[s])&&Wf(r)?e[s]=Av(e[s],r):Wf(r)?e[s]=Av({},r):du(r)?e[s]=r.slice():e[s]=r};for(let r=0,i=arguments.length;r<i;r++)arguments[r]&&nh(arguments[r],n);return e}const gU=(t,e,n,{allOwnKeys:r}={})=>(nh(e,(i,s)=>{n&&Xn(i)?t[s]=Hk(i,n):t[s]=i},{allOwnKeys:r}),t),yU=t=>(t.charCodeAt(0)===65279&&(t=t.slice(1)),t),_U=(t,e,n,r)=>{t.prototype=Object.create(e.prototype,r),t.prototype.constructor=t,Object.defineProperty(t,"super",{value:e.prototype}),n&&Object.assign(t.prototype,n)},vU=(t,e,n,r)=>{let i,s,o;const a={};if(e=e||{},t==null)return e;do{for(i=Object.getOwnPropertyNames(t),s=i.length;s-- >0;)o=i[s],(!r||r(o,t,e))&&!a[o]&&(e[o]=t[o],a[o]=!0);t=n!==!1&&Fw(t)}while(t&&(!n||n(t,e))&&t!==Object.prototype);return e},wU=(t,e,n)=>{t=String(t),(n===void 0||n>t.length)&&(n=t.length),n-=e.length;const r=t.indexOf(e,n);return r!==-1&&r===n},EU=t=>{if(!t)return null;if(du(t))return t;let e=t.length;if(!Kk(e))return null;const n=new Array(e);for(;e-- >0;)n[e]=t[e];return n},SU=(t=>e=>t&&e instanceof t)(typeof Uint8Array<"u"&&Fw(Uint8Array)),IU=(t,e)=>{const r=(t&&t[Symbol.iterator]).call(t);let i;for(;(i=r.next())&&!i.done;){const s=i.value;e.call(t,s[0],s[1])}},TU=(t,e)=>{let n;const r=[];for(;(n=t.exec(e))!==null;)r.push(n);return r},bU=$r("HTMLFormElement"),RU=t=>t.toLowerCase().replace(/[-_\s]([a-z\d])(\w*)/g,function(n,r,i){return r.toUpperCase()+i}),E1=(({hasOwnProperty:t})=>(e,n)=>t.call(e,n))(Object.prototype),AU=$r("RegExp"),Jk=(t,e)=>{const n=Object.getOwnPropertyDescriptors(t),r={};nh(n,(i,s)=>{let o;(o=e(i,s,t))!==!1&&(r[s]=o||i)}),Object.defineProperties(t,r)},PU=t=>{Jk(t,(e,n)=>{if(Xn(t)&&["arguments","caller","callee"].indexOf(n)!==-1)return!1;const r=t[n];if(Xn(r)){if(e.enumerable=!1,"writable"in e){e.writable=!1;return}e.set||(e.set=()=>{throw Error("Can not rewrite read-only method '"+n+"'")})}})},kU=(t,e)=>{const n={},r=i=>{i.forEach(s=>{n[s]=!0})};return du(t)?r(t):r(String(t).split(e)),n},CU=()=>{},xU=(t,e)=>t!=null&&Number.isFinite(t=+t)?t:e,Zy="abcdefghijklmnopqrstuvwxyz",S1="0123456789",Xk={DIGIT:S1,ALPHA:Zy,ALPHA_DIGIT:Zy+Zy.toUpperCase()+S1},OU=(t=16,e=Xk.ALPHA_DIGIT)=>{let n="";const{length:r}=e;for(;t--;)n+=e[Math.random()*r|0];return n};function DU(t){return!!(t&&Xn(t.append)&&t[Symbol.toStringTag]==="FormData"&&t[Symbol.iterator])}const NU=t=>{const e=new Array(10),n=(r,i)=>{if(Ym(r)){if(e.indexOf(r)>=0)return;if(!("toJSON"in r)){e[i]=r;const s=du(r)?[]:{};return nh(r,(o,a)=>{const l=n(o,i+1);!yd(l)&&(s[a]=l)}),e[i]=void 0,s}}return r};return n(t,0)},MU=$r("AsyncFunction"),LU=t=>t&&(Ym(t)||Xn(t))&&Xn(t.then)&&Xn(t.catch),Zk=((t,e)=>t?setImmediate:e?((n,r)=>(jo.addEventListener("message",({source:i,data:s})=>{i===jo&&s===n&&r.length&&r.shift()()},!1),i=>{r.push(i),jo.postMessage(n,"*")}))(`axios@${Math.random()}`,[]):n=>setTimeout(n))(typeof setImmediate=="function",Xn(jo.postMessage)),VU=typeof queueMicrotask<"u"?queueMicrotask.bind(jo):typeof process<"u"&&process.nextTick||Zk,B={isArray:du,isArrayBuffer:Gk,isBuffer:eU,isFormData:uU,isArrayBufferView:tU,isString:nU,isNumber:Kk,isBoolean:rU,isObject:Ym,isPlainObject:Wf,isReadableStream:dU,isRequest:hU,isResponse:fU,isHeaders:pU,isUndefined:yd,isDate:iU,isFile:sU,isBlob:oU,isRegExp:AU,isFunction:Xn,isStream:lU,isURLSearchParams:cU,isTypedArray:SU,isFileList:aU,forEach:nh,merge:Av,extend:gU,trim:mU,stripBOM:yU,inherits:_U,toFlatObject:vU,kindOf:Gm,kindOfTest:$r,endsWith:wU,toArray:EU,forEachEntry:IU,matchAll:TU,isHTMLForm:bU,hasOwnProperty:E1,hasOwnProp:E1,reduceDescriptors:Jk,freezeMethods:PU,toObjectSet:kU,toCamelCase:RU,noop:CU,toFiniteNumber:xU,findKey:Yk,global:jo,isContextDefined:Qk,ALPHABET:Xk,generateString:OU,isSpecCompliantForm:DU,toJSONObject:NU,isAsyncFn:MU,isThenable:LU,setImmediate:Zk,asap:VU};function le(t,e,n,r,i){Error.call(this),Error.captureStackTrace?Error.captureStackTrace(this,this.constructor):this.stack=new Error().stack,this.message=t,this.name="AxiosError",e&&(this.code=e),n&&(this.config=n),r&&(this.request=r),i&&(this.response=i,this.status=i.status?i.status:null)}B.inherits(le,Error,{toJSON:function(){return{message:this.message,name:this.name,description:this.description,number:this.number,fileName:this.fileName,lineNumber:this.lineNumber,columnNumber:this.columnNumber,stack:this.stack,config:B.toJSONObject(this.config),code:this.code,status:this.status}}});const eC=le.prototype,tC={};["ERR_BAD_OPTION_VALUE","ERR_BAD_OPTION","ECONNABORTED","ETIMEDOUT","ERR_NETWORK","ERR_FR_TOO_MANY_REDIRECTS","ERR_DEPRECATED","ERR_BAD_RESPONSE","ERR_BAD_REQUEST","ERR_CANCELED","ERR_NOT_SUPPORT","ERR_INVALID_URL"].forEach(t=>{tC[t]={value:t}});Object.defineProperties(le,tC);Object.defineProperty(eC,"isAxiosError",{value:!0});le.from=(t,e,n,r,i,s)=>{const o=Object.create(eC);return B.toFlatObject(t,o,function(l){return l!==Error.prototype},a=>a!=="isAxiosError"),le.call(o,t.message,e,n,r,i),o.cause=t,o.name=t.name,s&&Object.assign(o,s),o};const FU=null;function Pv(t){return B.isPlainObject(t)||B.isArray(t)}function nC(t){return B.endsWith(t,"[]")?t.slice(0,-2):t}function I1(t,e,n){return t?t.concat(e).map(function(i,s){return i=nC(i),!n&&s?"["+i+"]":i}).join(n?".":""):e}function UU(t){return B.isArray(t)&&!t.some(Pv)}const BU=B.toFlatObject(B,{},null,function(e){return/^is[A-Z]/.test(e)});function Qm(t,e,n){if(!B.isObject(t))throw new TypeError("target must be an object");e=e||new FormData,n=B.toFlatObject(n,{metaTokens:!0,dots:!1,indexes:!1},!1,function(v,T){return!B.isUndefined(T[v])});const r=n.metaTokens,i=n.visitor||d,s=n.dots,o=n.indexes,l=(n.Blob||typeof Blob<"u"&&Blob)&&B.isSpecCompliantForm(e);if(!B.isFunction(i))throw new TypeError("visitor must be a function");function u(_){if(_===null)return"";if(B.isDate(_))return _.toISOString();if(!l&&B.isBlob(_))throw new le("Blob is not supported. Use a Buffer instead.");return B.isArrayBuffer(_)||B.isTypedArray(_)?l&&typeof Blob=="function"?new Blob([_]):Buffer.from(_):_}function d(_,v,T){let I=_;if(_&&!T&&typeof _=="object"){if(B.endsWith(v,"{}"))v=r?v:v.slice(0,-2),_=JSON.stringify(_);else if(B.isArray(_)&&UU(_)||(B.isFileList(_)||B.endsWith(v,"[]"))&&(I=B.toArray(_)))return v=nC(v),I.forEach(function(E,O){!(B.isUndefined(E)||E===null)&&e.append(o===!0?I1([v],O,s):o===null?v:v+"[]",u(E))}),!1}return Pv(_)?!0:(e.append(I1(T,v,s),u(_)),!1)}const h=[],f=Object.assign(BU,{defaultVisitor:d,convertValue:u,isVisitable:Pv});function g(_,v){if(!B.isUndefined(_)){if(h.indexOf(_)!==-1)throw Error("Circular reference detected in "+v.join("."));h.push(_),B.forEach(_,function(I,w){(!(B.isUndefined(I)||I===null)&&i.call(e,I,B.isString(w)?w.trim():w,v,f))===!0&&g(I,v?v.concat(w):[w])}),h.pop()}}if(!B.isObject(t))throw new TypeError("data must be an object");return g(t),e}function T1(t){const e={"!":"%21","'":"%27","(":"%28",")":"%29","~":"%7E","%20":"+","%00":"\0"};return encodeURIComponent(t).replace(/[!'()~]|%20|%00/g,function(r){return e[r]})}function Uw(t,e){this._pairs=[],t&&Qm(t,this,e)}const rC=Uw.prototype;rC.append=function(e,n){this._pairs.push([e,n])};rC.toString=function(e){const n=e?function(r){return e.call(this,r,T1)}:T1;return this._pairs.map(function(i){return n(i[0])+"="+n(i[1])},"").join("&")};function $U(t){return encodeURIComponent(t).replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",").replace(/%20/g,"+").replace(/%5B/gi,"[").replace(/%5D/gi,"]")}function iC(t,e,n){if(!e)return t;const r=n&&n.encode||$U,i=n&&n.serialize;let s;if(i?s=i(e,n):s=B.isURLSearchParams(e)?e.toString():new Uw(e,n).toString(r),s){const o=t.indexOf("#");o!==-1&&(t=t.slice(0,o)),t+=(t.indexOf("?")===-1?"?":"&")+s}return t}class b1{constructor(){this.handlers=[]}use(e,n,r){return this.handlers.push({fulfilled:e,rejected:n,synchronous:r?r.synchronous:!1,runWhen:r?r.runWhen:null}),this.handlers.length-1}eject(e){this.handlers[e]&&(this.handlers[e]=null)}clear(){this.handlers&&(this.handlers=[])}forEach(e){B.forEach(this.handlers,function(r){r!==null&&e(r)})}}const sC={silentJSONParsing:!0,forcedJSONParsing:!0,clarifyTimeoutError:!1},zU=typeof URLSearchParams<"u"?URLSearchParams:Uw,jU=typeof FormData<"u"?FormData:null,WU=typeof Blob<"u"?Blob:null,qU={isBrowser:!0,classes:{URLSearchParams:zU,FormData:jU,Blob:WU},protocols:["http","https","file","blob","url","data"]},Bw=typeof window<"u"&&typeof document<"u",kv=typeof navigator=="object"&&navigator||void 0,HU=Bw&&(!kv||["ReactNative","NativeScript","NS"].indexOf(kv.product)<0),GU=typeof WorkerGlobalScope<"u"&&self instanceof WorkerGlobalScope&&typeof self.importScripts=="function",KU=Bw&&window.location.href||"http://localhost",YU=Object.freeze(Object.defineProperty({__proto__:null,hasBrowserEnv:Bw,hasStandardBrowserEnv:HU,hasStandardBrowserWebWorkerEnv:GU,navigator:kv,origin:KU},Symbol.toStringTag,{value:"Module"})),Un={...YU,...qU};function QU(t,e){return Qm(t,new Un.classes.URLSearchParams,Object.assign({visitor:function(n,r,i,s){return Un.isNode&&B.isBuffer(n)?(this.append(r,n.toString("base64")),!1):s.defaultVisitor.apply(this,arguments)}},e))}function JU(t){return B.matchAll(/\w+|\[(\w*)]/g,t).map(e=>e[0]==="[]"?"":e[1]||e[0])}function XU(t){const e={},n=Object.keys(t);let r;const i=n.length;let s;for(r=0;r<i;r++)s=n[r],e[s]=t[s];return e}function oC(t){function e(n,r,i,s){let o=n[s++];if(o==="__proto__")return!0;const a=Number.isFinite(+o),l=s>=n.length;return o=!o&&B.isArray(i)?i.length:o,l?(B.hasOwnProp(i,o)?i[o]=[i[o],r]:i[o]=r,!a):((!i[o]||!B.isObject(i[o]))&&(i[o]=[]),e(n,r,i[o],s)&&B.isArray(i[o])&&(i[o]=XU(i[o])),!a)}if(B.isFormData(t)&&B.isFunction(t.entries)){const n={};return B.forEachEntry(t,(r,i)=>{e(JU(r),i,n,0)}),n}return null}function ZU(t,e,n){if(B.isString(t))try{return(e||JSON.parse)(t),B.trim(t)}catch(r){if(r.name!=="SyntaxError")throw r}return(n||JSON.stringify)(t)}const rh={transitional:sC,adapter:["xhr","http","fetch"],transformRequest:[function(e,n){const r=n.getContentType()||"",i=r.indexOf("application/json")>-1,s=B.isObject(e);if(s&&B.isHTMLForm(e)&&(e=new FormData(e)),B.isFormData(e))return i?JSON.stringify(oC(e)):e;if(B.isArrayBuffer(e)||B.isBuffer(e)||B.isStream(e)||B.isFile(e)||B.isBlob(e)||B.isReadableStream(e))return e;if(B.isArrayBufferView(e))return e.buffer;if(B.isURLSearchParams(e))return n.setContentType("application/x-www-form-urlencoded;charset=utf-8",!1),e.toString();let a;if(s){if(r.indexOf("application/x-www-form-urlencoded")>-1)return QU(e,this.formSerializer).toString();if((a=B.isFileList(e))||r.indexOf("multipart/form-data")>-1){const l=this.env&&this.env.FormData;return Qm(a?{"files[]":e}:e,l&&new l,this.formSerializer)}}return s||i?(n.setContentType("application/json",!1),ZU(e)):e}],transformResponse:[function(e){const n=this.transitional||rh.transitional,r=n&&n.forcedJSONParsing,i=this.responseType==="json";if(B.isResponse(e)||B.isReadableStream(e))return e;if(e&&B.isString(e)&&(r&&!this.responseType||i)){const o=!(n&&n.silentJSONParsing)&&i;try{return JSON.parse(e)}catch(a){if(o)throw a.name==="SyntaxError"?le.from(a,le.ERR_BAD_RESPONSE,this,null,this.response):a}}return e}],timeout:0,xsrfCookieName:"XSRF-TOKEN",xsrfHeaderName:"X-XSRF-TOKEN",maxContentLength:-1,maxBodyLength:-1,env:{FormData:Un.classes.FormData,Blob:Un.classes.Blob},validateStatus:function(e){return e>=200&&e<300},headers:{common:{Accept:"application/json, text/plain, */*","Content-Type":void 0}}};B.forEach(["delete","get","head","post","put","patch"],t=>{rh.headers[t]={}});const e5=B.toObjectSet(["age","authorization","content-length","content-type","etag","expires","from","host","if-modified-since","if-unmodified-since","last-modified","location","max-forwards","proxy-authorization","referer","retry-after","user-agent"]),t5=t=>{const e={};let n,r,i;return t&&t.split(`
`).forEach(function(o){i=o.indexOf(":"),n=o.substring(0,i).trim().toLowerCase(),r=o.substring(i+1).trim(),!(!n||e[n]&&e5[n])&&(n==="set-cookie"?e[n]?e[n].push(r):e[n]=[r]:e[n]=e[n]?e[n]+", "+r:r)}),e},R1=Symbol("internals");function Zu(t){return t&&String(t).trim().toLowerCase()}function qf(t){return t===!1||t==null?t:B.isArray(t)?t.map(qf):String(t)}function n5(t){const e=Object.create(null),n=/([^\s,;=]+)\s*(?:=\s*([^,;]+))?/g;let r;for(;r=n.exec(t);)e[r[1]]=r[2];return e}const r5=t=>/^[-_a-zA-Z0-9^`|~,!#$%&'*+.]+$/.test(t.trim());function e_(t,e,n,r,i){if(B.isFunction(r))return r.call(this,e,n);if(i&&(e=n),!!B.isString(e)){if(B.isString(r))return e.indexOf(r)!==-1;if(B.isRegExp(r))return r.test(e)}}function i5(t){return t.trim().toLowerCase().replace(/([a-z\d])(\w*)/g,(e,n,r)=>n.toUpperCase()+r)}function s5(t,e){const n=B.toCamelCase(" "+e);["get","set","has"].forEach(r=>{Object.defineProperty(t,r+n,{value:function(i,s,o){return this[r].call(this,e,i,s,o)},configurable:!0})})}class Bn{constructor(e){e&&this.set(e)}set(e,n,r){const i=this;function s(a,l,u){const d=Zu(l);if(!d)throw new Error("header name must be a non-empty string");const h=B.findKey(i,d);(!h||i[h]===void 0||u===!0||u===void 0&&i[h]!==!1)&&(i[h||l]=qf(a))}const o=(a,l)=>B.forEach(a,(u,d)=>s(u,d,l));if(B.isPlainObject(e)||e instanceof this.constructor)o(e,n);else if(B.isString(e)&&(e=e.trim())&&!r5(e))o(t5(e),n);else if(B.isHeaders(e))for(const[a,l]of e.entries())s(l,a,r);else e!=null&&s(n,e,r);return this}get(e,n){if(e=Zu(e),e){const r=B.findKey(this,e);if(r){const i=this[r];if(!n)return i;if(n===!0)return n5(i);if(B.isFunction(n))return n.call(this,i,r);if(B.isRegExp(n))return n.exec(i);throw new TypeError("parser must be boolean|regexp|function")}}}has(e,n){if(e=Zu(e),e){const r=B.findKey(this,e);return!!(r&&this[r]!==void 0&&(!n||e_(this,this[r],r,n)))}return!1}delete(e,n){const r=this;let i=!1;function s(o){if(o=Zu(o),o){const a=B.findKey(r,o);a&&(!n||e_(r,r[a],a,n))&&(delete r[a],i=!0)}}return B.isArray(e)?e.forEach(s):s(e),i}clear(e){const n=Object.keys(this);let r=n.length,i=!1;for(;r--;){const s=n[r];(!e||e_(this,this[s],s,e,!0))&&(delete this[s],i=!0)}return i}normalize(e){const n=this,r={};return B.forEach(this,(i,s)=>{const o=B.findKey(r,s);if(o){n[o]=qf(i),delete n[s];return}const a=e?i5(s):String(s).trim();a!==s&&delete n[s],n[a]=qf(i),r[a]=!0}),this}concat(...e){return this.constructor.concat(this,...e)}toJSON(e){const n=Object.create(null);return B.forEach(this,(r,i)=>{r!=null&&r!==!1&&(n[i]=e&&B.isArray(r)?r.join(", "):r)}),n}[Symbol.iterator](){return Object.entries(this.toJSON())[Symbol.iterator]()}toString(){return Object.entries(this.toJSON()).map(([e,n])=>e+": "+n).join(`
`)}get[Symbol.toStringTag](){return"AxiosHeaders"}static from(e){return e instanceof this?e:new this(e)}static concat(e,...n){const r=new this(e);return n.forEach(i=>r.set(i)),r}static accessor(e){const r=(this[R1]=this[R1]={accessors:{}}).accessors,i=this.prototype;function s(o){const a=Zu(o);r[a]||(s5(i,o),r[a]=!0)}return B.isArray(e)?e.forEach(s):s(e),this}}Bn.accessor(["Content-Type","Content-Length","Accept","Accept-Encoding","User-Agent","Authorization"]);B.reduceDescriptors(Bn.prototype,({value:t},e)=>{let n=e[0].toUpperCase()+e.slice(1);return{get:()=>t,set(r){this[n]=r}}});B.freezeMethods(Bn);function t_(t,e){const n=this||rh,r=e||n,i=Bn.from(r.headers);let s=r.data;return B.forEach(t,function(a){s=a.call(n,s,i.normalize(),e?e.status:void 0)}),i.normalize(),s}function aC(t){return!!(t&&t.__CANCEL__)}function hu(t,e,n){le.call(this,t??"canceled",le.ERR_CANCELED,e,n),this.name="CanceledError"}B.inherits(hu,le,{__CANCEL__:!0});function lC(t,e,n){const r=n.config.validateStatus;!n.status||!r||r(n.status)?t(n):e(new le("Request failed with status code "+n.status,[le.ERR_BAD_REQUEST,le.ERR_BAD_RESPONSE][Math.floor(n.status/100)-4],n.config,n.request,n))}function o5(t){const e=/^([-+\w]{1,25})(:?\/\/|:)/.exec(t);return e&&e[1]||""}function a5(t,e){t=t||10;const n=new Array(t),r=new Array(t);let i=0,s=0,o;return e=e!==void 0?e:1e3,function(l){const u=Date.now(),d=r[s];o||(o=u),n[i]=l,r[i]=u;let h=s,f=0;for(;h!==i;)f+=n[h++],h=h%t;if(i=(i+1)%t,i===s&&(s=(s+1)%t),u-o<e)return;const g=d&&u-d;return g?Math.round(f*1e3/g):void 0}}function l5(t,e){let n=0,r=1e3/e,i,s;const o=(u,d=Date.now())=>{n=d,i=null,s&&(clearTimeout(s),s=null),t.apply(null,u)};return[(...u)=>{const d=Date.now(),h=d-n;h>=r?o(u,d):(i=u,s||(s=setTimeout(()=>{s=null,o(i)},r-h)))},()=>i&&o(i)]}const Wp=(t,e,n=3)=>{let r=0;const i=a5(50,250);return l5(s=>{const o=s.loaded,a=s.lengthComputable?s.total:void 0,l=o-r,u=i(l),d=o<=a;r=o;const h={loaded:o,total:a,progress:a?o/a:void 0,bytes:l,rate:u||void 0,estimated:u&&a&&d?(a-o)/u:void 0,event:s,lengthComputable:a!=null,[e?"download":"upload"]:!0};t(h)},n)},A1=(t,e)=>{const n=t!=null;return[r=>e[0]({lengthComputable:n,total:t,loaded:r}),e[1]]},P1=t=>(...e)=>B.asap(()=>t(...e)),u5=Un.hasStandardBrowserEnv?function(){const e=Un.navigator&&/(msie|trident)/i.test(Un.navigator.userAgent),n=document.createElement("a");let r;function i(s){let o=s;return e&&(n.setAttribute("href",o),o=n.href),n.setAttribute("href",o),{href:n.href,protocol:n.protocol?n.protocol.replace(/:$/,""):"",host:n.host,search:n.search?n.search.replace(/^\?/,""):"",hash:n.hash?n.hash.replace(/^#/,""):"",hostname:n.hostname,port:n.port,pathname:n.pathname.charAt(0)==="/"?n.pathname:"/"+n.pathname}}return r=i(window.location.href),function(o){const a=B.isString(o)?i(o):o;return a.protocol===r.protocol&&a.host===r.host}}():function(){return function(){return!0}}(),c5=Un.hasStandardBrowserEnv?{write(t,e,n,r,i,s){const o=[t+"="+encodeURIComponent(e)];B.isNumber(n)&&o.push("expires="+new Date(n).toGMTString()),B.isString(r)&&o.push("path="+r),B.isString(i)&&o.push("domain="+i),s===!0&&o.push("secure"),document.cookie=o.join("; ")},read(t){const e=document.cookie.match(new RegExp("(^|;\\s*)("+t+")=([^;]*)"));return e?decodeURIComponent(e[3]):null},remove(t){this.write(t,"",Date.now()-864e5)}}:{write(){},read(){return null},remove(){}};function d5(t){return/^([a-z][a-z\d+\-.]*:)?\/\//i.test(t)}function h5(t,e){return e?t.replace(/\/?\/$/,"")+"/"+e.replace(/^\/+/,""):t}function uC(t,e){return t&&!d5(e)?h5(t,e):e}const k1=t=>t instanceof Bn?{...t}:t;function oa(t,e){e=e||{};const n={};function r(u,d,h){return B.isPlainObject(u)&&B.isPlainObject(d)?B.merge.call({caseless:h},u,d):B.isPlainObject(d)?B.merge({},d):B.isArray(d)?d.slice():d}function i(u,d,h){if(B.isUndefined(d)){if(!B.isUndefined(u))return r(void 0,u,h)}else return r(u,d,h)}function s(u,d){if(!B.isUndefined(d))return r(void 0,d)}function o(u,d){if(B.isUndefined(d)){if(!B.isUndefined(u))return r(void 0,u)}else return r(void 0,d)}function a(u,d,h){if(h in e)return r(u,d);if(h in t)return r(void 0,u)}const l={url:s,method:s,data:s,baseURL:o,transformRequest:o,transformResponse:o,paramsSerializer:o,timeout:o,timeoutMessage:o,withCredentials:o,withXSRFToken:o,adapter:o,responseType:o,xsrfCookieName:o,xsrfHeaderName:o,onUploadProgress:o,onDownloadProgress:o,decompress:o,maxContentLength:o,maxBodyLength:o,beforeRedirect:o,transport:o,httpAgent:o,httpsAgent:o,cancelToken:o,socketPath:o,responseEncoding:o,validateStatus:a,headers:(u,d)=>i(k1(u),k1(d),!0)};return B.forEach(Object.keys(Object.assign({},t,e)),function(d){const h=l[d]||i,f=h(t[d],e[d],d);B.isUndefined(f)&&h!==a||(n[d]=f)}),n}const cC=t=>{const e=oa({},t);let{data:n,withXSRFToken:r,xsrfHeaderName:i,xsrfCookieName:s,headers:o,auth:a}=e;e.headers=o=Bn.from(o),e.url=iC(uC(e.baseURL,e.url),t.params,t.paramsSerializer),a&&o.set("Authorization","Basic "+btoa((a.username||"")+":"+(a.password?unescape(encodeURIComponent(a.password)):"")));let l;if(B.isFormData(n)){if(Un.hasStandardBrowserEnv||Un.hasStandardBrowserWebWorkerEnv)o.setContentType(void 0);else if((l=o.getContentType())!==!1){const[u,...d]=l?l.split(";").map(h=>h.trim()).filter(Boolean):[];o.setContentType([u||"multipart/form-data",...d].join("; "))}}if(Un.hasStandardBrowserEnv&&(r&&B.isFunction(r)&&(r=r(e)),r||r!==!1&&u5(e.url))){const u=i&&s&&c5.read(s);u&&o.set(i,u)}return e},f5=typeof XMLHttpRequest<"u",p5=f5&&function(t){return new Promise(function(n,r){const i=cC(t);let s=i.data;const o=Bn.from(i.headers).normalize();let{responseType:a,onUploadProgress:l,onDownloadProgress:u}=i,d,h,f,g,_;function v(){g&&g(),_&&_(),i.cancelToken&&i.cancelToken.unsubscribe(d),i.signal&&i.signal.removeEventListener("abort",d)}let T=new XMLHttpRequest;T.open(i.method.toUpperCase(),i.url,!0),T.timeout=i.timeout;function I(){if(!T)return;const E=Bn.from("getAllResponseHeaders"in T&&T.getAllResponseHeaders()),C={data:!a||a==="text"||a==="json"?T.responseText:T.response,status:T.status,statusText:T.statusText,headers:E,config:t,request:T};lC(function(b){n(b),v()},function(b){r(b),v()},C),T=null}"onloadend"in T?T.onloadend=I:T.onreadystatechange=function(){!T||T.readyState!==4||T.status===0&&!(T.responseURL&&T.responseURL.indexOf("file:")===0)||setTimeout(I)},T.onabort=function(){T&&(r(new le("Request aborted",le.ECONNABORTED,t,T)),T=null)},T.onerror=function(){r(new le("Network Error",le.ERR_NETWORK,t,T)),T=null},T.ontimeout=function(){let O=i.timeout?"timeout of "+i.timeout+"ms exceeded":"timeout exceeded";const C=i.transitional||sC;i.timeoutErrorMessage&&(O=i.timeoutErrorMessage),r(new le(O,C.clarifyTimeoutError?le.ETIMEDOUT:le.ECONNABORTED,t,T)),T=null},s===void 0&&o.setContentType(null),"setRequestHeader"in T&&B.forEach(o.toJSON(),function(O,C){T.setRequestHeader(C,O)}),B.isUndefined(i.withCredentials)||(T.withCredentials=!!i.withCredentials),a&&a!=="json"&&(T.responseType=i.responseType),u&&([f,_]=Wp(u,!0),T.addEventListener("progress",f)),l&&T.upload&&([h,g]=Wp(l),T.upload.addEventListener("progress",h),T.upload.addEventListener("loadend",g)),(i.cancelToken||i.signal)&&(d=E=>{T&&(r(!E||E.type?new hu(null,t,T):E),T.abort(),T=null)},i.cancelToken&&i.cancelToken.subscribe(d),i.signal&&(i.signal.aborted?d():i.signal.addEventListener("abort",d)));const w=o5(i.url);if(w&&Un.protocols.indexOf(w)===-1){r(new le("Unsupported protocol "+w+":",le.ERR_BAD_REQUEST,t));return}T.send(s||null)})},m5=(t,e)=>{const{length:n}=t=t?t.filter(Boolean):[];if(e||n){let r=new AbortController,i;const s=function(u){if(!i){i=!0,a();const d=u instanceof Error?u:this.reason;r.abort(d instanceof le?d:new hu(d instanceof Error?d.message:d))}};let o=e&&setTimeout(()=>{o=null,s(new le(`timeout ${e} of ms exceeded`,le.ETIMEDOUT))},e);const a=()=>{t&&(o&&clearTimeout(o),o=null,t.forEach(u=>{u.unsubscribe?u.unsubscribe(s):u.removeEventListener("abort",s)}),t=null)};t.forEach(u=>u.addEventListener("abort",s));const{signal:l}=r;return l.unsubscribe=()=>B.asap(a),l}},g5=function*(t,e){let n=t.byteLength;if(!e||n<e){yield t;return}let r=0,i;for(;r<n;)i=r+e,yield t.slice(r,i),r=i},y5=async function*(t,e){for await(const n of _5(t))yield*g5(n,e)},_5=async function*(t){if(t[Symbol.asyncIterator]){yield*t;return}const e=t.getReader();try{for(;;){const{done:n,value:r}=await e.read();if(n)break;yield r}}finally{await e.cancel()}},C1=(t,e,n,r)=>{const i=y5(t,e);let s=0,o,a=l=>{o||(o=!0,r&&r(l))};return new ReadableStream({async pull(l){try{const{done:u,value:d}=await i.next();if(u){a(),l.close();return}let h=d.byteLength;if(n){let f=s+=h;n(f)}l.enqueue(new Uint8Array(d))}catch(u){throw a(u),u}},cancel(l){return a(l),i.return()}},{highWaterMark:2})},Jm=typeof fetch=="function"&&typeof Request=="function"&&typeof Response=="function",dC=Jm&&typeof ReadableStream=="function",v5=Jm&&(typeof TextEncoder=="function"?(t=>e=>t.encode(e))(new TextEncoder):async t=>new Uint8Array(await new Response(t).arrayBuffer())),hC=(t,...e)=>{try{return!!t(...e)}catch{return!1}},w5=dC&&hC(()=>{let t=!1;const e=new Request(Un.origin,{body:new ReadableStream,method:"POST",get duplex(){return t=!0,"half"}}).headers.has("Content-Type");return t&&!e}),x1=64*1024,Cv=dC&&hC(()=>B.isReadableStream(new Response("").body)),qp={stream:Cv&&(t=>t.body)};Jm&&(t=>{["text","arrayBuffer","blob","formData","stream"].forEach(e=>{!qp[e]&&(qp[e]=B.isFunction(t[e])?n=>n[e]():(n,r)=>{throw new le(`Response type '${e}' is not supported`,le.ERR_NOT_SUPPORT,r)})})})(new Response);const E5=async t=>{if(t==null)return 0;if(B.isBlob(t))return t.size;if(B.isSpecCompliantForm(t))return(await new Request(Un.origin,{method:"POST",body:t}).arrayBuffer()).byteLength;if(B.isArrayBufferView(t)||B.isArrayBuffer(t))return t.byteLength;if(B.isURLSearchParams(t)&&(t=t+""),B.isString(t))return(await v5(t)).byteLength},S5=async(t,e)=>{const n=B.toFiniteNumber(t.getContentLength());return n??E5(e)},I5=Jm&&(async t=>{let{url:e,method:n,data:r,signal:i,cancelToken:s,timeout:o,onDownloadProgress:a,onUploadProgress:l,responseType:u,headers:d,withCredentials:h="same-origin",fetchOptions:f}=cC(t);u=u?(u+"").toLowerCase():"text";let g=m5([i,s&&s.toAbortSignal()],o),_;const v=g&&g.unsubscribe&&(()=>{g.unsubscribe()});let T;try{if(l&&w5&&n!=="get"&&n!=="head"&&(T=await S5(d,r))!==0){let C=new Request(e,{method:"POST",body:r,duplex:"half"}),N;if(B.isFormData(r)&&(N=C.headers.get("content-type"))&&d.setContentType(N),C.body){const[b,S]=A1(T,Wp(P1(l)));r=C1(C.body,x1,b,S)}}B.isString(h)||(h=h?"include":"omit");const I="credentials"in Request.prototype;_=new Request(e,{...f,signal:g,method:n.toUpperCase(),headers:d.normalize().toJSON(),body:r,duplex:"half",credentials:I?h:void 0});let w=await fetch(_);const E=Cv&&(u==="stream"||u==="response");if(Cv&&(a||E&&v)){const C={};["status","statusText","headers"].forEach(m=>{C[m]=w[m]});const N=B.toFiniteNumber(w.headers.get("content-length")),[b,S]=a&&A1(N,Wp(P1(a),!0))||[];w=new Response(C1(w.body,x1,b,()=>{S&&S(),v&&v()}),C)}u=u||"text";let O=await qp[B.findKey(qp,u)||"text"](w,t);return!E&&v&&v(),await new Promise((C,N)=>{lC(C,N,{data:O,headers:Bn.from(w.headers),status:w.status,statusText:w.statusText,config:t,request:_})})}catch(I){throw v&&v(),I&&I.name==="TypeError"&&/fetch/i.test(I.message)?Object.assign(new le("Network Error",le.ERR_NETWORK,t,_),{cause:I.cause||I}):le.from(I,I&&I.code,t,_)}}),xv={http:FU,xhr:p5,fetch:I5};B.forEach(xv,(t,e)=>{if(t){try{Object.defineProperty(t,"name",{value:e})}catch{}Object.defineProperty(t,"adapterName",{value:e})}});const O1=t=>`- ${t}`,T5=t=>B.isFunction(t)||t===null||t===!1,fC={getAdapter:t=>{t=B.isArray(t)?t:[t];const{length:e}=t;let n,r;const i={};for(let s=0;s<e;s++){n=t[s];let o;if(r=n,!T5(n)&&(r=xv[(o=String(n)).toLowerCase()],r===void 0))throw new le(`Unknown adapter '${o}'`);if(r)break;i[o||"#"+s]=r}if(!r){const s=Object.entries(i).map(([a,l])=>`adapter ${a} `+(l===!1?"is not supported by the environment":"is not available in the build"));let o=e?s.length>1?`since :
`+s.map(O1).join(`
`):" "+O1(s[0]):"as no adapter specified";throw new le("There is no suitable adapter to dispatch the request "+o,"ERR_NOT_SUPPORT")}return r},adapters:xv};function n_(t){if(t.cancelToken&&t.cancelToken.throwIfRequested(),t.signal&&t.signal.aborted)throw new hu(null,t)}function D1(t){return n_(t),t.headers=Bn.from(t.headers),t.data=t_.call(t,t.transformRequest),["post","put","patch"].indexOf(t.method)!==-1&&t.headers.setContentType("application/x-www-form-urlencoded",!1),fC.getAdapter(t.adapter||rh.adapter)(t).then(function(r){return n_(t),r.data=t_.call(t,t.transformResponse,r),r.headers=Bn.from(r.headers),r},function(r){return aC(r)||(n_(t),r&&r.response&&(r.response.data=t_.call(t,t.transformResponse,r.response),r.response.headers=Bn.from(r.response.headers))),Promise.reject(r)})}const pC="1.7.7",$w={};["object","boolean","number","function","string","symbol"].forEach((t,e)=>{$w[t]=function(r){return typeof r===t||"a"+(e<1?"n ":" ")+t}});const N1={};$w.transitional=function(e,n,r){function i(s,o){return"[Axios v"+pC+"] Transitional option '"+s+"'"+o+(r?". "+r:"")}return(s,o,a)=>{if(e===!1)throw new le(i(o," has been removed"+(n?" in "+n:"")),le.ERR_DEPRECATED);return n&&!N1[o]&&(N1[o]=!0,console.warn(i(o," has been deprecated since v"+n+" and will be removed in the near future"))),e?e(s,o,a):!0}};function b5(t,e,n){if(typeof t!="object")throw new le("options must be an object",le.ERR_BAD_OPTION_VALUE);const r=Object.keys(t);let i=r.length;for(;i-- >0;){const s=r[i],o=e[s];if(o){const a=t[s],l=a===void 0||o(a,s,t);if(l!==!0)throw new le("option "+s+" must be "+l,le.ERR_BAD_OPTION_VALUE);continue}if(n!==!0)throw new le("Unknown option "+s,le.ERR_BAD_OPTION)}}const Ov={assertOptions:b5,validators:$w},gs=Ov.validators;class Qo{constructor(e){this.defaults=e,this.interceptors={request:new b1,response:new b1}}async request(e,n){try{return await this._request(e,n)}catch(r){if(r instanceof Error){let i;Error.captureStackTrace?Error.captureStackTrace(i={}):i=new Error;const s=i.stack?i.stack.replace(/^.+\n/,""):"";try{r.stack?s&&!String(r.stack).endsWith(s.replace(/^.+\n.+\n/,""))&&(r.stack+=`
`+s):r.stack=s}catch{}}throw r}}_request(e,n){typeof e=="string"?(n=n||{},n.url=e):n=e||{},n=oa(this.defaults,n);const{transitional:r,paramsSerializer:i,headers:s}=n;r!==void 0&&Ov.assertOptions(r,{silentJSONParsing:gs.transitional(gs.boolean),forcedJSONParsing:gs.transitional(gs.boolean),clarifyTimeoutError:gs.transitional(gs.boolean)},!1),i!=null&&(B.isFunction(i)?n.paramsSerializer={serialize:i}:Ov.assertOptions(i,{encode:gs.function,serialize:gs.function},!0)),n.method=(n.method||this.defaults.method||"get").toLowerCase();let o=s&&B.merge(s.common,s[n.method]);s&&B.forEach(["delete","get","head","post","put","patch","common"],_=>{delete s[_]}),n.headers=Bn.concat(o,s);const a=[];let l=!0;this.interceptors.request.forEach(function(v){typeof v.runWhen=="function"&&v.runWhen(n)===!1||(l=l&&v.synchronous,a.unshift(v.fulfilled,v.rejected))});const u=[];this.interceptors.response.forEach(function(v){u.push(v.fulfilled,v.rejected)});let d,h=0,f;if(!l){const _=[D1.bind(this),void 0];for(_.unshift.apply(_,a),_.push.apply(_,u),f=_.length,d=Promise.resolve(n);h<f;)d=d.then(_[h++],_[h++]);return d}f=a.length;let g=n;for(h=0;h<f;){const _=a[h++],v=a[h++];try{g=_(g)}catch(T){v.call(this,T);break}}try{d=D1.call(this,g)}catch(_){return Promise.reject(_)}for(h=0,f=u.length;h<f;)d=d.then(u[h++],u[h++]);return d}getUri(e){e=oa(this.defaults,e);const n=uC(e.baseURL,e.url);return iC(n,e.params,e.paramsSerializer)}}B.forEach(["delete","get","head","options"],function(e){Qo.prototype[e]=function(n,r){return this.request(oa(r||{},{method:e,url:n,data:(r||{}).data}))}});B.forEach(["post","put","patch"],function(e){function n(r){return function(s,o,a){return this.request(oa(a||{},{method:e,headers:r?{"Content-Type":"multipart/form-data"}:{},url:s,data:o}))}}Qo.prototype[e]=n(),Qo.prototype[e+"Form"]=n(!0)});class zw{constructor(e){if(typeof e!="function")throw new TypeError("executor must be a function.");let n;this.promise=new Promise(function(s){n=s});const r=this;this.promise.then(i=>{if(!r._listeners)return;let s=r._listeners.length;for(;s-- >0;)r._listeners[s](i);r._listeners=null}),this.promise.then=i=>{let s;const o=new Promise(a=>{r.subscribe(a),s=a}).then(i);return o.cancel=function(){r.unsubscribe(s)},o},e(function(s,o,a){r.reason||(r.reason=new hu(s,o,a),n(r.reason))})}throwIfRequested(){if(this.reason)throw this.reason}subscribe(e){if(this.reason){e(this.reason);return}this._listeners?this._listeners.push(e):this._listeners=[e]}unsubscribe(e){if(!this._listeners)return;const n=this._listeners.indexOf(e);n!==-1&&this._listeners.splice(n,1)}toAbortSignal(){const e=new AbortController,n=r=>{e.abort(r)};return this.subscribe(n),e.signal.unsubscribe=()=>this.unsubscribe(n),e.signal}static source(){let e;return{token:new zw(function(i){e=i}),cancel:e}}}function R5(t){return function(n){return t.apply(null,n)}}function A5(t){return B.isObject(t)&&t.isAxiosError===!0}const Dv={Continue:100,SwitchingProtocols:101,Processing:102,EarlyHints:103,Ok:200,Created:201,Accepted:202,NonAuthoritativeInformation:203,NoContent:204,ResetContent:205,PartialContent:206,MultiStatus:207,AlreadyReported:208,ImUsed:226,MultipleChoices:300,MovedPermanently:301,Found:302,SeeOther:303,NotModified:304,UseProxy:305,Unused:306,TemporaryRedirect:307,PermanentRedirect:308,BadRequest:400,Unauthorized:401,PaymentRequired:402,Forbidden:403,NotFound:404,MethodNotAllowed:405,NotAcceptable:406,ProxyAuthenticationRequired:407,RequestTimeout:408,Conflict:409,Gone:410,LengthRequired:411,PreconditionFailed:412,PayloadTooLarge:413,UriTooLong:414,UnsupportedMediaType:415,RangeNotSatisfiable:416,ExpectationFailed:417,ImATeapot:418,MisdirectedRequest:421,UnprocessableEntity:422,Locked:423,FailedDependency:424,TooEarly:425,UpgradeRequired:426,PreconditionRequired:428,TooManyRequests:429,RequestHeaderFieldsTooLarge:431,UnavailableForLegalReasons:451,InternalServerError:500,NotImplemented:501,BadGateway:502,ServiceUnavailable:503,GatewayTimeout:504,HttpVersionNotSupported:505,VariantAlsoNegotiates:506,InsufficientStorage:507,LoopDetected:508,NotExtended:510,NetworkAuthenticationRequired:511};Object.entries(Dv).forEach(([t,e])=>{Dv[e]=t});function mC(t){const e=new Qo(t),n=Hk(Qo.prototype.request,e);return B.extend(n,Qo.prototype,e,{allOwnKeys:!0}),B.extend(n,e,null,{allOwnKeys:!0}),n.create=function(i){return mC(oa(t,i))},n}const lt=mC(rh);lt.Axios=Qo;lt.CanceledError=hu;lt.CancelToken=zw;lt.isCancel=aC;lt.VERSION=pC;lt.toFormData=Qm;lt.AxiosError=le;lt.Cancel=lt.CanceledError;lt.all=function(e){return Promise.all(e)};lt.spread=R5;lt.isAxiosError=A5;lt.mergeConfig=oa;lt.AxiosHeaders=Bn;lt.formToJSON=t=>oC(B.isHTMLForm(t)?new FormData(t):t);lt.getAdapter=fC.getAdapter;lt.HttpStatusCode=Dv;lt.default=lt;const P5="_card__container_vnxwd_1",k5="_button_vnxwd_15",C5="_price_border_vnxwd_42",x5="_rating_vnxwd_45",O5="_products_container_vnxwd_50",D5="_product__flexed_vnxwd_62",xo={card__container:P5,button:k5,price_border:C5,rating:x5,products_container:O5,product__flexed:D5};var N5={cm:!0,mm:!0,in:!0,px:!0,pt:!0,pc:!0,em:!0,ex:!0,ch:!0,rem:!0,vw:!0,vh:!0,vmin:!0,vmax:!0,"%":!0};function M5(t){if(typeof t=="number")return{value:t,unit:"px"};var e,n=(t.match(/^[0-9.]*/)||"").toString();n.includes(".")?e=parseFloat(n):e=parseInt(n,10);var r=(t.match(/[^0-9]*$/)||"").toString();return N5[r]?{value:e,unit:r}:(console.warn("React Spinners: ".concat(t," is not a valid css value. Defaulting to ").concat(e,"px.")),{value:e,unit:"px"})}function Uc(t){var e=M5(t);return"".concat(e.value).concat(e.unit)}var Nv=function(t,e,n){var r="react-spinners-".concat(t,"-").concat(n);if(typeof window>"u"||!window.document)return r;var i=document.createElement("style");document.head.appendChild(i);var s=i.sheet,o=`
    @keyframes `.concat(r,` {
      `).concat(e,`
    }
  `);return s&&s.insertRule(o,0),r},Hp=function(){return Hp=Object.assign||function(t){for(var e,n=1,r=arguments.length;n<r;n++){e=arguments[n];for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i])}return t},Hp.apply(this,arguments)},L5=function(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(t);i<r.length;i++)e.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(t,r[i])&&(n[r[i]]=t[r[i]]);return n},V5=Nv("ClipLoader","0% {transform: rotate(0deg) scale(1)} 50% {transform: rotate(180deg) scale(0.8)} 100% {transform: rotate(360deg) scale(1)}","clip");function Mv(t){var e=t.loading,n=e===void 0?!0:e,r=t.color,i=r===void 0?"#000000":r,s=t.speedMultiplier,o=s===void 0?1:s,a=t.cssOverride,l=a===void 0?{}:a,u=t.size,d=u===void 0?35:u,h=L5(t,["loading","color","speedMultiplier","cssOverride","size"]),f=Hp({background:"transparent !important",width:Uc(d),height:Uc(d),borderRadius:"100%",border:"2px solid",borderTopColor:i,borderBottomColor:"transparent",borderLeftColor:i,borderRightColor:i,display:"inline-block",animation:"".concat(V5," ").concat(.75/o,"s 0s infinite linear"),animationFillMode:"both"},l);return n?U.createElement("span",Hp({style:f},h)):null}var Gp=function(){return Gp=Object.assign||function(t){for(var e,n=1,r=arguments.length;n<r;n++){e=arguments[n];for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i])}return t},Gp.apply(this,arguments)},F5=function(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(t);i<r.length;i++)e.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(t,r[i])&&(n[r[i]]=t[r[i]]);return n};function U5(t){var e=t.loading,n=e===void 0?!0:e,r=t.color,i=r===void 0?"#000000":r,s=t.speedMultiplier,o=s===void 0?1:s,a=t.cssOverride,l=a===void 0?{}:a,u=t.size,d=u===void 0?15:u,h=t.margin,f=h===void 0?2:h,g=F5(t,["loading","color","speedMultiplier","cssOverride","size","margin"]),_=Gp({display:"inherit"},l),v=Nv("RiseLoader",`0% {transform: scale(1.1)}
    25% {transform: translateY(-`.concat(d,`px)}
    50% {transform: scale(0.4)}
    75% {transform: translateY(`).concat(d,`px)}
    100% {transform: translateY(0) scale(1.0)}`),"even"),T=Nv("RiseLoader",`0% {transform: scale(0.4)}
    25% {transform: translateY(`.concat(d,`px)}
    50% {transform: scale(1.1)}
    75% {transform: translateY(`).concat(-d,`px)}
    100% {transform: translateY(0) scale(0.75)}`),"odd"),I=function(w){return{backgroundColor:i,width:Uc(d),height:Uc(d),margin:Uc(f),borderRadius:"100%",display:"inline-block",animation:"".concat(w%2===0?v:T," ").concat(1/o,"s 0s infinite cubic-bezier(0.15, 0.46, 0.9, 0.6)"),animationFillMode:"both"}};return n?U.createElement("span",Gp({style:_},g),U.createElement("span",{style:I(1)}),U.createElement("span",{style:I(2)}),U.createElement("span",{style:I(3)}),U.createElement("span",{style:I(4)}),U.createElement("span",{style:I(5)})):null}function jw(){return x.createElement("div",{style:{display:"flex",alignItems:"center",justifyContent:"center",height:"50vh"}},x.createElement(U5,{color:"#36d7b7"}))}function gC(t){var e,n,r="";if(typeof t=="string"||typeof t=="number")r+=t;else if(typeof t=="object")if(Array.isArray(t)){var i=t.length;for(e=0;e<i;e++)t[e]&&(n=gC(t[e]))&&(r&&(r+=" "),r+=n)}else for(n in t)t[n]&&(r&&(r+=" "),r+=n);return r}function Bc(){for(var t,e,n=0,r="",i=arguments.length;n<i;n++)(t=arguments[n])&&(e=gC(t))&&(r&&(r+=" "),r+=e);return r}function yC(t,e=Number.MIN_SAFE_INTEGER,n=Number.MAX_SAFE_INTEGER){return Math.max(e,Math.min(t,n))}const B5={border:0,clip:"rect(0 0 0 0)",height:"1px",margin:"-1px",overflow:"hidden",padding:0,position:"absolute",whiteSpace:"nowrap",width:"1px"};function _C(t,e,n=void 0){const r={};for(const i in t){const s=t[i];let o="",a=!0;for(let l=0;l<s.length;l+=1){const u=s[l];u&&(o+=(a===!0?"":" ")+e(u),a=!1,n&&n[u]&&(o+=" "+n[u]))}r[i]=o}return r}var vC={exports:{}},Xm={};/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var $5=U,z5=Symbol.for("react.element"),j5=Symbol.for("react.fragment"),W5=Object.prototype.hasOwnProperty,q5=$5.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,H5={key:!0,ref:!0,__self:!0,__source:!0};function wC(t,e,n){var r,i={},s=null,o=null;n!==void 0&&(s=""+n),e.key!==void 0&&(s=""+e.key),e.ref!==void 0&&(o=e.ref);for(r in e)W5.call(e,r)&&!H5.hasOwnProperty(r)&&(i[r]=e[r]);if(t&&t.defaultProps)for(r in e=t.defaultProps,e)i[r]===void 0&&(i[r]=e[r]);return{$$typeof:z5,type:t,key:s,ref:o,props:i,_owner:q5.current}}Xm.Fragment=j5;Xm.jsx=wC;Xm.jsxs=wC;vC.exports=Xm;var Et=vC.exports;const G5=U.createContext(),K5=()=>U.useContext(G5)??!1;function M1(t){try{return t.matches(":focus-visible")}catch{}return!1}function Oi(t){if(typeof t!="object"||t===null)return!1;const e=Object.getPrototypeOf(t);return(e===null||e===Object.prototype||Object.getPrototypeOf(e)===null)&&!(Symbol.toStringTag in t)&&!(Symbol.iterator in t)}function EC(t){if(!Oi(t))return t;const e={};return Object.keys(t).forEach(n=>{e[n]=EC(t[n])}),e}function Zn(t,e,n={clone:!0}){const r=n.clone?{...t}:t;return Oi(t)&&Oi(e)&&Object.keys(e).forEach(i=>{Oi(e[i])&&Object.prototype.hasOwnProperty.call(t,i)&&Oi(t[i])?r[i]=Zn(t[i],e[i],n):n.clone?r[i]=Oi(e[i])?EC(e[i]):e[i]:r[i]=e[i]}),r}function aa(t){let e="https://mui.com/production-error/?code="+t;for(let n=1;n<arguments.length;n+=1)e+="&args[]="+encodeURIComponent(arguments[n]);return"Minified MUI error #"+t+"; visit "+e+" for the full message."}function Ys(t){if(typeof t!="string")throw new Error(aa(7));return t.charAt(0).toUpperCase()+t.slice(1)}function Y5(t,e){typeof t=="function"?t(e):t&&(t.current=e)}let L1=0;function Q5(t){const[e,n]=U.useState(t),r=t||e;return U.useEffect(()=>{e==null&&(L1+=1,n(`mui-${L1}`))},[e]),r}const V1=pp.useId;function SC(t){if(V1!==void 0){const e=V1();return t??e}return Q5(t)}function J5({controlled:t,default:e,name:n,state:r="value"}){const{current:i}=U.useRef(t!==void 0),[s,o]=U.useState(e),a=i?t:s,l=U.useCallback(u=>{i||o(u)},[]);return[a,l]}function X5(...t){return U.useMemo(()=>t.every(e=>e==null)?null:e=>{t.forEach(n=>{Y5(n,e)})},t)}function Lv(t,e){const n={...e};for(const r in t)if(Object.prototype.hasOwnProperty.call(t,r)){const i=r;if(i==="components"||i==="slots")n[i]={...t[i],...n[i]};else if(i==="componentsProps"||i==="slotProps"){const s=t[i],o=e[i];if(!o)n[i]=s||{};else if(!s)n[i]=o;else{n[i]={...o};for(const a in s)if(Object.prototype.hasOwnProperty.call(s,a)){const l=a;n[i][l]=Lv(s[l],o[l])}}}else n[i]===void 0&&(n[i]=t[i])}return n}const F1=t=>t,Z5=()=>{let t=F1;return{configure(e){t=e},generate(e){return t(e)},reset(){t=F1}}},eB=Z5(),tB={active:"active",checked:"checked",completed:"completed",disabled:"disabled",error:"error",expanded:"expanded",focused:"focused",focusVisible:"focusVisible",open:"open",readOnly:"readOnly",required:"required",selected:"selected"};function Ww(t,e,n="Mui"){const r=tB[e];return r?`${n}-${r}`:`${eB.generate(t)}-${e}`}function IC(t,e,n="Mui"){const r={};return e.forEach(i=>{r[i]=Ww(t,i,n)}),r}function $c(t,e){return e?Zn(t,e,{clone:!1}):t}function nB(t,e){if(!t.containerQueries)return e;const n=Object.keys(e).filter(r=>r.startsWith("@container")).sort((r,i)=>{var o,a;const s=/min-width:\s*([0-9.]+)/;return+(((o=r.match(s))==null?void 0:o[1])||0)-+(((a=i.match(s))==null?void 0:a[1])||0)});return n.length?n.reduce((r,i)=>{const s=e[i];return delete r[i],r[i]=s,r},{...e}):e}function rB(t,e){return e==="@"||e.startsWith("@")&&(t.some(n=>e.startsWith(`@${n}`))||!!e.match(/^@\d/))}function iB(t,e){const n=e.match(/^@([^/]+)?\/?(.+)?$/);if(!n)return null;const[,r,i]=n,s=Number.isNaN(+r)?r||0:+r;return t.containerQueries(i).up(s)}function sB(t){const e=(s,o)=>s.replace("@media",o?`@container ${o}`:"@container");function n(s,o){s.up=(...a)=>e(t.breakpoints.up(...a),o),s.down=(...a)=>e(t.breakpoints.down(...a),o),s.between=(...a)=>e(t.breakpoints.between(...a),o),s.only=(...a)=>e(t.breakpoints.only(...a),o),s.not=(...a)=>{const l=e(t.breakpoints.not(...a),o);return l.includes("not all and")?l.replace("not all and ","").replace("min-width:","width<").replace("max-width:","width>").replace("and","or"):l}}const r={},i=s=>(n(r,s),r);return n(i),{...t,containerQueries:i}}const Zm={xs:0,sm:600,md:900,lg:1200,xl:1536},U1={keys:["xs","sm","md","lg","xl"],up:t=>`@media (min-width:${Zm[t]}px)`},oB={containerQueries:t=>({up:e=>{let n=typeof e=="number"?e:Zm[e]||e;return typeof n=="number"&&(n=`${n}px`),t?`@container ${t} (min-width:${n})`:`@container (min-width:${n})`}})};function Yi(t,e,n){const r=t.theme||{};if(Array.isArray(e)){const s=r.breakpoints||U1;return e.reduce((o,a,l)=>(o[s.up(s.keys[l])]=n(e[l]),o),{})}if(typeof e=="object"){const s=r.breakpoints||U1;return Object.keys(e).reduce((o,a)=>{if(rB(s.keys,a)){const l=iB(r.containerQueries?r:oB,a);l&&(o[l]=n(e[a],a))}else if(Object.keys(s.values||Zm).includes(a)){const l=s.up(a);o[l]=n(e[a],a)}else{const l=a;o[l]=e[l]}return o},{})}return n(e)}function aB(t={}){var n;return((n=t.keys)==null?void 0:n.reduce((r,i)=>{const s=t.up(i);return r[s]={},r},{}))||{}}function lB(t,e){return t.reduce((n,r)=>{const i=n[r];return(!i||Object.keys(i).length===0)&&delete n[r],n},e)}function eg(t,e,n=!0){if(!e||typeof e!="string")return null;if(t&&t.vars&&n){const r=`vars.${e}`.split(".").reduce((i,s)=>i&&i[s]?i[s]:null,t);if(r!=null)return r}return e.split(".").reduce((r,i)=>r&&r[i]!=null?r[i]:null,t)}function Kp(t,e,n,r=n){let i;return typeof t=="function"?i=t(n):Array.isArray(t)?i=t[n]||r:i=eg(t,n)||r,e&&(i=e(i,r,t)),i}function bt(t){const{prop:e,cssProperty:n=t.prop,themeKey:r,transform:i}=t,s=o=>{if(o[e]==null)return null;const a=o[e],l=o.theme,u=eg(l,r)||{};return Yi(o,a,h=>{let f=Kp(u,i,h);return h===f&&typeof h=="string"&&(f=Kp(u,i,`${e}${h==="default"?"":Ys(h)}`,h)),n===!1?f:{[n]:f}})};return s.propTypes={},s.filterProps=[e],s}function uB(t){const e={};return n=>(e[n]===void 0&&(e[n]=t(n)),e[n])}const cB={m:"margin",p:"padding"},dB={t:"Top",r:"Right",b:"Bottom",l:"Left",x:["Left","Right"],y:["Top","Bottom"]},B1={marginX:"mx",marginY:"my",paddingX:"px",paddingY:"py"},hB=uB(t=>{if(t.length>2)if(B1[t])t=B1[t];else return[t];const[e,n]=t.split(""),r=cB[e],i=dB[n]||"";return Array.isArray(i)?i.map(s=>r+s):[r+i]}),qw=["m","mt","mr","mb","ml","mx","my","margin","marginTop","marginRight","marginBottom","marginLeft","marginX","marginY","marginInline","marginInlineStart","marginInlineEnd","marginBlock","marginBlockStart","marginBlockEnd"],Hw=["p","pt","pr","pb","pl","px","py","padding","paddingTop","paddingRight","paddingBottom","paddingLeft","paddingX","paddingY","paddingInline","paddingInlineStart","paddingInlineEnd","paddingBlock","paddingBlockStart","paddingBlockEnd"];[...qw,...Hw];function ih(t,e,n,r){const i=eg(t,e,!0)??n;return typeof i=="number"||typeof i=="string"?s=>typeof s=="string"?s:typeof i=="string"?`calc(${s} * ${i})`:i*s:Array.isArray(i)?s=>{if(typeof s=="string")return s;const o=Math.abs(s),a=i[o];return s>=0?a:typeof a=="number"?-a:`-${a}`}:typeof i=="function"?i:()=>{}}function Gw(t){return ih(t,"spacing",8)}function sh(t,e){return typeof e=="string"||e==null?e:t(e)}function fB(t,e){return n=>t.reduce((r,i)=>(r[i]=sh(e,n),r),{})}function pB(t,e,n,r){if(!e.includes(n))return null;const i=hB(n),s=fB(i,r),o=t[n];return Yi(t,o,s)}function TC(t,e){const n=Gw(t.theme);return Object.keys(t).map(r=>pB(t,e,r,n)).reduce($c,{})}function dt(t){return TC(t,qw)}dt.propTypes={};dt.filterProps=qw;function ht(t){return TC(t,Hw)}ht.propTypes={};ht.filterProps=Hw;function tg(...t){const e=t.reduce((r,i)=>(i.filterProps.forEach(s=>{r[s]=i}),r),{}),n=r=>Object.keys(r).reduce((i,s)=>e[s]?$c(i,e[s](r)):i,{});return n.propTypes={},n.filterProps=t.reduce((r,i)=>r.concat(i.filterProps),[]),n}function lr(t){return typeof t!="number"?t:`${t}px solid`}function yr(t,e){return bt({prop:t,themeKey:"borders",transform:e})}const mB=yr("border",lr),gB=yr("borderTop",lr),yB=yr("borderRight",lr),_B=yr("borderBottom",lr),vB=yr("borderLeft",lr),wB=yr("borderColor"),EB=yr("borderTopColor"),SB=yr("borderRightColor"),IB=yr("borderBottomColor"),TB=yr("borderLeftColor"),bB=yr("outline",lr),RB=yr("outlineColor"),ng=t=>{if(t.borderRadius!==void 0&&t.borderRadius!==null){const e=ih(t.theme,"shape.borderRadius",4),n=r=>({borderRadius:sh(e,r)});return Yi(t,t.borderRadius,n)}return null};ng.propTypes={};ng.filterProps=["borderRadius"];tg(mB,gB,yB,_B,vB,wB,EB,SB,IB,TB,ng,bB,RB);const rg=t=>{if(t.gap!==void 0&&t.gap!==null){const e=ih(t.theme,"spacing",8),n=r=>({gap:sh(e,r)});return Yi(t,t.gap,n)}return null};rg.propTypes={};rg.filterProps=["gap"];const ig=t=>{if(t.columnGap!==void 0&&t.columnGap!==null){const e=ih(t.theme,"spacing",8),n=r=>({columnGap:sh(e,r)});return Yi(t,t.columnGap,n)}return null};ig.propTypes={};ig.filterProps=["columnGap"];const sg=t=>{if(t.rowGap!==void 0&&t.rowGap!==null){const e=ih(t.theme,"spacing",8),n=r=>({rowGap:sh(e,r)});return Yi(t,t.rowGap,n)}return null};sg.propTypes={};sg.filterProps=["rowGap"];const AB=bt({prop:"gridColumn"}),PB=bt({prop:"gridRow"}),kB=bt({prop:"gridAutoFlow"}),CB=bt({prop:"gridAutoColumns"}),xB=bt({prop:"gridAutoRows"}),OB=bt({prop:"gridTemplateColumns"}),DB=bt({prop:"gridTemplateRows"}),NB=bt({prop:"gridTemplateAreas"}),MB=bt({prop:"gridArea"});tg(rg,ig,sg,AB,PB,kB,CB,xB,OB,DB,NB,MB);function El(t,e){return e==="grey"?e:t}const LB=bt({prop:"color",themeKey:"palette",transform:El}),VB=bt({prop:"bgcolor",cssProperty:"backgroundColor",themeKey:"palette",transform:El}),FB=bt({prop:"backgroundColor",themeKey:"palette",transform:El});tg(LB,VB,FB);function Kn(t){return t<=1&&t!==0?`${t*100}%`:t}const UB=bt({prop:"width",transform:Kn}),Kw=t=>{if(t.maxWidth!==void 0&&t.maxWidth!==null){const e=n=>{var i,s,o,a,l;const r=((o=(s=(i=t.theme)==null?void 0:i.breakpoints)==null?void 0:s.values)==null?void 0:o[n])||Zm[n];return r?((l=(a=t.theme)==null?void 0:a.breakpoints)==null?void 0:l.unit)!=="px"?{maxWidth:`${r}${t.theme.breakpoints.unit}`}:{maxWidth:r}:{maxWidth:Kn(n)}};return Yi(t,t.maxWidth,e)}return null};Kw.filterProps=["maxWidth"];const BB=bt({prop:"minWidth",transform:Kn}),$B=bt({prop:"height",transform:Kn}),zB=bt({prop:"maxHeight",transform:Kn}),jB=bt({prop:"minHeight",transform:Kn});bt({prop:"size",cssProperty:"width",transform:Kn});bt({prop:"size",cssProperty:"height",transform:Kn});const WB=bt({prop:"boxSizing"});tg(UB,Kw,BB,$B,zB,jB,WB);const og={border:{themeKey:"borders",transform:lr},borderTop:{themeKey:"borders",transform:lr},borderRight:{themeKey:"borders",transform:lr},borderBottom:{themeKey:"borders",transform:lr},borderLeft:{themeKey:"borders",transform:lr},borderColor:{themeKey:"palette"},borderTopColor:{themeKey:"palette"},borderRightColor:{themeKey:"palette"},borderBottomColor:{themeKey:"palette"},borderLeftColor:{themeKey:"palette"},outline:{themeKey:"borders",transform:lr},outlineColor:{themeKey:"palette"},borderRadius:{themeKey:"shape.borderRadius",style:ng},color:{themeKey:"palette",transform:El},bgcolor:{themeKey:"palette",cssProperty:"backgroundColor",transform:El},backgroundColor:{themeKey:"palette",transform:El},p:{style:ht},pt:{style:ht},pr:{style:ht},pb:{style:ht},pl:{style:ht},px:{style:ht},py:{style:ht},padding:{style:ht},paddingTop:{style:ht},paddingRight:{style:ht},paddingBottom:{style:ht},paddingLeft:{style:ht},paddingX:{style:ht},paddingY:{style:ht},paddingInline:{style:ht},paddingInlineStart:{style:ht},paddingInlineEnd:{style:ht},paddingBlock:{style:ht},paddingBlockStart:{style:ht},paddingBlockEnd:{style:ht},m:{style:dt},mt:{style:dt},mr:{style:dt},mb:{style:dt},ml:{style:dt},mx:{style:dt},my:{style:dt},margin:{style:dt},marginTop:{style:dt},marginRight:{style:dt},marginBottom:{style:dt},marginLeft:{style:dt},marginX:{style:dt},marginY:{style:dt},marginInline:{style:dt},marginInlineStart:{style:dt},marginInlineEnd:{style:dt},marginBlock:{style:dt},marginBlockStart:{style:dt},marginBlockEnd:{style:dt},displayPrint:{cssProperty:!1,transform:t=>({"@media print":{display:t}})},display:{},overflow:{},textOverflow:{},visibility:{},whiteSpace:{},flexBasis:{},flexDirection:{},flexWrap:{},justifyContent:{},alignItems:{},alignContent:{},order:{},flex:{},flexGrow:{},flexShrink:{},alignSelf:{},justifyItems:{},justifySelf:{},gap:{style:rg},rowGap:{style:sg},columnGap:{style:ig},gridColumn:{},gridRow:{},gridAutoFlow:{},gridAutoColumns:{},gridAutoRows:{},gridTemplateColumns:{},gridTemplateRows:{},gridTemplateAreas:{},gridArea:{},position:{},zIndex:{themeKey:"zIndex"},top:{},right:{},bottom:{},left:{},boxShadow:{themeKey:"shadows"},width:{transform:Kn},maxWidth:{style:Kw},minWidth:{transform:Kn},height:{transform:Kn},maxHeight:{transform:Kn},minHeight:{transform:Kn},boxSizing:{},font:{themeKey:"font"},fontFamily:{themeKey:"typography"},fontSize:{themeKey:"typography"},fontStyle:{themeKey:"typography"},fontWeight:{themeKey:"typography"},letterSpacing:{},textTransform:{},lineHeight:{},textAlign:{},typography:{cssProperty:!1,themeKey:"typography"}};function qB(...t){const e=t.reduce((r,i)=>r.concat(Object.keys(i)),[]),n=new Set(e);return t.every(r=>n.size===Object.keys(r).length)}function HB(t,e){return typeof t=="function"?t(e):t}function GB(){function t(n,r,i,s){const o={[n]:r,theme:i},a=s[n];if(!a)return{[n]:r};const{cssProperty:l=n,themeKey:u,transform:d,style:h}=a;if(r==null)return null;if(u==="typography"&&r==="inherit")return{[n]:r};const f=eg(i,u)||{};return h?h(o):Yi(o,r,_=>{let v=Kp(f,d,_);return _===v&&typeof _=="string"&&(v=Kp(f,d,`${n}${_==="default"?"":Ys(_)}`,_)),l===!1?v:{[l]:v}})}function e(n){const{sx:r,theme:i={}}=n||{};if(!r)return null;const s=i.unstable_sxConfig??og;function o(a){let l=a;if(typeof a=="function")l=a(i);else if(typeof a!="object")return a;if(!l)return null;const u=aB(i.breakpoints),d=Object.keys(u);let h=u;return Object.keys(l).forEach(f=>{const g=HB(l[f],i);if(g!=null)if(typeof g=="object")if(s[f])h=$c(h,t(f,g,i,s));else{const _=Yi({theme:i},g,v=>({[f]:v}));qB(_,g)?h[f]=e({sx:g,theme:i}):h=$c(h,_)}else h=$c(h,t(f,g,i,s))}),nB(i,lB(d,h))}return Array.isArray(r)?r.map(o):o(r)}return e}const oh=GB();oh.filterProps=["sx"];function Vv(){return Vv=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Vv.apply(null,arguments)}function bC(t){var e=Object.create(null);return function(n){return e[n]===void 0&&(e[n]=t(n)),e[n]}}var KB=/^((children|dangerouslySetInnerHTML|key|ref|autoFocus|defaultValue|defaultChecked|innerHTML|suppressContentEditableWarning|suppressHydrationWarning|valueLink|abbr|accept|acceptCharset|accessKey|action|allow|allowUserMedia|allowPaymentRequest|allowFullScreen|allowTransparency|alt|async|autoComplete|autoPlay|capture|cellPadding|cellSpacing|challenge|charSet|checked|cite|classID|className|cols|colSpan|content|contentEditable|contextMenu|controls|controlsList|coords|crossOrigin|data|dateTime|decoding|default|defer|dir|disabled|disablePictureInPicture|disableRemotePlayback|download|draggable|encType|enterKeyHint|form|formAction|formEncType|formMethod|formNoValidate|formTarget|frameBorder|headers|height|hidden|high|href|hrefLang|htmlFor|httpEquiv|id|inputMode|integrity|is|keyParams|keyType|kind|label|lang|list|loading|loop|low|marginHeight|marginWidth|max|maxLength|media|mediaGroup|method|min|minLength|multiple|muted|name|nonce|noValidate|open|optimum|pattern|placeholder|playsInline|poster|preload|profile|radioGroup|readOnly|referrerPolicy|rel|required|reversed|role|rows|rowSpan|sandbox|scope|scoped|scrolling|seamless|selected|shape|size|sizes|slot|span|spellCheck|src|srcDoc|srcLang|srcSet|start|step|style|summary|tabIndex|target|title|translate|type|useMap|value|width|wmode|wrap|about|datatype|inlist|prefix|property|resource|typeof|vocab|autoCapitalize|autoCorrect|autoSave|color|incremental|fallback|inert|itemProp|itemScope|itemType|itemID|itemRef|on|option|results|security|unselectable|accentHeight|accumulate|additive|alignmentBaseline|allowReorder|alphabetic|amplitude|arabicForm|ascent|attributeName|attributeType|autoReverse|azimuth|baseFrequency|baselineShift|baseProfile|bbox|begin|bias|by|calcMode|capHeight|clip|clipPathUnits|clipPath|clipRule|colorInterpolation|colorInterpolationFilters|colorProfile|colorRendering|contentScriptType|contentStyleType|cursor|cx|cy|d|decelerate|descent|diffuseConstant|direction|display|divisor|dominantBaseline|dur|dx|dy|edgeMode|elevation|enableBackground|end|exponent|externalResourcesRequired|fill|fillOpacity|fillRule|filter|filterRes|filterUnits|floodColor|floodOpacity|focusable|fontFamily|fontSize|fontSizeAdjust|fontStretch|fontStyle|fontVariant|fontWeight|format|from|fr|fx|fy|g1|g2|glyphName|glyphOrientationHorizontal|glyphOrientationVertical|glyphRef|gradientTransform|gradientUnits|hanging|horizAdvX|horizOriginX|ideographic|imageRendering|in|in2|intercept|k|k1|k2|k3|k4|kernelMatrix|kernelUnitLength|kerning|keyPoints|keySplines|keyTimes|lengthAdjust|letterSpacing|lightingColor|limitingConeAngle|local|markerEnd|markerMid|markerStart|markerHeight|markerUnits|markerWidth|mask|maskContentUnits|maskUnits|mathematical|mode|numOctaves|offset|opacity|operator|order|orient|orientation|origin|overflow|overlinePosition|overlineThickness|panose1|paintOrder|pathLength|patternContentUnits|patternTransform|patternUnits|pointerEvents|points|pointsAtX|pointsAtY|pointsAtZ|preserveAlpha|preserveAspectRatio|primitiveUnits|r|radius|refX|refY|renderingIntent|repeatCount|repeatDur|requiredExtensions|requiredFeatures|restart|result|rotate|rx|ry|scale|seed|shapeRendering|slope|spacing|specularConstant|specularExponent|speed|spreadMethod|startOffset|stdDeviation|stemh|stemv|stitchTiles|stopColor|stopOpacity|strikethroughPosition|strikethroughThickness|string|stroke|strokeDasharray|strokeDashoffset|strokeLinecap|strokeLinejoin|strokeMiterlimit|strokeOpacity|strokeWidth|surfaceScale|systemLanguage|tableValues|targetX|targetY|textAnchor|textDecoration|textRendering|textLength|to|transform|u1|u2|underlinePosition|underlineThickness|unicode|unicodeBidi|unicodeRange|unitsPerEm|vAlphabetic|vHanging|vIdeographic|vMathematical|values|vectorEffect|version|vertAdvY|vertOriginX|vertOriginY|viewBox|viewTarget|visibility|widths|wordSpacing|writingMode|x|xHeight|x1|x2|xChannelSelector|xlinkActuate|xlinkArcrole|xlinkHref|xlinkRole|xlinkShow|xlinkTitle|xlinkType|xmlBase|xmlns|xmlnsXlink|xmlLang|xmlSpace|y|y1|y2|yChannelSelector|z|zoomAndPan|for|class|autofocus)|(([Dd][Aa][Tt][Aa]|[Aa][Rr][Ii][Aa]|x)-.*))$/,YB=bC(function(t){return KB.test(t)||t.charCodeAt(0)===111&&t.charCodeAt(1)===110&&t.charCodeAt(2)<91}),QB=!1;function JB(t){if(t.sheet)return t.sheet;for(var e=0;e<document.styleSheets.length;e++)if(document.styleSheets[e].ownerNode===t)return document.styleSheets[e]}function XB(t){var e=document.createElement("style");return e.setAttribute("data-emotion",t.key),t.nonce!==void 0&&e.setAttribute("nonce",t.nonce),e.appendChild(document.createTextNode("")),e.setAttribute("data-s",""),e}var ZB=function(){function t(n){var r=this;this._insertTag=function(i){var s;r.tags.length===0?r.insertionPoint?s=r.insertionPoint.nextSibling:r.prepend?s=r.container.firstChild:s=r.before:s=r.tags[r.tags.length-1].nextSibling,r.container.insertBefore(i,s),r.tags.push(i)},this.isSpeedy=n.speedy===void 0?!QB:n.speedy,this.tags=[],this.ctr=0,this.nonce=n.nonce,this.key=n.key,this.container=n.container,this.prepend=n.prepend,this.insertionPoint=n.insertionPoint,this.before=null}var e=t.prototype;return e.hydrate=function(r){r.forEach(this._insertTag)},e.insert=function(r){this.ctr%(this.isSpeedy?65e3:1)===0&&this._insertTag(XB(this));var i=this.tags[this.tags.length-1];if(this.isSpeedy){var s=JB(i);try{s.insertRule(r,s.cssRules.length)}catch{}}else i.appendChild(document.createTextNode(r));this.ctr++},e.flush=function(){this.tags.forEach(function(r){var i;return(i=r.parentNode)==null?void 0:i.removeChild(r)}),this.tags=[],this.ctr=0},t}(),ln="-ms-",Yp="-moz-",Pe="-webkit-",RC="comm",Yw="rule",Qw="decl",e3="@import",AC="@keyframes",t3="@layer",n3=Math.abs,ag=String.fromCharCode,r3=Object.assign;function i3(t,e){return Jt(t,0)^45?(((e<<2^Jt(t,0))<<2^Jt(t,1))<<2^Jt(t,2))<<2^Jt(t,3):0}function PC(t){return t.trim()}function s3(t,e){return(t=e.exec(t))?t[0]:t}function ke(t,e,n){return t.replace(e,n)}function Fv(t,e){return t.indexOf(e)}function Jt(t,e){return t.charCodeAt(e)|0}function _d(t,e,n){return t.slice(e,n)}function Kr(t){return t.length}function Jw(t){return t.length}function gf(t,e){return e.push(t),t}function o3(t,e){return t.map(e).join("")}var lg=1,Ul=1,kC=0,$n=0,kt=0,fu="";function ug(t,e,n,r,i,s,o){return{value:t,root:e,parent:n,type:r,props:i,children:s,line:lg,column:Ul,length:o,return:""}}function ec(t,e){return r3(ug("",null,null,"",null,null,0),t,{length:-t.length},e)}function a3(){return kt}function l3(){return kt=$n>0?Jt(fu,--$n):0,Ul--,kt===10&&(Ul=1,lg--),kt}function er(){return kt=$n<kC?Jt(fu,$n++):0,Ul++,kt===10&&(Ul=1,lg++),kt}function ui(){return Jt(fu,$n)}function Hf(){return $n}function ah(t,e){return _d(fu,t,e)}function vd(t){switch(t){case 0:case 9:case 10:case 13:case 32:return 5;case 33:case 43:case 44:case 47:case 62:case 64:case 126:case 59:case 123:case 125:return 4;case 58:return 3;case 34:case 39:case 40:case 91:return 2;case 41:case 93:return 1}return 0}function CC(t){return lg=Ul=1,kC=Kr(fu=t),$n=0,[]}function xC(t){return fu="",t}function Gf(t){return PC(ah($n-1,Uv(t===91?t+2:t===40?t+1:t)))}function u3(t){for(;(kt=ui())&&kt<33;)er();return vd(t)>2||vd(kt)>3?"":" "}function c3(t,e){for(;--e&&er()&&!(kt<48||kt>102||kt>57&&kt<65||kt>70&&kt<97););return ah(t,Hf()+(e<6&&ui()==32&&er()==32))}function Uv(t){for(;er();)switch(kt){case t:return $n;case 34:case 39:t!==34&&t!==39&&Uv(kt);break;case 40:t===41&&Uv(t);break;case 92:er();break}return $n}function d3(t,e){for(;er()&&t+kt!==57;)if(t+kt===84&&ui()===47)break;return"/*"+ah(e,$n-1)+"*"+ag(t===47?t:er())}function h3(t){for(;!vd(ui());)er();return ah(t,$n)}function f3(t){return xC(Kf("",null,null,null,[""],t=CC(t),0,[0],t))}function Kf(t,e,n,r,i,s,o,a,l){for(var u=0,d=0,h=o,f=0,g=0,_=0,v=1,T=1,I=1,w=0,E="",O=i,C=s,N=r,b=E;T;)switch(_=w,w=er()){case 40:if(_!=108&&Jt(b,h-1)==58){Fv(b+=ke(Gf(w),"&","&\f"),"&\f")!=-1&&(I=-1);break}case 34:case 39:case 91:b+=Gf(w);break;case 9:case 10:case 13:case 32:b+=u3(_);break;case 92:b+=c3(Hf()-1,7);continue;case 47:switch(ui()){case 42:case 47:gf(p3(d3(er(),Hf()),e,n),l);break;default:b+="/"}break;case 123*v:a[u++]=Kr(b)*I;case 125*v:case 59:case 0:switch(w){case 0:case 125:T=0;case 59+d:I==-1&&(b=ke(b,/\f/g,"")),g>0&&Kr(b)-h&&gf(g>32?z1(b+";",r,n,h-1):z1(ke(b," ","")+";",r,n,h-2),l);break;case 59:b+=";";default:if(gf(N=$1(b,e,n,u,d,i,a,E,O=[],C=[],h),s),w===123)if(d===0)Kf(b,e,N,N,O,s,h,a,C);else switch(f===99&&Jt(b,3)===110?100:f){case 100:case 108:case 109:case 115:Kf(t,N,N,r&&gf($1(t,N,N,0,0,i,a,E,i,O=[],h),C),i,C,h,a,r?O:C);break;default:Kf(b,N,N,N,[""],C,0,a,C)}}u=d=g=0,v=I=1,E=b="",h=o;break;case 58:h=1+Kr(b),g=_;default:if(v<1){if(w==123)--v;else if(w==125&&v++==0&&l3()==125)continue}switch(b+=ag(w),w*v){case 38:I=d>0?1:(b+="\f",-1);break;case 44:a[u++]=(Kr(b)-1)*I,I=1;break;case 64:ui()===45&&(b+=Gf(er())),f=ui(),d=h=Kr(E=b+=h3(Hf())),w++;break;case 45:_===45&&Kr(b)==2&&(v=0)}}return s}function $1(t,e,n,r,i,s,o,a,l,u,d){for(var h=i-1,f=i===0?s:[""],g=Jw(f),_=0,v=0,T=0;_<r;++_)for(var I=0,w=_d(t,h+1,h=n3(v=o[_])),E=t;I<g;++I)(E=PC(v>0?f[I]+" "+w:ke(w,/&\f/g,f[I])))&&(l[T++]=E);return ug(t,e,n,i===0?Yw:a,l,u,d)}function p3(t,e,n){return ug(t,e,n,RC,ag(a3()),_d(t,2,-2),0)}function z1(t,e,n,r){return ug(t,e,n,Qw,_d(t,0,r),_d(t,r+1,-1),r)}function Sl(t,e){for(var n="",r=Jw(t),i=0;i<r;i++)n+=e(t[i],i,t,e)||"";return n}function m3(t,e,n,r){switch(t.type){case t3:if(t.children.length)break;case e3:case Qw:return t.return=t.return||t.value;case RC:return"";case AC:return t.return=t.value+"{"+Sl(t.children,r)+"}";case Yw:t.value=t.props.join(",")}return Kr(n=Sl(t.children,r))?t.return=t.value+"{"+n+"}":""}function g3(t){var e=Jw(t);return function(n,r,i,s){for(var o="",a=0;a<e;a++)o+=t[a](n,r,i,s)||"";return o}}function y3(t){return function(e){e.root||(e=e.return)&&t(e)}}var _3=function(e,n,r){for(var i=0,s=0;i=s,s=ui(),i===38&&s===12&&(n[r]=1),!vd(s);)er();return ah(e,$n)},v3=function(e,n){var r=-1,i=44;do switch(vd(i)){case 0:i===38&&ui()===12&&(n[r]=1),e[r]+=_3($n-1,n,r);break;case 2:e[r]+=Gf(i);break;case 4:if(i===44){e[++r]=ui()===58?"&\f":"",n[r]=e[r].length;break}default:e[r]+=ag(i)}while(i=er());return e},w3=function(e,n){return xC(v3(CC(e),n))},j1=new WeakMap,E3=function(e){if(!(e.type!=="rule"||!e.parent||e.length<1)){for(var n=e.value,r=e.parent,i=e.column===r.column&&e.line===r.line;r.type!=="rule";)if(r=r.parent,!r)return;if(!(e.props.length===1&&n.charCodeAt(0)!==58&&!j1.get(r))&&!i){j1.set(e,!0);for(var s=[],o=w3(n,s),a=r.props,l=0,u=0;l<o.length;l++)for(var d=0;d<a.length;d++,u++)e.props[u]=s[l]?o[l].replace(/&\f/g,a[d]):a[d]+" "+o[l]}}},S3=function(e){if(e.type==="decl"){var n=e.value;n.charCodeAt(0)===108&&n.charCodeAt(2)===98&&(e.return="",e.value="")}};function OC(t,e){switch(i3(t,e)){case 5103:return Pe+"print-"+t+t;case 5737:case 4201:case 3177:case 3433:case 1641:case 4457:case 2921:case 5572:case 6356:case 5844:case 3191:case 6645:case 3005:case 6391:case 5879:case 5623:case 6135:case 4599:case 4855:case 4215:case 6389:case 5109:case 5365:case 5621:case 3829:return Pe+t+t;case 5349:case 4246:case 4810:case 6968:case 2756:return Pe+t+Yp+t+ln+t+t;case 6828:case 4268:return Pe+t+ln+t+t;case 6165:return Pe+t+ln+"flex-"+t+t;case 5187:return Pe+t+ke(t,/(\w+).+(:[^]+)/,Pe+"box-$1$2"+ln+"flex-$1$2")+t;case 5443:return Pe+t+ln+"flex-item-"+ke(t,/flex-|-self/,"")+t;case 4675:return Pe+t+ln+"flex-line-pack"+ke(t,/align-content|flex-|-self/,"")+t;case 5548:return Pe+t+ln+ke(t,"shrink","negative")+t;case 5292:return Pe+t+ln+ke(t,"basis","preferred-size")+t;case 6060:return Pe+"box-"+ke(t,"-grow","")+Pe+t+ln+ke(t,"grow","positive")+t;case 4554:return Pe+ke(t,/([^-])(transform)/g,"$1"+Pe+"$2")+t;case 6187:return ke(ke(ke(t,/(zoom-|grab)/,Pe+"$1"),/(image-set)/,Pe+"$1"),t,"")+t;case 5495:case 3959:return ke(t,/(image-set\([^]*)/,Pe+"$1$`$1");case 4968:return ke(ke(t,/(.+:)(flex-)?(.*)/,Pe+"box-pack:$3"+ln+"flex-pack:$3"),/s.+-b[^;]+/,"justify")+Pe+t+t;case 4095:case 3583:case 4068:case 2532:return ke(t,/(.+)-inline(.+)/,Pe+"$1$2")+t;case 8116:case 7059:case 5753:case 5535:case 5445:case 5701:case 4933:case 4677:case 5533:case 5789:case 5021:case 4765:if(Kr(t)-1-e>6)switch(Jt(t,e+1)){case 109:if(Jt(t,e+4)!==45)break;case 102:return ke(t,/(.+:)(.+)-([^]+)/,"$1"+Pe+"$2-$3$1"+Yp+(Jt(t,e+3)==108?"$3":"$2-$3"))+t;case 115:return~Fv(t,"stretch")?OC(ke(t,"stretch","fill-available"),e)+t:t}break;case 4949:if(Jt(t,e+1)!==115)break;case 6444:switch(Jt(t,Kr(t)-3-(~Fv(t,"!important")&&10))){case 107:return ke(t,":",":"+Pe)+t;case 101:return ke(t,/(.+:)([^;!]+)(;|!.+)?/,"$1"+Pe+(Jt(t,14)===45?"inline-":"")+"box$3$1"+Pe+"$2$3$1"+ln+"$2box$3")+t}break;case 5936:switch(Jt(t,e+11)){case 114:return Pe+t+ln+ke(t,/[svh]\w+-[tblr]{2}/,"tb")+t;case 108:return Pe+t+ln+ke(t,/[svh]\w+-[tblr]{2}/,"tb-rl")+t;case 45:return Pe+t+ln+ke(t,/[svh]\w+-[tblr]{2}/,"lr")+t}return Pe+t+ln+t+t}return t}var I3=function(e,n,r,i){if(e.length>-1&&!e.return)switch(e.type){case Qw:e.return=OC(e.value,e.length);break;case AC:return Sl([ec(e,{value:ke(e.value,"@","@"+Pe)})],i);case Yw:if(e.length)return o3(e.props,function(s){switch(s3(s,/(::plac\w+|:read-\w+)/)){case":read-only":case":read-write":return Sl([ec(e,{props:[ke(s,/:(read-\w+)/,":"+Yp+"$1")]})],i);case"::placeholder":return Sl([ec(e,{props:[ke(s,/:(plac\w+)/,":"+Pe+"input-$1")]}),ec(e,{props:[ke(s,/:(plac\w+)/,":"+Yp+"$1")]}),ec(e,{props:[ke(s,/:(plac\w+)/,ln+"input-$1")]})],i)}return""})}},T3=[I3],b3=function(e){var n=e.key;if(n==="css"){var r=document.querySelectorAll("style[data-emotion]:not([data-s])");Array.prototype.forEach.call(r,function(v){var T=v.getAttribute("data-emotion");T.indexOf(" ")!==-1&&(document.head.appendChild(v),v.setAttribute("data-s",""))})}var i=e.stylisPlugins||T3,s={},o,a=[];o=e.container||document.head,Array.prototype.forEach.call(document.querySelectorAll('style[data-emotion^="'+n+' "]'),function(v){for(var T=v.getAttribute("data-emotion").split(" "),I=1;I<T.length;I++)s[T[I]]=!0;a.push(v)});var l,u=[E3,S3];{var d,h=[m3,y3(function(v){d.insert(v)})],f=g3(u.concat(i,h)),g=function(T){return Sl(f3(T),f)};l=function(T,I,w,E){d=w,g(T?T+"{"+I.styles+"}":I.styles),E&&(_.inserted[I.name]=!0)}}var _={key:n,sheet:new ZB({key:n,container:o,nonce:e.nonce,speedy:e.speedy,prepend:e.prepend,insertionPoint:e.insertionPoint}),nonce:e.nonce,inserted:s,registered:{},insert:l};return _.sheet.hydrate(a),_},R3=!0;function A3(t,e,n){var r="";return n.split(" ").forEach(function(i){t[i]!==void 0?e.push(t[i]+";"):r+=i+" "}),r}var DC=function(e,n,r){var i=e.key+"-"+n.name;(r===!1||R3===!1)&&e.registered[i]===void 0&&(e.registered[i]=n.styles)},P3=function(e,n,r){DC(e,n,r);var i=e.key+"-"+n.name;if(e.inserted[n.name]===void 0){var s=n;do e.insert(n===s?"."+i:"",s,e.sheet,!0),s=s.next;while(s!==void 0)}};function k3(t){for(var e=0,n,r=0,i=t.length;i>=4;++r,i-=4)n=t.charCodeAt(r)&255|(t.charCodeAt(++r)&255)<<8|(t.charCodeAt(++r)&255)<<16|(t.charCodeAt(++r)&255)<<24,n=(n&65535)*1540483477+((n>>>16)*59797<<16),n^=n>>>24,e=(n&65535)*1540483477+((n>>>16)*59797<<16)^(e&65535)*1540483477+((e>>>16)*59797<<16);switch(i){case 3:e^=(t.charCodeAt(r+2)&255)<<16;case 2:e^=(t.charCodeAt(r+1)&255)<<8;case 1:e^=t.charCodeAt(r)&255,e=(e&65535)*1540483477+((e>>>16)*59797<<16)}return e^=e>>>13,e=(e&65535)*1540483477+((e>>>16)*59797<<16),((e^e>>>15)>>>0).toString(36)}var C3={animationIterationCount:1,aspectRatio:1,borderImageOutset:1,borderImageSlice:1,borderImageWidth:1,boxFlex:1,boxFlexGroup:1,boxOrdinalGroup:1,columnCount:1,columns:1,flex:1,flexGrow:1,flexPositive:1,flexShrink:1,flexNegative:1,flexOrder:1,gridRow:1,gridRowEnd:1,gridRowSpan:1,gridRowStart:1,gridColumn:1,gridColumnEnd:1,gridColumnSpan:1,gridColumnStart:1,msGridRow:1,msGridRowSpan:1,msGridColumn:1,msGridColumnSpan:1,fontWeight:1,lineHeight:1,opacity:1,order:1,orphans:1,scale:1,tabSize:1,widows:1,zIndex:1,zoom:1,WebkitLineClamp:1,fillOpacity:1,floodOpacity:1,stopOpacity:1,strokeDasharray:1,strokeDashoffset:1,strokeMiterlimit:1,strokeOpacity:1,strokeWidth:1},x3=!1,O3=/[A-Z]|^ms/g,D3=/_EMO_([^_]+?)_([^]*?)_EMO_/g,NC=function(e){return e.charCodeAt(1)===45},W1=function(e){return e!=null&&typeof e!="boolean"},r_=bC(function(t){return NC(t)?t:t.replace(O3,"-$&").toLowerCase()}),q1=function(e,n){switch(e){case"animation":case"animationName":if(typeof n=="string")return n.replace(D3,function(r,i,s){return Yr={name:i,styles:s,next:Yr},i})}return C3[e]!==1&&!NC(e)&&typeof n=="number"&&n!==0?n+"px":n},N3="Component selectors can only be used in conjunction with @emotion/babel-plugin, the swc Emotion plugin, or another Emotion-aware compiler transform.";function wd(t,e,n){if(n==null)return"";var r=n;if(r.__emotion_styles!==void 0)return r;switch(typeof n){case"boolean":return"";case"object":{var i=n;if(i.anim===1)return Yr={name:i.name,styles:i.styles,next:Yr},i.name;var s=n;if(s.styles!==void 0){var o=s.next;if(o!==void 0)for(;o!==void 0;)Yr={name:o.name,styles:o.styles,next:Yr},o=o.next;var a=s.styles+";";return a}return M3(t,e,n)}case"function":{if(t!==void 0){var l=Yr,u=n(t);return Yr=l,wd(t,e,u)}break}}var d=n;if(e==null)return d;var h=e[d];return h!==void 0?h:d}function M3(t,e,n){var r="";if(Array.isArray(n))for(var i=0;i<n.length;i++)r+=wd(t,e,n[i])+";";else for(var s in n){var o=n[s];if(typeof o!="object"){var a=o;e!=null&&e[a]!==void 0?r+=s+"{"+e[a]+"}":W1(a)&&(r+=r_(s)+":"+q1(s,a)+";")}else{if(s==="NO_COMPONENT_SELECTOR"&&x3)throw new Error(N3);if(Array.isArray(o)&&typeof o[0]=="string"&&(e==null||e[o[0]]===void 0))for(var l=0;l<o.length;l++)W1(o[l])&&(r+=r_(s)+":"+q1(s,o[l])+";");else{var u=wd(t,e,o);switch(s){case"animation":case"animationName":{r+=r_(s)+":"+u+";";break}default:r+=s+"{"+u+"}"}}}}return r}var H1=/label:\s*([^\s;\n{]+)\s*(;|$)/g,Yr;function L3(t,e,n){if(t.length===1&&typeof t[0]=="object"&&t[0]!==null&&t[0].styles!==void 0)return t[0];var r=!0,i="";Yr=void 0;var s=t[0];if(s==null||s.raw===void 0)r=!1,i+=wd(n,e,s);else{var o=s;i+=o[0]}for(var a=1;a<t.length;a++)if(i+=wd(n,e,t[a]),r){var l=s;i+=l[a]}H1.lastIndex=0;for(var u="",d;(d=H1.exec(i))!==null;)u+="-"+d[1];var h=k3(i)+u;return{name:h,styles:i,next:Yr}}var V3=function(e){return e()},F3=pp.useInsertionEffect?pp.useInsertionEffect:!1,U3=F3||V3,MC=U.createContext(typeof HTMLElement<"u"?b3({key:"css"}):null);MC.Provider;var B3=function(e){return U.forwardRef(function(n,r){var i=U.useContext(MC);return e(n,i,r)})},$3=U.createContext({}),z3=YB,j3=function(e){return e!=="theme"},G1=function(e){return typeof e=="string"&&e.charCodeAt(0)>96?z3:j3},K1=function(e,n,r){var i;if(n){var s=n.shouldForwardProp;i=e.__emotion_forwardProp&&s?function(o){return e.__emotion_forwardProp(o)&&s(o)}:s}return typeof i!="function"&&r&&(i=e.__emotion_forwardProp),i},W3=!1,q3=function(e){var n=e.cache,r=e.serialized,i=e.isStringTag;return DC(n,r,i),U3(function(){return P3(n,r,i)}),null},H3=function t(e,n){var r=e.__emotion_real===e,i=r&&e.__emotion_base||e,s,o;n!==void 0&&(s=n.label,o=n.target);var a=K1(e,n,r),l=a||G1(i),u=!l("as");return function(){var d=arguments,h=r&&e.__emotion_styles!==void 0?e.__emotion_styles.slice(0):[];if(s!==void 0&&h.push("label:"+s+";"),d[0]==null||d[0].raw===void 0)h.push.apply(h,d);else{h.push(d[0][0]);for(var f=d.length,g=1;g<f;g++)h.push(d[g],d[0][g])}var _=B3(function(v,T,I){var w=u&&v.as||i,E="",O=[],C=v;if(v.theme==null){C={};for(var N in v)C[N]=v[N];C.theme=U.useContext($3)}typeof v.className=="string"?E=A3(T.registered,O,v.className):v.className!=null&&(E=v.className+" ");var b=L3(h.concat(O),T.registered,C);E+=T.key+"-"+b.name,o!==void 0&&(E+=" "+o);var S=u&&a===void 0?G1(w):l,m={};for(var A in v)u&&A==="as"||S(A)&&(m[A]=v[A]);return m.className=E,I&&(m.ref=I),U.createElement(U.Fragment,null,U.createElement(q3,{cache:T,serialized:b,isStringTag:typeof w=="string"}),U.createElement(w,m))});return _.displayName=s!==void 0?s:"Styled("+(typeof i=="string"?i:i.displayName||i.name||"Component")+")",_.defaultProps=e.defaultProps,_.__emotion_real=_,_.__emotion_base=i,_.__emotion_styles=h,_.__emotion_forwardProp=a,Object.defineProperty(_,"toString",{value:function(){return o===void 0&&W3?"NO_COMPONENT_SELECTOR":"."+o}}),_.withComponent=function(v,T){return t(v,Vv({},n,T,{shouldForwardProp:K1(_,T,!0)})).apply(void 0,h)},_}},G3=["a","abbr","address","area","article","aside","audio","b","base","bdi","bdo","big","blockquote","body","br","button","canvas","caption","cite","code","col","colgroup","data","datalist","dd","del","details","dfn","dialog","div","dl","dt","em","embed","fieldset","figcaption","figure","footer","form","h1","h2","h3","h4","h5","h6","head","header","hgroup","hr","html","i","iframe","img","input","ins","kbd","keygen","label","legend","li","link","main","map","mark","marquee","menu","menuitem","meta","meter","nav","noscript","object","ol","optgroup","option","output","p","param","picture","pre","progress","q","rp","rt","ruby","s","samp","script","section","select","small","source","span","strong","style","sub","summary","sup","table","tbody","td","textarea","tfoot","th","thead","time","title","tr","track","u","ul","var","video","wbr","circle","clipPath","defs","ellipse","foreignObject","g","image","line","linearGradient","mask","path","pattern","polygon","polyline","radialGradient","rect","stop","svg","text","tspan"],Bv=H3.bind();G3.forEach(function(t){Bv[t]=Bv(t)});/**
 * @mui/styled-engine v6.1.0
 *
 * @license MIT
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */function K3(t,e){return Bv(t,e)}const Y3=(t,e)=>{Array.isArray(t.__emotion_styles)&&(t.__emotion_styles=e(t.__emotion_styles))},Q3=t=>{const e=Object.keys(t).map(n=>({key:n,val:t[n]}))||[];return e.sort((n,r)=>n.val-r.val),e.reduce((n,r)=>({...n,[r.key]:r.val}),{})};function J3(t){const{values:e={xs:0,sm:600,md:900,lg:1200,xl:1536},unit:n="px",step:r=5,...i}=t,s=Q3(e),o=Object.keys(s);function a(f){return`@media (min-width:${typeof e[f]=="number"?e[f]:f}${n})`}function l(f){return`@media (max-width:${(typeof e[f]=="number"?e[f]:f)-r/100}${n})`}function u(f,g){const _=o.indexOf(g);return`@media (min-width:${typeof e[f]=="number"?e[f]:f}${n}) and (max-width:${(_!==-1&&typeof e[o[_]]=="number"?e[o[_]]:g)-r/100}${n})`}function d(f){return o.indexOf(f)+1<o.length?u(f,o[o.indexOf(f)+1]):a(f)}function h(f){const g=o.indexOf(f);return g===0?a(o[1]):g===o.length-1?l(o[g]):u(f,o[o.indexOf(f)+1]).replace("@media","@media not all and")}return{keys:o,values:s,up:a,down:l,between:u,only:d,not:h,unit:n,...i}}const X3={borderRadius:4};function LC(t=8,e=Gw({spacing:t})){if(t.mui)return t;const n=(...r)=>(r.length===0?[1]:r).map(s=>{const o=e(s);return typeof o=="number"?`${o}px`:o}).join(" ");return n.mui=!0,n}function Z3(t,e){var r;const n=this;if(n.vars){if(!((r=n.colorSchemes)!=null&&r[t])||typeof n.getColorSchemeSelector!="function")return{};let i=n.getColorSchemeSelector(t);return i==="&"?e:((i.includes("data-")||i.includes("."))&&(i=`*:where(${i.replace(/\s*&$/,"")}) &`),{[i]:e})}return n.palette.mode===t?e:{}}function VC(t={},...e){const{breakpoints:n={},palette:r={},spacing:i,shape:s={},...o}=t,a=J3(n),l=LC(i);let u=Zn({breakpoints:a,direction:"ltr",components:{},palette:{mode:"light",...r},spacing:l,shape:{...X3,...s}},o);return u=sB(u),u.applyStyles=Z3,u=e.reduce((d,h)=>Zn(d,h),u),u.unstable_sxConfig={...og,...o==null?void 0:o.unstable_sxConfig},u.unstable_sx=function(h){return oh({sx:h,theme:this})},u}const e6=VC();function i_(t){return t!=="ownerState"&&t!=="theme"&&t!=="sx"&&t!=="as"}function $v(t,e,n){return r6(e)?n:e[t]||e}const yf=Symbol("mui.processed_props");function _f(t,e,n){if(yf in t)return t[yf];const r={...t,theme:$v(e,t.theme,n)};return t[yf]=r,r[yf]=r,r}function t6(t){return t?(e,n)=>n[t]:null}function Yf(t,e){var r;const n=typeof t=="function"?t(e):t;if(Array.isArray(n))return n.flatMap(i=>Yf(i,e));if(Array.isArray(n==null?void 0:n.variants)){const{variants:i,...s}=n;let o=s,a;e:for(let l=0;l<i.length;l+=1){const u=i[l];if(typeof u.props=="function"){if(a??(a={...e,...e.ownerState,ownerState:e.ownerState}),!u.props(a))continue}else for(const d in u.props)if(e[d]!==u.props[d]&&((r=e.ownerState)==null?void 0:r[d])!==u.props[d])continue e;Array.isArray(o)||(o=[o]),typeof u.style=="function"?(a??(a={...e,...e.ownerState,ownerState:e.ownerState}),o.push(u.style(a))):o.push(u.style)}return o}return n}function n6(t={}){const{themeId:e,defaultTheme:n=e6,rootShouldForwardProp:r=i_,slotShouldForwardProp:i=i_}=t,s=a=>oh(_f(a,e,n));return s.__mui_systemSx=!0,(a,l={})=>{Y3(a,N=>N.filter(b=>!(b!=null&&b.__mui_systemSx)));const{name:u,slot:d,skipVariantsResolver:h,skipSx:f,overridesResolver:g=t6(s6(d)),..._}=l,v=h!==void 0?h:d&&d!=="Root"&&d!=="root"||!1,T=f||!1;let I,w=i_;d==="Root"||d==="root"?w=r:d?w=i:i6(a)&&(w=void 0);const E=K3(a,{shouldForwardProp:w,label:I,..._}),O=N=>typeof N=="function"&&N.__emotion_real!==N||Oi(N)?b=>Yf(N,_f(b,e,n)):N,C=(N,...b)=>{let S=O(N);const m=b?b.map(O):[];u&&g&&m.push(D=>{const P=$v(e,D.theme,n);if(!P.components||!P.components[u]||!P.components[u].styleOverrides)return null;const we=P.components[u].styleOverrides,fe={},Ot=_f(D,e,n);for(const nt in we)fe[nt]=Yf(we[nt],Ot);return g(D,fe)}),u&&!v&&m.push(D=>{var fe,Ot;const P=$v(e,D.theme,n),we=(Ot=(fe=P==null?void 0:P.components)==null?void 0:fe[u])==null?void 0:Ot.variants;return we?Yf({variants:we},_f(D,e,n)):null}),T||m.push(s);const A=m.length-b.length;if(Array.isArray(N)&&A>0){const D=new Array(A).fill("");S=[...N,...D],S.raw=[...N.raw,...D]}const k=E(S,...m);return a.muiName&&(k.muiName=a.muiName),k};return E.withConfig&&(C.withConfig=E.withConfig),C}}function r6(t){for(const e in t)return!1;return!0}function i6(t){return typeof t=="string"&&t.charCodeAt(0)>96}function s6(t){return t&&t.charAt(0).toLowerCase()+t.slice(1)}function Xw(t,e=0,n=1){return yC(t,e,n)}function o6(t){t=t.slice(1);const e=new RegExp(`.{1,${t.length>=6?2:1}}`,"g");let n=t.match(e);return n&&n[0].length===1&&(n=n.map(r=>r+r)),n?`rgb${n.length===4?"a":""}(${n.map((r,i)=>i<3?parseInt(r,16):Math.round(parseInt(r,16)/255*1e3)/1e3).join(", ")})`:""}function Qs(t){if(t.type)return t;if(t.charAt(0)==="#")return Qs(o6(t));const e=t.indexOf("("),n=t.substring(0,e);if(!["rgb","rgba","hsl","hsla","color"].includes(n))throw new Error(aa(9,t));let r=t.substring(e+1,t.length-1),i;if(n==="color"){if(r=r.split(" "),i=r.shift(),r.length===4&&r[3].charAt(0)==="/"&&(r[3]=r[3].slice(1)),!["srgb","display-p3","a98-rgb","prophoto-rgb","rec-2020"].includes(i))throw new Error(aa(10,i))}else r=r.split(",");return r=r.map(s=>parseFloat(s)),{type:n,values:r,colorSpace:i}}const a6=t=>{const e=Qs(t);return e.values.slice(0,3).map((n,r)=>e.type.includes("hsl")&&r!==0?`${n}%`:n).join(" ")},wc=(t,e)=>{try{return a6(t)}catch{return t}};function cg(t){const{type:e,colorSpace:n}=t;let{values:r}=t;return e.includes("rgb")?r=r.map((i,s)=>s<3?parseInt(i,10):i):e.includes("hsl")&&(r[1]=`${r[1]}%`,r[2]=`${r[2]}%`),e.includes("color")?r=`${n} ${r.join(" ")}`:r=`${r.join(", ")}`,`${e}(${r})`}function FC(t){t=Qs(t);const{values:e}=t,n=e[0],r=e[1]/100,i=e[2]/100,s=r*Math.min(i,1-i),o=(u,d=(u+n/30)%12)=>i-s*Math.max(Math.min(d-3,9-d,1),-1);let a="rgb";const l=[Math.round(o(0)*255),Math.round(o(8)*255),Math.round(o(4)*255)];return t.type==="hsla"&&(a+="a",l.push(e[3])),cg({type:a,values:l})}function zv(t){t=Qs(t);let e=t.type==="hsl"||t.type==="hsla"?Qs(FC(t)).values:t.values;return e=e.map(n=>(t.type!=="color"&&(n/=255),n<=.03928?n/12.92:((n+.055)/1.055)**2.4)),Number((.2126*e[0]+.7152*e[1]+.0722*e[2]).toFixed(3))}function l6(t,e){const n=zv(t),r=zv(e);return(Math.max(n,r)+.05)/(Math.min(n,r)+.05)}function u6(t,e){return t=Qs(t),e=Xw(e),(t.type==="rgb"||t.type==="hsl")&&(t.type+="a"),t.type==="color"?t.values[3]=`/${e}`:t.values[3]=e,cg(t)}function vf(t,e,n){try{return u6(t,e)}catch{return t}}function Zw(t,e){if(t=Qs(t),e=Xw(e),t.type.includes("hsl"))t.values[2]*=1-e;else if(t.type.includes("rgb")||t.type.includes("color"))for(let n=0;n<3;n+=1)t.values[n]*=1-e;return cg(t)}function Fe(t,e,n){try{return Zw(t,e)}catch{return t}}function eE(t,e){if(t=Qs(t),e=Xw(e),t.type.includes("hsl"))t.values[2]+=(100-t.values[2])*e;else if(t.type.includes("rgb"))for(let n=0;n<3;n+=1)t.values[n]+=(255-t.values[n])*e;else if(t.type.includes("color"))for(let n=0;n<3;n+=1)t.values[n]+=(1-t.values[n])*e;return cg(t)}function Ue(t,e,n){try{return eE(t,e)}catch{return t}}function c6(t,e=.15){return zv(t)>.5?Zw(t,e):eE(t,e)}function wf(t,e,n){try{return c6(t,e)}catch{return t}}const d6=U.createContext(void 0);function h6(t){const{theme:e,name:n,props:r}=t;if(!e||!e.components||!e.components[n])return r;const i=e.components[n];return i.defaultProps?Lv(i.defaultProps,r):!i.styleOverrides&&!i.variants?Lv(i,r):r}function f6({props:t,name:e}){const n=U.useContext(d6);return h6({props:t,name:e,theme:{components:n}})}function p6(t=""){function e(...r){if(!r.length)return"";const i=r[0];return typeof i=="string"&&!i.match(/(#|\(|\)|(-?(\d*\.)?\d+)(px|em|%|ex|ch|rem|vw|vh|vmin|vmax|cm|mm|in|pt|pc))|^(-?(\d*\.)?\d+)$|(\d+ \d+ \d+)/)?`, var(--${t?`${t}-`:""}${i}${e(...r.slice(1))})`:`, ${i}`}return(r,...i)=>`var(--${t?`${t}-`:""}${r}${e(...i)})`}const Y1=(t,e,n,r=[])=>{let i=t;e.forEach((s,o)=>{o===e.length-1?Array.isArray(i)?i[Number(s)]=n:i&&typeof i=="object"&&(i[s]=n):i&&typeof i=="object"&&(i[s]||(i[s]=r.includes(s)?[]:{}),i=i[s])})},m6=(t,e,n)=>{function r(i,s=[],o=[]){Object.entries(i).forEach(([a,l])=>{(!n||n&&!n([...s,a]))&&l!=null&&(typeof l=="object"&&Object.keys(l).length>0?r(l,[...s,a],Array.isArray(l)?[...o,a]:o):e([...s,a],l,o))})}r(t)},g6=(t,e)=>typeof e=="number"?["lineHeight","fontWeight","opacity","zIndex"].some(r=>t.includes(r))||t[t.length-1].toLowerCase().indexOf("opacity")>=0?e:`${e}px`:e;function s_(t,e){const{prefix:n,shouldSkipGeneratingVar:r}=e||{},i={},s={},o={};return m6(t,(a,l,u)=>{if((typeof l=="string"||typeof l=="number")&&(!r||!r(a,l))){const d=`--${n?`${n}-`:""}${a.join("-")}`,h=g6(a,l);Object.assign(i,{[d]:h}),Y1(s,a,`var(${d})`,u),Y1(o,a,`var(${d}, ${h})`,u)}},a=>a[0]==="vars"),{css:i,vars:s,varsWithDefaults:o}}function y6(t,e={}){const{getSelector:n=T,disableCssColorScheme:r,colorSchemeSelector:i}=e,{colorSchemes:s={},components:o,defaultColorScheme:a="light",...l}=t,{vars:u,css:d,varsWithDefaults:h}=s_(l,e);let f=h;const g={},{[a]:_,...v}=s;if(Object.entries(v||{}).forEach(([E,O])=>{const{vars:C,css:N,varsWithDefaults:b}=s_(O,e);f=Zn(f,b),g[E]={css:N,vars:C}}),_){const{css:E,vars:O,varsWithDefaults:C}=s_(_,e);f=Zn(f,C),g[a]={css:E,vars:O}}function T(E,O){var N,b;let C=i;if(i==="class"&&(C=".%s"),i==="data"&&(C="[data-%s]"),i!=null&&i.startsWith("data-")&&!i.includes("%s")&&(C=`[${i}="%s"]`),E){if(C==="media")return t.defaultColorScheme===E?":root":{[`@media (prefers-color-scheme: ${((b=(N=s[E])==null?void 0:N.palette)==null?void 0:b.mode)||E})`]:{":root":O}};if(C)return t.defaultColorScheme===E?`:root, ${C.replace("%s",String(E))}`:C.replace("%s",String(E))}return":root"}return{vars:f,generateThemeVars:()=>{let E={...u};return Object.entries(g).forEach(([,{vars:O}])=>{E=Zn(E,O)}),E},generateStyleSheets:()=>{var S,m;const E=[],O=t.defaultColorScheme||"light";function C(A,k){Object.keys(k).length&&E.push(typeof A=="string"?{[A]:{...k}}:A)}C(n(void 0,{...d}),d);const{[O]:N,...b}=g;if(N){const{css:A}=N,k=(m=(S=s[O])==null?void 0:S.palette)==null?void 0:m.mode,D=!r&&k?{colorScheme:k,...A}:{...A};C(n(O,{...D}),D)}return Object.entries(b).forEach(([A,{css:k}])=>{var we,fe;const D=(fe=(we=s[A])==null?void 0:we.palette)==null?void 0:fe.mode,P=!r&&D?{colorScheme:D,...k}:{...k};C(n(A,{...P}),P)}),E}}}function _6(t){return function(n){return t==="media"?`@media (prefers-color-scheme: ${n})`:t?t.startsWith("data-")&&!t.includes("%s")?`[${t}="${n}"] &`:t==="class"?`.${n} &`:t==="data"?`[data-${n}] &`:`${t.replace("%s",n)} &`:"&"}}const Ed={black:"#000",white:"#fff"},v6={50:"#fafafa",100:"#f5f5f5",200:"#eeeeee",300:"#e0e0e0",400:"#bdbdbd",500:"#9e9e9e",600:"#757575",700:"#616161",800:"#424242",900:"#212121",A100:"#f5f5f5",A200:"#eeeeee",A400:"#bdbdbd",A700:"#616161"},Va={50:"#f3e5f5",100:"#e1bee7",200:"#ce93d8",300:"#ba68c8",400:"#ab47bc",500:"#9c27b0",600:"#8e24aa",700:"#7b1fa2",800:"#6a1b9a",900:"#4a148c",A100:"#ea80fc",A200:"#e040fb",A400:"#d500f9",A700:"#aa00ff"},Fa={50:"#ffebee",100:"#ffcdd2",200:"#ef9a9a",300:"#e57373",400:"#ef5350",500:"#f44336",600:"#e53935",700:"#d32f2f",800:"#c62828",900:"#b71c1c",A100:"#ff8a80",A200:"#ff5252",A400:"#ff1744",A700:"#d50000"},tc={50:"#fff3e0",100:"#ffe0b2",200:"#ffcc80",300:"#ffb74d",400:"#ffa726",500:"#ff9800",600:"#fb8c00",700:"#f57c00",800:"#ef6c00",900:"#e65100",A100:"#ffd180",A200:"#ffab40",A400:"#ff9100",A700:"#ff6d00"},Ua={50:"#e3f2fd",100:"#bbdefb",200:"#90caf9",300:"#64b5f6",400:"#42a5f5",500:"#2196f3",600:"#1e88e5",700:"#1976d2",800:"#1565c0",900:"#0d47a1",A100:"#82b1ff",A200:"#448aff",A400:"#2979ff",A700:"#2962ff"},Ba={50:"#e1f5fe",100:"#b3e5fc",200:"#81d4fa",300:"#4fc3f7",400:"#29b6f6",500:"#03a9f4",600:"#039be5",700:"#0288d1",800:"#0277bd",900:"#01579b",A100:"#80d8ff",A200:"#40c4ff",A400:"#00b0ff",A700:"#0091ea"},$a={50:"#e8f5e9",100:"#c8e6c9",200:"#a5d6a7",300:"#81c784",400:"#66bb6a",500:"#4caf50",600:"#43a047",700:"#388e3c",800:"#2e7d32",900:"#1b5e20",A100:"#b9f6ca",A200:"#69f0ae",A400:"#00e676",A700:"#00c853"},Q1={text:{primary:"rgba(0, 0, 0, 0.87)",secondary:"rgba(0, 0, 0, 0.6)",disabled:"rgba(0, 0, 0, 0.38)"},divider:"rgba(0, 0, 0, 0.12)",background:{paper:Ed.white,default:Ed.white},action:{active:"rgba(0, 0, 0, 0.54)",hover:"rgba(0, 0, 0, 0.04)",hoverOpacity:.04,selected:"rgba(0, 0, 0, 0.08)",selectedOpacity:.08,disabled:"rgba(0, 0, 0, 0.26)",disabledBackground:"rgba(0, 0, 0, 0.12)",disabledOpacity:.38,focus:"rgba(0, 0, 0, 0.12)",focusOpacity:.12,activatedOpacity:.12}},o_={text:{primary:Ed.white,secondary:"rgba(255, 255, 255, 0.7)",disabled:"rgba(255, 255, 255, 0.5)",icon:"rgba(255, 255, 255, 0.5)"},divider:"rgba(255, 255, 255, 0.12)",background:{paper:"#121212",default:"#121212"},action:{active:Ed.white,hover:"rgba(255, 255, 255, 0.08)",hoverOpacity:.08,selected:"rgba(255, 255, 255, 0.16)",selectedOpacity:.16,disabled:"rgba(255, 255, 255, 0.3)",disabledBackground:"rgba(255, 255, 255, 0.12)",disabledOpacity:.38,focus:"rgba(255, 255, 255, 0.12)",focusOpacity:.12,activatedOpacity:.24}};function J1(t,e,n,r){const i=r.light||r,s=r.dark||r*1.5;t[e]||(t.hasOwnProperty(n)?t[e]=t[n]:e==="light"?t.light=eE(t.main,i):e==="dark"&&(t.dark=Zw(t.main,s)))}function w6(t="light"){return t==="dark"?{main:Ua[200],light:Ua[50],dark:Ua[400]}:{main:Ua[700],light:Ua[400],dark:Ua[800]}}function E6(t="light"){return t==="dark"?{main:Va[200],light:Va[50],dark:Va[400]}:{main:Va[500],light:Va[300],dark:Va[700]}}function S6(t="light"){return t==="dark"?{main:Fa[500],light:Fa[300],dark:Fa[700]}:{main:Fa[700],light:Fa[400],dark:Fa[800]}}function I6(t="light"){return t==="dark"?{main:Ba[400],light:Ba[300],dark:Ba[700]}:{main:Ba[700],light:Ba[500],dark:Ba[900]}}function T6(t="light"){return t==="dark"?{main:$a[400],light:$a[300],dark:$a[700]}:{main:$a[800],light:$a[500],dark:$a[900]}}function b6(t="light"){return t==="dark"?{main:tc[400],light:tc[300],dark:tc[700]}:{main:"#ed6c02",light:tc[500],dark:tc[900]}}function tE(t){const{mode:e="light",contrastThreshold:n=3,tonalOffset:r=.2,...i}=t,s=t.primary||w6(e),o=t.secondary||E6(e),a=t.error||S6(e),l=t.info||I6(e),u=t.success||T6(e),d=t.warning||b6(e);function h(v){return l6(v,o_.text.primary)>=n?o_.text.primary:Q1.text.primary}const f=({color:v,name:T,mainShade:I=500,lightShade:w=300,darkShade:E=700})=>{if(v={...v},!v.main&&v[I]&&(v.main=v[I]),!v.hasOwnProperty("main"))throw new Error(aa(11,T?` (${T})`:"",I));if(typeof v.main!="string")throw new Error(aa(12,T?` (${T})`:"",JSON.stringify(v.main)));return J1(v,"light",w,r),J1(v,"dark",E,r),v.contrastText||(v.contrastText=h(v.main)),v},g={dark:o_,light:Q1};return Zn({common:{...Ed},mode:e,primary:f({color:s,name:"primary"}),secondary:f({color:o,name:"secondary",mainShade:"A400",lightShade:"A200",darkShade:"A700"}),error:f({color:a,name:"error"}),warning:f({color:d,name:"warning"}),info:f({color:l,name:"info"}),success:f({color:u,name:"success"}),grey:v6,contrastThreshold:n,getContrastText:h,augmentColor:f,tonalOffset:r,...g[e]},i)}function R6(t){const e={};return Object.entries(t).forEach(r=>{const[i,s]=r;typeof s=="object"&&(e[i]=`${s.fontStyle?`${s.fontStyle} `:""}${s.fontVariant?`${s.fontVariant} `:""}${s.fontWeight?`${s.fontWeight} `:""}${s.fontStretch?`${s.fontStretch} `:""}${s.fontSize||""}${s.lineHeight?`/${s.lineHeight} `:""}${s.fontFamily||""}`)}),e}function A6(t,e){return{toolbar:{minHeight:56,[t.up("xs")]:{"@media (orientation: landscape)":{minHeight:48}},[t.up("sm")]:{minHeight:64}},...e}}function P6(t){return Math.round(t*1e5)/1e5}const X1={textTransform:"uppercase"},Z1='"Roboto", "Helvetica", "Arial", sans-serif';function k6(t,e){const{fontFamily:n=Z1,fontSize:r=14,fontWeightLight:i=300,fontWeightRegular:s=400,fontWeightMedium:o=500,fontWeightBold:a=700,htmlFontSize:l=16,allVariants:u,pxToRem:d,...h}=typeof e=="function"?e(t):e,f=r/14,g=d||(T=>`${T/l*f}rem`),_=(T,I,w,E,O)=>({fontFamily:n,fontWeight:T,fontSize:g(I),lineHeight:w,...n===Z1?{letterSpacing:`${P6(E/I)}em`}:{},...O,...u}),v={h1:_(i,96,1.167,-1.5),h2:_(i,60,1.2,-.5),h3:_(s,48,1.167,0),h4:_(s,34,1.235,.25),h5:_(s,24,1.334,0),h6:_(o,20,1.6,.15),subtitle1:_(s,16,1.75,.15),subtitle2:_(o,14,1.57,.1),body1:_(s,16,1.5,.15),body2:_(s,14,1.43,.15),button:_(o,14,1.75,.4,X1),caption:_(s,12,1.66,.4),overline:_(s,12,2.66,1,X1),inherit:{fontFamily:"inherit",fontWeight:"inherit",fontSize:"inherit",lineHeight:"inherit",letterSpacing:"inherit"}};return Zn({htmlFontSize:l,pxToRem:g,fontFamily:n,fontSize:r,fontWeightLight:i,fontWeightRegular:s,fontWeightMedium:o,fontWeightBold:a,...v},h,{clone:!1})}const C6=.2,x6=.14,O6=.12;function Ye(...t){return[`${t[0]}px ${t[1]}px ${t[2]}px ${t[3]}px rgba(0,0,0,${C6})`,`${t[4]}px ${t[5]}px ${t[6]}px ${t[7]}px rgba(0,0,0,${x6})`,`${t[8]}px ${t[9]}px ${t[10]}px ${t[11]}px rgba(0,0,0,${O6})`].join(",")}const D6=["none",Ye(0,2,1,-1,0,1,1,0,0,1,3,0),Ye(0,3,1,-2,0,2,2,0,0,1,5,0),Ye(0,3,3,-2,0,3,4,0,0,1,8,0),Ye(0,2,4,-1,0,4,5,0,0,1,10,0),Ye(0,3,5,-1,0,5,8,0,0,1,14,0),Ye(0,3,5,-1,0,6,10,0,0,1,18,0),Ye(0,4,5,-2,0,7,10,1,0,2,16,1),Ye(0,5,5,-3,0,8,10,1,0,3,14,2),Ye(0,5,6,-3,0,9,12,1,0,3,16,2),Ye(0,6,6,-3,0,10,14,1,0,4,18,3),Ye(0,6,7,-4,0,11,15,1,0,4,20,3),Ye(0,7,8,-4,0,12,17,2,0,5,22,4),Ye(0,7,8,-4,0,13,19,2,0,5,24,4),Ye(0,7,9,-4,0,14,21,2,0,5,26,4),Ye(0,8,9,-5,0,15,22,2,0,6,28,5),Ye(0,8,10,-5,0,16,24,2,0,6,30,5),Ye(0,8,11,-5,0,17,26,2,0,6,32,5),Ye(0,9,11,-5,0,18,28,2,0,7,34,6),Ye(0,9,12,-6,0,19,29,2,0,7,36,6),Ye(0,10,13,-6,0,20,31,3,0,8,38,7),Ye(0,10,13,-6,0,21,33,3,0,8,40,7),Ye(0,10,14,-6,0,22,35,3,0,8,42,7),Ye(0,11,14,-7,0,23,36,3,0,9,44,8),Ye(0,11,15,-7,0,24,38,3,0,9,46,8)],N6={easeInOut:"cubic-bezier(0.4, 0, 0.2, 1)",easeOut:"cubic-bezier(0.0, 0, 0.2, 1)",easeIn:"cubic-bezier(0.4, 0, 1, 1)",sharp:"cubic-bezier(0.4, 0, 0.6, 1)"},M6={shortest:150,shorter:200,short:250,standard:300,complex:375,enteringScreen:225,leavingScreen:195};function eb(t){return`${Math.round(t)}ms`}function L6(t){if(!t)return 0;const e=t/36;return Math.min(Math.round((4+15*e**.25+e/5)*10),3e3)}function V6(t){const e={...N6,...t.easing},n={...M6,...t.duration};return{getAutoHeightDuration:L6,create:(i=["all"],s={})=>{const{duration:o=n.standard,easing:a=e.easeInOut,delay:l=0,...u}=s;return(Array.isArray(i)?i:[i]).map(d=>`${d} ${typeof o=="string"?o:eb(o)} ${a} ${typeof l=="string"?l:eb(l)}`).join(",")},...t,easing:e,duration:n}}const F6={mobileStepper:1e3,fab:1050,speedDial:1050,appBar:1100,drawer:1200,modal:1300,snackbar:1400,tooltip:1500};function jv(t={},...e){const{breakpoints:n,mixins:r={},spacing:i,palette:s={},transitions:o={},typography:a={},shape:l,...u}=t;if(t.vars)throw new Error(aa(20));const d=tE(s),h=VC(t);let f=Zn(h,{mixins:A6(h.breakpoints,r),palette:d,shadows:D6.slice(),typography:k6(d,a),transitions:V6(o),zIndex:{...F6}});return f=Zn(f,u),f=e.reduce((g,_)=>Zn(g,_),f),f.unstable_sxConfig={...og,...u==null?void 0:u.unstable_sxConfig},f.unstable_sx=function(_){return oh({sx:_,theme:this})},f}function U6(t){let e;return t<1?e=5.11916*t**2:e=4.5*Math.log(t+1)+2,Math.round(e*10)/1e3}const B6=[...Array(25)].map((t,e)=>{if(e===0)return;const n=U6(e);return`linear-gradient(rgba(255 255 255 / ${n}), rgba(255 255 255 / ${n}))`});function UC(t){return{inputPlaceholder:t==="dark"?.5:.42,inputUnderline:t==="dark"?.7:.42,switchTrackDisabled:t==="dark"?.2:.12,switchTrack:t==="dark"?.3:.38}}function BC(t){return t==="dark"?B6:[]}function $6(t){const{palette:e={mode:"light"},opacity:n,overlays:r,...i}=t,s=tE(e);return{palette:s,opacity:{...UC(s.mode),...n},overlays:r||BC(s.mode),...i}}function z6(t){var e;return!!t[0].match(/(cssVarPrefix|colorSchemeSelector|typography|mixins|breakpoints|direction|transitions)/)||!!t[0].match(/sxConfig$/)||t[0]==="palette"&&!!((e=t[1])!=null&&e.match(/(mode|contrastThreshold|tonalOffset)/))}const j6=t=>[...[...Array(24)].map((e,n)=>`--${t?`${t}-`:""}overlays-${n+1}`),`--${t?`${t}-`:""}palette-AppBar-darkBg`,`--${t?`${t}-`:""}palette-AppBar-darkColor`],W6=t=>(e,n)=>{const r=t.colorSchemeSelector;let i=r;if(r==="class"&&(i=".%s"),r==="data"&&(i="[data-%s]"),r!=null&&r.startsWith("data-")&&!r.includes("%s")&&(i=`[${r}="%s"]`),t.defaultColorScheme===e){if(e==="dark"){const s={};return j6(t.cssVarPrefix).forEach(o=>{s[o]=n[o],delete n[o]}),i==="media"?{":root":n,"@media (prefers-color-scheme: dark)":{":root":s}}:i?{[i.replace("%s",e)]:s,[`:root, ${i.replace("%s",e)}`]:n}:{":root":{...n,...s}}}if(i&&i!=="media")return`:root, ${i.replace("%s",String(e))}`}else if(e){if(i==="media")return{[`@media (prefers-color-scheme: ${String(e)})`]:{":root":n}};if(i)return i.replace("%s",String(e))}return":root"};function q6(t){return Oi(t)||typeof t>"u"||typeof t=="string"||typeof t=="boolean"||typeof t=="number"||Array.isArray(t)}function H6(t={}){const e={...t};function n(r){const i=Object.entries(r);for(let s=0;s<i.length;s++){const[o,a]=i[s];!q6(a)||o.startsWith("unstable_")?delete r[o]:Oi(a)&&(r[o]={...a},n(r[o]))}}return n(e),`import { unstable_createBreakpoints as createBreakpoints, createTransitions } from '@mui/material/styles';

const theme = ${JSON.stringify(e,null,2)};

theme.breakpoints = createBreakpoints(theme.breakpoints || {});
theme.transitions = createTransitions(theme.transitions || {});

export default theme;`}function G6(t,e){e.forEach(n=>{t[n]||(t[n]={})})}function $(t,e,n){!t[e]&&n&&(t[e]=n)}function Ec(t){return!t||!t.startsWith("hsl")?t:FC(t)}function Ii(t,e){`${e}Channel`in t||(t[`${e}Channel`]=wc(Ec(t[e]),`MUI: Can't create \`palette.${e}Channel\` because \`palette.${e}\` is not one of these formats: #nnn, #nnnnnn, rgb(), rgba(), hsl(), hsla(), color().
To suppress this warning, you need to explicitly provide the \`palette.${e}Channel\` as a string (in rgb format, for example "12 12 12") or undefined if you want to remove the channel token.`))}function K6(t){return typeof t=="number"?`${t}px`:typeof t=="string"||typeof t=="function"||Array.isArray(t)?t:"8px"}const qr=t=>{try{return t()}catch{}},Y6=(t="mui")=>p6(t);function a_(t,e,n,r){if(!e)return;e=e===!0?{}:e;const i=r==="dark"?"dark":"light";if(!n){t[r]=$6({...e,palette:{mode:i,...e==null?void 0:e.palette}});return}const{palette:s,...o}=jv({...n,palette:{mode:i,...e==null?void 0:e.palette}});return t[r]={...e,palette:s,opacity:{...UC(i),...e==null?void 0:e.opacity},overlays:(e==null?void 0:e.overlays)||BC(i)},o}function Q6(t={},...e){const{colorSchemes:n={light:!0},defaultColorScheme:r,disableCssColorScheme:i=!1,cssVarPrefix:s="mui",shouldSkipGeneratingVar:o=z6,colorSchemeSelector:a=n.light&&n.dark?"media":void 0,...l}=t,u=Object.keys(n)[0],d=r||(n.light&&u!=="light"?"light":u),h=Y6(s),{[d]:f,light:g,dark:_,...v}=n,T={...v};let I=f;if((d==="dark"&&!("dark"in n)||d==="light"&&!("light"in n))&&(I=!0),!I)throw new Error(aa(21,d));const w=a_(T,I,l,d);g&&!T.light&&a_(T,g,void 0,"light"),_&&!T.dark&&a_(T,_,void 0,"dark");let E={defaultColorScheme:d,...w,cssVarPrefix:s,colorSchemeSelector:a,getCssVar:h,colorSchemes:T,font:{...R6(w.typography),...w.font},spacing:K6(l.spacing)};Object.keys(E.colorSchemes).forEach(S=>{const m=E.colorSchemes[S].palette,A=k=>{const D=k.split("-"),P=D[1],we=D[2];return h(k,m[P][we])};if(m.mode==="light"&&($(m.common,"background","#fff"),$(m.common,"onBackground","#000")),m.mode==="dark"&&($(m.common,"background","#000"),$(m.common,"onBackground","#fff")),G6(m,["Alert","AppBar","Avatar","Button","Chip","FilledInput","LinearProgress","Skeleton","Slider","SnackbarContent","SpeedDialAction","StepConnector","StepContent","Switch","TableCell","Tooltip"]),m.mode==="light"){$(m.Alert,"errorColor",Fe(m.error.light,.6)),$(m.Alert,"infoColor",Fe(m.info.light,.6)),$(m.Alert,"successColor",Fe(m.success.light,.6)),$(m.Alert,"warningColor",Fe(m.warning.light,.6)),$(m.Alert,"errorFilledBg",A("palette-error-main")),$(m.Alert,"infoFilledBg",A("palette-info-main")),$(m.Alert,"successFilledBg",A("palette-success-main")),$(m.Alert,"warningFilledBg",A("palette-warning-main")),$(m.Alert,"errorFilledColor",qr(()=>m.getContrastText(m.error.main))),$(m.Alert,"infoFilledColor",qr(()=>m.getContrastText(m.info.main))),$(m.Alert,"successFilledColor",qr(()=>m.getContrastText(m.success.main))),$(m.Alert,"warningFilledColor",qr(()=>m.getContrastText(m.warning.main))),$(m.Alert,"errorStandardBg",Ue(m.error.light,.9)),$(m.Alert,"infoStandardBg",Ue(m.info.light,.9)),$(m.Alert,"successStandardBg",Ue(m.success.light,.9)),$(m.Alert,"warningStandardBg",Ue(m.warning.light,.9)),$(m.Alert,"errorIconColor",A("palette-error-main")),$(m.Alert,"infoIconColor",A("palette-info-main")),$(m.Alert,"successIconColor",A("palette-success-main")),$(m.Alert,"warningIconColor",A("palette-warning-main")),$(m.AppBar,"defaultBg",A("palette-grey-100")),$(m.Avatar,"defaultBg",A("palette-grey-400")),$(m.Button,"inheritContainedBg",A("palette-grey-300")),$(m.Button,"inheritContainedHoverBg",A("palette-grey-A100")),$(m.Chip,"defaultBorder",A("palette-grey-400")),$(m.Chip,"defaultAvatarColor",A("palette-grey-700")),$(m.Chip,"defaultIconColor",A("palette-grey-700")),$(m.FilledInput,"bg","rgba(0, 0, 0, 0.06)"),$(m.FilledInput,"hoverBg","rgba(0, 0, 0, 0.09)"),$(m.FilledInput,"disabledBg","rgba(0, 0, 0, 0.12)"),$(m.LinearProgress,"primaryBg",Ue(m.primary.main,.62)),$(m.LinearProgress,"secondaryBg",Ue(m.secondary.main,.62)),$(m.LinearProgress,"errorBg",Ue(m.error.main,.62)),$(m.LinearProgress,"infoBg",Ue(m.info.main,.62)),$(m.LinearProgress,"successBg",Ue(m.success.main,.62)),$(m.LinearProgress,"warningBg",Ue(m.warning.main,.62)),$(m.Skeleton,"bg",`rgba(${A("palette-text-primaryChannel")} / 0.11)`),$(m.Slider,"primaryTrack",Ue(m.primary.main,.62)),$(m.Slider,"secondaryTrack",Ue(m.secondary.main,.62)),$(m.Slider,"errorTrack",Ue(m.error.main,.62)),$(m.Slider,"infoTrack",Ue(m.info.main,.62)),$(m.Slider,"successTrack",Ue(m.success.main,.62)),$(m.Slider,"warningTrack",Ue(m.warning.main,.62));const k=wf(m.background.default,.8);$(m.SnackbarContent,"bg",k),$(m.SnackbarContent,"color",qr(()=>m.getContrastText(k))),$(m.SpeedDialAction,"fabHoverBg",wf(m.background.paper,.15)),$(m.StepConnector,"border",A("palette-grey-400")),$(m.StepContent,"border",A("palette-grey-400")),$(m.Switch,"defaultColor",A("palette-common-white")),$(m.Switch,"defaultDisabledColor",A("palette-grey-100")),$(m.Switch,"primaryDisabledColor",Ue(m.primary.main,.62)),$(m.Switch,"secondaryDisabledColor",Ue(m.secondary.main,.62)),$(m.Switch,"errorDisabledColor",Ue(m.error.main,.62)),$(m.Switch,"infoDisabledColor",Ue(m.info.main,.62)),$(m.Switch,"successDisabledColor",Ue(m.success.main,.62)),$(m.Switch,"warningDisabledColor",Ue(m.warning.main,.62)),$(m.TableCell,"border",Ue(vf(m.divider,1),.88)),$(m.Tooltip,"bg",vf(m.grey[700],.92))}if(m.mode==="dark"){$(m.Alert,"errorColor",Ue(m.error.light,.6)),$(m.Alert,"infoColor",Ue(m.info.light,.6)),$(m.Alert,"successColor",Ue(m.success.light,.6)),$(m.Alert,"warningColor",Ue(m.warning.light,.6)),$(m.Alert,"errorFilledBg",A("palette-error-dark")),$(m.Alert,"infoFilledBg",A("palette-info-dark")),$(m.Alert,"successFilledBg",A("palette-success-dark")),$(m.Alert,"warningFilledBg",A("palette-warning-dark")),$(m.Alert,"errorFilledColor",qr(()=>m.getContrastText(m.error.dark))),$(m.Alert,"infoFilledColor",qr(()=>m.getContrastText(m.info.dark))),$(m.Alert,"successFilledColor",qr(()=>m.getContrastText(m.success.dark))),$(m.Alert,"warningFilledColor",qr(()=>m.getContrastText(m.warning.dark))),$(m.Alert,"errorStandardBg",Fe(m.error.light,.9)),$(m.Alert,"infoStandardBg",Fe(m.info.light,.9)),$(m.Alert,"successStandardBg",Fe(m.success.light,.9)),$(m.Alert,"warningStandardBg",Fe(m.warning.light,.9)),$(m.Alert,"errorIconColor",A("palette-error-main")),$(m.Alert,"infoIconColor",A("palette-info-main")),$(m.Alert,"successIconColor",A("palette-success-main")),$(m.Alert,"warningIconColor",A("palette-warning-main")),$(m.AppBar,"defaultBg",A("palette-grey-900")),$(m.AppBar,"darkBg",A("palette-background-paper")),$(m.AppBar,"darkColor",A("palette-text-primary")),$(m.Avatar,"defaultBg",A("palette-grey-600")),$(m.Button,"inheritContainedBg",A("palette-grey-800")),$(m.Button,"inheritContainedHoverBg",A("palette-grey-700")),$(m.Chip,"defaultBorder",A("palette-grey-700")),$(m.Chip,"defaultAvatarColor",A("palette-grey-300")),$(m.Chip,"defaultIconColor",A("palette-grey-300")),$(m.FilledInput,"bg","rgba(255, 255, 255, 0.09)"),$(m.FilledInput,"hoverBg","rgba(255, 255, 255, 0.13)"),$(m.FilledInput,"disabledBg","rgba(255, 255, 255, 0.12)"),$(m.LinearProgress,"primaryBg",Fe(m.primary.main,.5)),$(m.LinearProgress,"secondaryBg",Fe(m.secondary.main,.5)),$(m.LinearProgress,"errorBg",Fe(m.error.main,.5)),$(m.LinearProgress,"infoBg",Fe(m.info.main,.5)),$(m.LinearProgress,"successBg",Fe(m.success.main,.5)),$(m.LinearProgress,"warningBg",Fe(m.warning.main,.5)),$(m.Skeleton,"bg",`rgba(${A("palette-text-primaryChannel")} / 0.13)`),$(m.Slider,"primaryTrack",Fe(m.primary.main,.5)),$(m.Slider,"secondaryTrack",Fe(m.secondary.main,.5)),$(m.Slider,"errorTrack",Fe(m.error.main,.5)),$(m.Slider,"infoTrack",Fe(m.info.main,.5)),$(m.Slider,"successTrack",Fe(m.success.main,.5)),$(m.Slider,"warningTrack",Fe(m.warning.main,.5));const k=wf(m.background.default,.98);$(m.SnackbarContent,"bg",k),$(m.SnackbarContent,"color",qr(()=>m.getContrastText(k))),$(m.SpeedDialAction,"fabHoverBg",wf(m.background.paper,.15)),$(m.StepConnector,"border",A("palette-grey-600")),$(m.StepContent,"border",A("palette-grey-600")),$(m.Switch,"defaultColor",A("palette-grey-300")),$(m.Switch,"defaultDisabledColor",A("palette-grey-600")),$(m.Switch,"primaryDisabledColor",Fe(m.primary.main,.55)),$(m.Switch,"secondaryDisabledColor",Fe(m.secondary.main,.55)),$(m.Switch,"errorDisabledColor",Fe(m.error.main,.55)),$(m.Switch,"infoDisabledColor",Fe(m.info.main,.55)),$(m.Switch,"successDisabledColor",Fe(m.success.main,.55)),$(m.Switch,"warningDisabledColor",Fe(m.warning.main,.55)),$(m.TableCell,"border",Fe(vf(m.divider,1),.68)),$(m.Tooltip,"bg",vf(m.grey[700],.92))}Ii(m.background,"default"),Ii(m.background,"paper"),Ii(m.common,"background"),Ii(m.common,"onBackground"),Ii(m,"divider"),Object.keys(m).forEach(k=>{const D=m[k];D&&typeof D=="object"&&(D.main&&$(m[k],"mainChannel",wc(Ec(D.main))),D.light&&$(m[k],"lightChannel",wc(Ec(D.light))),D.dark&&$(m[k],"darkChannel",wc(Ec(D.dark))),D.contrastText&&$(m[k],"contrastTextChannel",wc(Ec(D.contrastText))),k==="text"&&(Ii(m[k],"primary"),Ii(m[k],"secondary")),k==="action"&&(D.active&&Ii(m[k],"active"),D.selected&&Ii(m[k],"selected")))})}),E=e.reduce((S,m)=>Zn(S,m),E);const O={prefix:s,disableCssColorScheme:i,shouldSkipGeneratingVar:o,getSelector:W6(E)},{vars:C,generateThemeVars:N,generateStyleSheets:b}=y6(E,O);return E.vars=C,Object.entries(E.colorSchemes[E.defaultColorScheme]).forEach(([S,m])=>{E[S]=m}),E.generateThemeVars=N,E.generateStyleSheets=b,E.generateSpacing=function(){return LC(l.spacing,Gw(this))},E.getColorSchemeSelector=_6(a),E.spacing=E.generateSpacing(),E.shouldSkipGeneratingVar=o,E.unstable_sxConfig={...og,...l==null?void 0:l.unstable_sxConfig},E.unstable_sx=function(m){return oh({sx:m,theme:this})},E.toRuntimeSource=H6,E}function tb(t,e,n){t.colorSchemes&&n&&(t.colorSchemes[e]={...n!==!0&&n,palette:tE({...n===!0?{}:n.palette,mode:e})})}function J6(t={},...e){const{palette:n,cssVariables:r=!1,colorSchemes:i=n?void 0:{light:!0},defaultColorScheme:s=n==null?void 0:n.mode,...o}=t,a=s||"light",l=i==null?void 0:i[a],u={...i,...n?{[a]:{...typeof l!="boolean"&&l,palette:n}}:void 0};if(r===!1){if(!("colorSchemes"in t))return jv(t,...e);let d=n;"palette"in t||u[a]&&(u[a]!==!0?d=u[a].palette:a==="dark"&&(d={mode:"dark"}));const h=jv({...t,palette:d},...e);return h.defaultColorScheme=a,h.colorSchemes=u,h.palette.mode==="light"&&(h.colorSchemes.light={...u.light!==!0&&u.light,palette:h.palette},tb(h,"dark",u.dark)),h.palette.mode==="dark"&&(h.colorSchemes.dark={...u.dark!==!0&&u.dark,palette:h.palette},tb(h,"light",u.light)),h}return!n&&!("light"in u)&&a==="light"&&(u.light=!0),Q6({...o,colorSchemes:u,defaultColorScheme:a,...typeof r!="boolean"&&r},...e)}const X6=J6(),Z6="$$material";function $C(t){return t!=="ownerState"&&t!=="theme"&&t!=="sx"&&t!=="as"}const e$=t=>$C(t)&&t!=="classes",lh=n6({themeId:Z6,defaultTheme:X6,rootShouldForwardProp:e$}),nb={theme:void 0};function nE(t){let e,n;return r=>{let i=e;return(i===void 0||r.theme!==n)&&(nb.theme=r.theme,i=t(nb),e=i,n=r.theme),i}}function zC(t){return f6(t)}function t$(t){return Ww("MuiSvgIcon",t)}IC("MuiSvgIcon",["root","colorPrimary","colorSecondary","colorAction","colorError","colorDisabled","fontSizeInherit","fontSizeSmall","fontSizeMedium","fontSizeLarge"]);const n$=t=>{const{color:e,fontSize:n,classes:r}=t,i={root:["root",e!=="inherit"&&`color${Ys(e)}`,`fontSize${Ys(n)}`]};return _C(i,t$,r)},r$=lh("svg",{name:"MuiSvgIcon",slot:"Root",overridesResolver:(t,e)=>{const{ownerState:n}=t;return[e.root,n.color!=="inherit"&&e[`color${Ys(n.color)}`],e[`fontSize${Ys(n.fontSize)}`]]}})(nE(({theme:t})=>{var e,n,r,i,s,o,a,l,u,d,h,f,g,_;return{userSelect:"none",width:"1em",height:"1em",display:"inline-block",flexShrink:0,transition:(i=(e=t.transitions)==null?void 0:e.create)==null?void 0:i.call(e,"fill",{duration:(r=(n=(t.vars??t).transitions)==null?void 0:n.duration)==null?void 0:r.shorter}),variants:[{props:v=>!v.hasSvgAsChild,style:{fill:"currentColor"}},{props:{fontSize:"inherit"},style:{fontSize:"inherit"}},{props:{fontSize:"small"},style:{fontSize:((o=(s=t.typography)==null?void 0:s.pxToRem)==null?void 0:o.call(s,20))||"1.25rem"}},{props:{fontSize:"medium"},style:{fontSize:((l=(a=t.typography)==null?void 0:a.pxToRem)==null?void 0:l.call(a,24))||"1.5rem"}},{props:{fontSize:"large"},style:{fontSize:((d=(u=t.typography)==null?void 0:u.pxToRem)==null?void 0:d.call(u,35))||"2.1875rem"}},...Object.entries((t.vars??t).palette).filter(([,v])=>v&&v.main).map(([v])=>{var T,I;return{props:{color:v},style:{color:(I=(T=(t.vars??t).palette)==null?void 0:T[v])==null?void 0:I.main}}}),{props:{color:"action"},style:{color:(f=(h=(t.vars??t).palette)==null?void 0:h.action)==null?void 0:f.active}},{props:{color:"disabled"},style:{color:(_=(g=(t.vars??t).palette)==null?void 0:g.action)==null?void 0:_.disabled}},{props:{color:"inherit"},style:{color:void 0}}]}})),Qp=U.forwardRef(function(e,n){const r=zC({props:e,name:"MuiSvgIcon"}),{children:i,className:s,color:o="inherit",component:a="svg",fontSize:l="medium",htmlColor:u,inheritViewBox:d=!1,titleAccess:h,viewBox:f="0 0 24 24",...g}=r,_=U.isValidElement(i)&&i.type==="svg",v={...r,color:o,component:a,fontSize:l,instanceFontSize:e.fontSize,inheritViewBox:d,viewBox:f,hasSvgAsChild:_},T={};d||(T.viewBox=f);const I=n$(v);return Et.jsxs(r$,{as:a,className:Bc(I.root,s),focusable:"false",color:u,"aria-hidden":h?void 0:!0,role:h?"img":void 0,ref:n,...T,...g,..._&&i.props,ownerState:v,children:[_?i.props.children:i,h?Et.jsx("title",{children:h}):null]})});Qp&&(Qp.muiName="SvgIcon");function jC(t,e){function n(r,i){return Et.jsx(Qp,{"data-testid":`${e}Icon`,ref:i,...r,children:t})}return n.muiName=Qp.muiName,U.memo(U.forwardRef(n))}const i$=jC(Et.jsx("path",{d:"M12 17.27L18.18 21l-1.64-7.03L22 9.24l-7.19-.61L12 2 9.19 8.63 2 9.24l5.46 4.73L5.82 21z"}),"Star"),s$=jC(Et.jsx("path",{d:"M22 9.24l-7.19-.62L12 2 9.19 8.63 2 9.24l5.46 4.73L5.82 21 12 17.27 18.18 21l-1.63-7.03L22 9.24zM12 15.4l-3.76 2.27 1-4.28-3.32-2.88 4.38-.38L12 6.1l1.71 4.04 4.38.38-3.32 2.88 1 4.28L12 15.4z"}),"StarBorder");function o$(t){return Ww("MuiRating",t)}const nc=IC("MuiRating",["root","sizeSmall","sizeMedium","sizeLarge","readOnly","disabled","focusVisible","visuallyHidden","pristine","label","labelEmptyValueActive","icon","iconEmpty","iconFilled","iconHover","iconFocus","iconActive","decimal"]);function a$(t){const e=t.toString().split(".")[1];return e?e.length:0}function l_(t,e){if(t==null)return t;const n=Math.round(t/e)*e;return Number(n.toFixed(a$(e)))}const l$=t=>{const{classes:e,size:n,readOnly:r,disabled:i,emptyValueFocused:s,focusVisible:o}=t,a={root:["root",`size${Ys(n)}`,i&&"disabled",o&&"focusVisible",r&&"readOnly"],label:["label","pristine"],labelEmptyValue:[s&&"labelEmptyValueActive"],icon:["icon"],iconEmpty:["iconEmpty"],iconFilled:["iconFilled"],iconHover:["iconHover"],iconFocus:["iconFocus"],iconActive:["iconActive"],decimal:["decimal"],visuallyHidden:["visuallyHidden"]};return _C(a,o$,e)},u$=lh("span",{name:"MuiRating",slot:"Root",overridesResolver:(t,e)=>{const{ownerState:n}=t;return[{[`& .${nc.visuallyHidden}`]:e.visuallyHidden},e.root,e[`size${Ys(n.size)}`],n.readOnly&&e.readOnly]}})(nE(({theme:t})=>({display:"inline-flex",position:"relative",fontSize:t.typography.pxToRem(24),color:"#faaf00",cursor:"pointer",textAlign:"left",width:"min-content",WebkitTapHighlightColor:"transparent",[`&.${nc.disabled}`]:{opacity:(t.vars||t).palette.action.disabledOpacity,pointerEvents:"none"},[`&.${nc.focusVisible} .${nc.iconActive}`]:{outline:"1px solid #999"},[`& .${nc.visuallyHidden}`]:B5,variants:[{props:{size:"small"},style:{fontSize:t.typography.pxToRem(18)}},{props:{size:"large"},style:{fontSize:t.typography.pxToRem(30)}},{props:({ownerState:e})=>e.readOnly,style:{pointerEvents:"none"}}]}))),WC=lh("label",{name:"MuiRating",slot:"Label",overridesResolver:({ownerState:t},e)=>[e.label,t.emptyValueFocused&&e.labelEmptyValueActive]})({cursor:"inherit",variants:[{props:({ownerState:t})=>t.emptyValueFocused,style:{top:0,bottom:0,position:"absolute",outline:"1px solid #999",width:"100%"}}]}),c$=lh("span",{name:"MuiRating",slot:"Icon",overridesResolver:(t,e)=>{const{ownerState:n}=t;return[e.icon,n.iconEmpty&&e.iconEmpty,n.iconFilled&&e.iconFilled,n.iconHover&&e.iconHover,n.iconFocus&&e.iconFocus,n.iconActive&&e.iconActive]}})(nE(({theme:t})=>({display:"flex",transition:t.transitions.create("transform",{duration:t.transitions.duration.shortest}),pointerEvents:"none",variants:[{props:({ownerState:e})=>e.iconActive,style:{transform:"scale(1.2)"}},{props:({ownerState:e})=>e.iconEmpty,style:{color:(t.vars||t).palette.action.disabled}}]}))),d$=lh("span",{name:"MuiRating",slot:"Decimal",shouldForwardProp:t=>$C(t)&&t!=="iconActive",overridesResolver:(t,e)=>{const{iconActive:n}=t;return[e.decimal,n&&e.iconActive]}})({position:"relative",variants:[{props:({iconActive:t})=>t,style:{transform:"scale(1.2)"}}]});function h$(t){const{value:e,...n}=t;return Et.jsx("span",{...n})}function rb(t){const{classes:e,disabled:n,emptyIcon:r,focus:i,getLabelText:s,highlightSelectedOnly:o,hover:a,icon:l,IconContainerComponent:u,isActive:d,itemValue:h,labelProps:f,name:g,onBlur:_,onChange:v,onClick:T,onFocus:I,readOnly:w,ownerState:E,ratingValue:O,ratingValueRounded:C}=t,N=o?h===O:h<=O,b=h<=a,S=h<=i,m=h===C,A=SC(),k=Et.jsx(c$,{as:u,value:h,className:Bc(e.icon,N?e.iconFilled:e.iconEmpty,b&&e.iconHover,S&&e.iconFocus,d&&e.iconActive),ownerState:{...E,iconEmpty:!N,iconFilled:N,iconHover:b,iconFocus:S,iconActive:d},children:r&&!N?r:l});return w?Et.jsx("span",{...f,children:k}):Et.jsxs(U.Fragment,{children:[Et.jsxs(WC,{ownerState:{...E,emptyValueFocused:void 0},htmlFor:A,...f,children:[k,Et.jsx("span",{className:e.visuallyHidden,children:s(h)})]}),Et.jsx("input",{className:e.visuallyHidden,onFocus:I,onBlur:_,onChange:v,onClick:T,disabled:n,value:h,id:A,type:"radio",name:g,checked:m})]})}const f$=Et.jsx(i$,{fontSize:"inherit"}),p$=Et.jsx(s$,{fontSize:"inherit"});function m$(t){return`${t||"0"} Star${t!==1?"s":""}`}const g$=U.forwardRef(function(e,n){const r=zC({name:"MuiRating",props:e}),{className:i,defaultValue:s=null,disabled:o=!1,emptyIcon:a=p$,emptyLabelText:l="Empty",getLabelText:u=m$,highlightSelectedOnly:d=!1,icon:h=f$,IconContainerComponent:f=h$,max:g=5,name:_,onChange:v,onChangeActive:T,onMouseLeave:I,onMouseMove:w,precision:E=1,readOnly:O=!1,size:C="medium",value:N,...b}=r,S=SC(_),[m,A]=J5({controlled:N,default:s,name:"Rating"}),k=l_(m,E),D=K5(),[{hover:P,focus:we},fe]=U.useState({hover:-1,focus:-1});let Ot=k;P!==-1&&(Ot=P),we!==-1&&(Ot=we);const[nt,Y]=U.useState(!1),se=U.useRef(),oe=X5(se,n),pe=Le=>{w&&w(Le);const Rt=se.current,{right:pn,left:cs,width:jr}=Rt.getBoundingClientRect();let vi;D?vi=(pn-Le.clientX)/jr:vi=(Le.clientX-cs)/jr;let Tr=l_(g*vi+E/2,E);Tr=yC(Tr,E,g),fe(wi=>wi.hover===Tr&&wi.focus===Tr?wi:{hover:Tr,focus:Tr}),Y(!1),T&&P!==Tr&&T(Le,Tr)},Ce=Le=>{I&&I(Le);const Rt=-1;fe({hover:Rt,focus:Rt}),T&&P!==Rt&&T(Le,Rt)},Ke=Le=>{let Rt=Le.target.value===""?null:parseFloat(Le.target.value);P!==-1&&(Rt=P),A(Rt),v&&v(Le,Rt)},wr=Le=>{Le.clientX===0&&Le.clientY===0||(fe({hover:-1,focus:-1}),A(null),v&&parseFloat(Le.target.value)===k&&v(Le,null))},Er=Le=>{M1(Le.target)&&Y(!0);const Rt=parseFloat(Le.target.value);fe(pn=>({hover:pn.hover,focus:Rt}))},Sr=Le=>{if(P!==-1)return;M1(Le.target)||Y(!1);const Rt=-1;fe(pn=>({hover:pn.hover,focus:Rt}))},[Ir,Dh]=U.useState(!1),Eo={...r,defaultValue:s,disabled:o,emptyIcon:a,emptyLabelText:l,emptyValueFocused:Ir,focusVisible:nt,getLabelText:u,icon:h,IconContainerComponent:f,max:g,precision:E,readOnly:O,size:C},zn=l$(Eo);return Et.jsxs(u$,{ref:oe,onMouseMove:pe,onMouseLeave:Ce,className:Bc(zn.root,i,O&&"MuiRating-readOnly"),ownerState:Eo,role:O?"img":null,"aria-label":O?u(Ot):null,...b,children:[Array.from(new Array(g)).map((Le,Rt)=>{const pn=Rt+1,cs={classes:zn,disabled:o,emptyIcon:a,focus:we,getLabelText:u,highlightSelectedOnly:d,hover:P,icon:h,IconContainerComponent:f,name:S,onBlur:Sr,onChange:Ke,onClick:wr,onFocus:Er,ratingValue:Ot,ratingValueRounded:k,readOnly:O,ownerState:Eo},jr=pn===Math.ceil(Ot)&&(P!==-1||we!==-1);if(E<1){const vi=Array.from(new Array(1/E));return Et.jsx(d$,{className:Bc(zn.decimal,jr&&zn.iconActive),ownerState:Eo,iconActive:jr,children:vi.map((Tr,wi)=>{const xa=l_(pn-1+(wi+1)*E,E);return Et.jsx(rb,{...cs,isActive:!1,itemValue:xa,labelProps:{style:vi.length-1===wi?{}:{width:xa===Ot?`${(wi+1)*E*100}%`:"0%",overflow:"hidden",position:"absolute"}}},xa)})},pn)}return Et.jsx(rb,{...cs,isActive:jr,itemValue:pn},pn)}),!O&&!o&&Et.jsxs(WC,{className:Bc(zn.label,zn.labelEmptyValue),ownerState:Eo,children:[Et.jsx("input",{className:zn.visuallyHidden,value:"",id:`${S}-empty`,type:"radio",name:S,checked:k==null,onFocus:()=>Dh(!0),onBlur:()=>Dh(!1),onChange:Ke}),Et.jsx("span",{className:zn.visuallyHidden,children:l})]})]})});var qC={exports:{}};/*! @preserve
 * numeral.js
 * version : 2.0.6
 * author : Adam Draper
 * license : MIT
 * http://adamwdraper.github.com/Numeral-js/
 */(function(t){(function(e,n){t.exports?t.exports=n():e.numeral=n()})(V0,function(){var e,n,r="2.0.6",i={},s={},o={currentLocale:"en",zeroFormat:null,nullFormat:null,defaultFormat:"0,0",scalePercentBy100:!0},a={currentLocale:o.currentLocale,zeroFormat:o.zeroFormat,nullFormat:o.nullFormat,defaultFormat:o.defaultFormat,scalePercentBy100:o.scalePercentBy100};function l(u,d){this._input=u,this._value=d}return e=function(u){var d,h,f,g;if(e.isNumeral(u))d=u.value();else if(u===0||typeof u>"u")d=0;else if(u===null||n.isNaN(u))d=null;else if(typeof u=="string")if(a.zeroFormat&&u===a.zeroFormat)d=0;else if(a.nullFormat&&u===a.nullFormat||!u.replace(/[^0-9]+/g,"").length)d=null;else{for(h in i)if(g=typeof i[h].regexps.unformat=="function"?i[h].regexps.unformat():i[h].regexps.unformat,g&&u.match(g)){f=i[h].unformat;break}f=f||e._.stringToNumber,d=f(u)}else d=Number(u)||null;return new l(u,d)},e.version=r,e.isNumeral=function(u){return u instanceof l},e._=n={numberToFormat:function(u,d,h){var f=s[e.options.currentLocale],g=!1,_=!1,v=0,T="",I=1e12,w=1e9,E=1e6,O=1e3,C="",N=!1,b,S,m,A,k,D,P;if(u=u||0,S=Math.abs(u),e._.includes(d,"(")?(g=!0,d=d.replace(/[\(|\)]/g,"")):(e._.includes(d,"+")||e._.includes(d,"-"))&&(k=e._.includes(d,"+")?d.indexOf("+"):u<0?d.indexOf("-"):-1,d=d.replace(/[\+|\-]/g,"")),e._.includes(d,"a")&&(b=d.match(/a(k|m|b|t)?/),b=b?b[1]:!1,e._.includes(d," a")&&(T=" "),d=d.replace(new RegExp(T+"a[kmbt]?"),""),S>=I&&!b||b==="t"?(T+=f.abbreviations.trillion,u=u/I):S<I&&S>=w&&!b||b==="b"?(T+=f.abbreviations.billion,u=u/w):S<w&&S>=E&&!b||b==="m"?(T+=f.abbreviations.million,u=u/E):(S<E&&S>=O&&!b||b==="k")&&(T+=f.abbreviations.thousand,u=u/O)),e._.includes(d,"[.]")&&(_=!0,d=d.replace("[.]",".")),m=u.toString().split(".")[0],A=d.split(".")[1],D=d.indexOf(","),v=(d.split(".")[0].split(",")[0].match(/0/g)||[]).length,A?(e._.includes(A,"[")?(A=A.replace("]",""),A=A.split("["),C=e._.toFixed(u,A[0].length+A[1].length,h,A[1].length)):C=e._.toFixed(u,A.length,h),m=C.split(".")[0],e._.includes(C,".")?C=f.delimiters.decimal+C.split(".")[1]:C="",_&&Number(C.slice(1))===0&&(C="")):m=e._.toFixed(u,0,h),T&&!b&&Number(m)>=1e3&&T!==f.abbreviations.trillion)switch(m=String(Number(m)/1e3),T){case f.abbreviations.thousand:T=f.abbreviations.million;break;case f.abbreviations.million:T=f.abbreviations.billion;break;case f.abbreviations.billion:T=f.abbreviations.trillion;break}if(e._.includes(m,"-")&&(m=m.slice(1),N=!0),m.length<v)for(var we=v-m.length;we>0;we--)m="0"+m;return D>-1&&(m=m.toString().replace(/(\d)(?=(\d{3})+(?!\d))/g,"$1"+f.delimiters.thousands)),d.indexOf(".")===0&&(m=""),P=m+C+(T||""),g?P=(g&&N?"(":"")+P+(g&&N?")":""):k>=0?P=k===0?(N?"-":"+")+P:P+(N?"-":"+"):N&&(P="-"+P),P},stringToNumber:function(u){var d=s[a.currentLocale],h=u,f={thousand:3,million:6,billion:9,trillion:12},g,_,v;if(a.zeroFormat&&u===a.zeroFormat)_=0;else if(a.nullFormat&&u===a.nullFormat||!u.replace(/[^0-9]+/g,"").length)_=null;else{_=1,d.delimiters.decimal!=="."&&(u=u.replace(/\./g,"").replace(d.delimiters.decimal,"."));for(g in f)if(v=new RegExp("[^a-zA-Z]"+d.abbreviations[g]+"(?:\\)|(\\"+d.currency.symbol+")?(?:\\))?)?$"),h.match(v)){_*=Math.pow(10,f[g]);break}_*=(u.split("-").length+Math.min(u.split("(").length-1,u.split(")").length-1))%2?1:-1,u=u.replace(/[^0-9\.]+/g,""),_*=Number(u)}return _},isNaN:function(u){return typeof u=="number"&&isNaN(u)},includes:function(u,d){return u.indexOf(d)!==-1},insert:function(u,d,h){return u.slice(0,h)+d+u.slice(h)},reduce:function(u,d){if(this===null)throw new TypeError("Array.prototype.reduce called on null or undefined");if(typeof d!="function")throw new TypeError(d+" is not a function");var h=Object(u),f=h.length>>>0,g=0,_;if(arguments.length===3)_=arguments[2];else{for(;g<f&&!(g in h);)g++;if(g>=f)throw new TypeError("Reduce of empty array with no initial value");_=h[g++]}for(;g<f;g++)g in h&&(_=d(_,h[g],g,h));return _},multiplier:function(u){var d=u.toString().split(".");return d.length<2?1:Math.pow(10,d[1].length)},correctionFactor:function(){var u=Array.prototype.slice.call(arguments);return u.reduce(function(d,h){var f=n.multiplier(h);return d>f?d:f},1)},toFixed:function(u,d,h,f){var g=u.toString().split("."),_=d-(f||0),v,T,I,w;return g.length===2?v=Math.min(Math.max(g[1].length,_),d):v=_,I=Math.pow(10,v),w=(h(u+"e+"+v)/I).toFixed(v),f>d-v&&(T=new RegExp("\\.?0{1,"+(f-(d-v))+"}$"),w=w.replace(T,"")),w}},e.options=a,e.formats=i,e.locales=s,e.locale=function(u){return u&&(a.currentLocale=u.toLowerCase()),a.currentLocale},e.localeData=function(u){if(!u)return s[a.currentLocale];if(u=u.toLowerCase(),!s[u])throw new Error("Unknown locale : "+u);return s[u]},e.reset=function(){for(var u in o)a[u]=o[u]},e.zeroFormat=function(u){a.zeroFormat=typeof u=="string"?u:null},e.nullFormat=function(u){a.nullFormat=typeof u=="string"?u:null},e.defaultFormat=function(u){a.defaultFormat=typeof u=="string"?u:"0.0"},e.register=function(u,d,h){if(d=d.toLowerCase(),this[u+"s"][d])throw new TypeError(d+" "+u+" already registered.");return this[u+"s"][d]=h,h},e.validate=function(u,d){var h,f,g,_,v,T,I,w;if(typeof u!="string"&&(u+="",console.warn&&console.warn("Numeral.js: Value is not string. It has been co-erced to: ",u)),u=u.trim(),u.match(/^\d+$/))return!0;if(u==="")return!1;try{I=e.localeData(d)}catch{I=e.localeData(e.locale())}return g=I.currency.symbol,v=I.abbreviations,h=I.delimiters.decimal,I.delimiters.thousands==="."?f="\\.":f=I.delimiters.thousands,w=u.match(/^[^\d]+/),w!==null&&(u=u.substr(1),w[0]!==g)||(w=u.match(/[^\d]+$/),w!==null&&(u=u.slice(0,-1),w[0]!==v.thousand&&w[0]!==v.million&&w[0]!==v.billion&&w[0]!==v.trillion))?!1:(T=new RegExp(f+"{2}"),u.match(/[^\d.,]/g)?!1:(_=u.split(h),_.length>2?!1:_.length<2?!!_[0].match(/^\d+.*\d$/)&&!_[0].match(T):_[0].length===1?!!_[0].match(/^\d+$/)&&!_[0].match(T)&&!!_[1].match(/^\d+$/):!!_[0].match(/^\d+.*\d$/)&&!_[0].match(T)&&!!_[1].match(/^\d+$/)))},e.fn=l.prototype={clone:function(){return e(this)},format:function(u,d){var h=this._value,f=u||a.defaultFormat,g,_,v;if(d=d||Math.round,h===0&&a.zeroFormat!==null)_=a.zeroFormat;else if(h===null&&a.nullFormat!==null)_=a.nullFormat;else{for(g in i)if(f.match(i[g].regexps.format)){v=i[g].format;break}v=v||e._.numberToFormat,_=v(h,f,d)}return _},value:function(){return this._value},input:function(){return this._input},set:function(u){return this._value=Number(u),this},add:function(u){var d=n.correctionFactor.call(null,this._value,u);function h(f,g,_,v){return f+Math.round(d*g)}return this._value=n.reduce([this._value,u],h,0)/d,this},subtract:function(u){var d=n.correctionFactor.call(null,this._value,u);function h(f,g,_,v){return f-Math.round(d*g)}return this._value=n.reduce([u],h,Math.round(this._value*d))/d,this},multiply:function(u){function d(h,f,g,_){var v=n.correctionFactor(h,f);return Math.round(h*v)*Math.round(f*v)/Math.round(v*v)}return this._value=n.reduce([this._value,u],d,1),this},divide:function(u){function d(h,f,g,_){var v=n.correctionFactor(h,f);return Math.round(h*v)/Math.round(f*v)}return this._value=n.reduce([this._value,u],d),this},difference:function(u){return Math.abs(e(this._value).subtract(u).value())}},e.register("locale","en",{delimiters:{thousands:",",decimal:"."},abbreviations:{thousand:"k",million:"m",billion:"b",trillion:"t"},ordinal:function(u){var d=u%10;return~~(u%100/10)===1?"th":d===1?"st":d===2?"nd":d===3?"rd":"th"},currency:{symbol:"$"}}),function(){e.register("format","bps",{regexps:{format:/(BPS)/,unformat:/(BPS)/},format:function(u,d,h){var f=e._.includes(d," BPS")?" ":"",g;return u=u*1e4,d=d.replace(/\s?BPS/,""),g=e._.numberToFormat(u,d,h),e._.includes(g,")")?(g=g.split(""),g.splice(-1,0,f+"BPS"),g=g.join("")):g=g+f+"BPS",g},unformat:function(u){return+(e._.stringToNumber(u)*1e-4).toFixed(15)}})}(),function(){var u={base:1e3,suffixes:["B","KB","MB","GB","TB","PB","EB","ZB","YB"]},d={base:1024,suffixes:["B","KiB","MiB","GiB","TiB","PiB","EiB","ZiB","YiB"]},h=u.suffixes.concat(d.suffixes.filter(function(g){return u.suffixes.indexOf(g)<0})),f=h.join("|");f="("+f.replace("B","B(?!PS)")+")",e.register("format","bytes",{regexps:{format:/([0\s]i?b)/,unformat:new RegExp(f)},format:function(g,_,v){var T,I=e._.includes(_,"ib")?d:u,w=e._.includes(_," b")||e._.includes(_," ib")?" ":"",E,O,C;for(_=_.replace(/\s?i?b/,""),E=0;E<=I.suffixes.length;E++)if(O=Math.pow(I.base,E),C=Math.pow(I.base,E+1),g===null||g===0||g>=O&&g<C){w+=I.suffixes[E],O>0&&(g=g/O);break}return T=e._.numberToFormat(g,_,v),T+w},unformat:function(g){var _=e._.stringToNumber(g),v,T;if(_){for(v=u.suffixes.length-1;v>=0;v--){if(e._.includes(g,u.suffixes[v])){T=Math.pow(u.base,v);break}if(e._.includes(g,d.suffixes[v])){T=Math.pow(d.base,v);break}}_*=T||1}return _}})}(),function(){e.register("format","currency",{regexps:{format:/(\$)/},format:function(u,d,h){var f=e.locales[e.options.currentLocale],g={before:d.match(/^([\+|\-|\(|\s|\$]*)/)[0],after:d.match(/([\+|\-|\)|\s|\$]*)$/)[0]},_,v,T;for(d=d.replace(/\s?\$\s?/,""),_=e._.numberToFormat(u,d,h),u>=0?(g.before=g.before.replace(/[\-\(]/,""),g.after=g.after.replace(/[\-\)]/,"")):u<0&&!e._.includes(g.before,"-")&&!e._.includes(g.before,"(")&&(g.before="-"+g.before),T=0;T<g.before.length;T++)switch(v=g.before[T],v){case"$":_=e._.insert(_,f.currency.symbol,T);break;case" ":_=e._.insert(_," ",T+f.currency.symbol.length-1);break}for(T=g.after.length-1;T>=0;T--)switch(v=g.after[T],v){case"$":_=T===g.after.length-1?_+f.currency.symbol:e._.insert(_,f.currency.symbol,-(g.after.length-(1+T)));break;case" ":_=T===g.after.length-1?_+" ":e._.insert(_," ",-(g.after.length-(1+T)+f.currency.symbol.length-1));break}return _}})}(),function(){e.register("format","exponential",{regexps:{format:/(e\+|e-)/,unformat:/(e\+|e-)/},format:function(u,d,h){var f,g=typeof u=="number"&&!e._.isNaN(u)?u.toExponential():"0e+0",_=g.split("e");return d=d.replace(/e[\+|\-]{1}0/,""),f=e._.numberToFormat(Number(_[0]),d,h),f+"e"+_[1]},unformat:function(u){var d=e._.includes(u,"e+")?u.split("e+"):u.split("e-"),h=Number(d[0]),f=Number(d[1]);f=e._.includes(u,"e-")?f*=-1:f;function g(_,v,T,I){var w=e._.correctionFactor(_,v),E=_*w*(v*w)/(w*w);return E}return e._.reduce([h,Math.pow(10,f)],g,1)}})}(),function(){e.register("format","ordinal",{regexps:{format:/(o)/},format:function(u,d,h){var f=e.locales[e.options.currentLocale],g,_=e._.includes(d," o")?" ":"";return d=d.replace(/\s?o/,""),_+=f.ordinal(u),g=e._.numberToFormat(u,d,h),g+_}})}(),function(){e.register("format","percentage",{regexps:{format:/(%)/,unformat:/(%)/},format:function(u,d,h){var f=e._.includes(d," %")?" ":"",g;return e.options.scalePercentBy100&&(u=u*100),d=d.replace(/\s?\%/,""),g=e._.numberToFormat(u,d,h),e._.includes(g,")")?(g=g.split(""),g.splice(-1,0,f+"%"),g=g.join("")):g=g+f+"%",g},unformat:function(u){var d=e._.stringToNumber(u);return e.options.scalePercentBy100?d*.01:d}})}(),function(){e.register("format","time",{regexps:{format:/(:)/,unformat:/(:)/},format:function(u,d,h){var f=Math.floor(u/60/60),g=Math.floor((u-f*60*60)/60),_=Math.round(u-f*60*60-g*60);return f+":"+(g<10?"0"+g:g)+":"+(_<10?"0"+_:_)},unformat:function(u){var d=u.split(":"),h=0;return d.length===3?(h=h+Number(d[0])*60*60,h=h+Number(d[1])*60,h=h+Number(d[2])):d.length===2&&(h=h+Number(d[0])*60,h=h+Number(d[1])),Number(h)}})}(),e})})(qC);var y$=qC.exports;const _$=F0(y$),rE=({amount:t})=>{const e=_$(t).format("$0,0.00");return x.createElement("div",null,e)},dn={ADD_TO_BASKET:"ADD_TO_BASKET",REMOVE_FROM_BASKET:"REMOVE_FROM_BASKET",SET_USER:"SET_USER",EMPTY_BASKET:"EMPTY_BASKET",REMOVE_ITEM_IMMEDIATELY:"REMOVE_ITEM_IMMEDIATELY"},ns=U.createContext(),v$=({children:t,reducer:e,initialState:n})=>x.createElement(ns.Provider,{value:U.useReducer(e,n)},t);var HC={color:void 0,size:void 0,className:void 0,style:void 0,attr:void 0},ib=x.createContext&&x.createContext(HC),w$=["attr","size","title"];function E$(t,e){if(t==null)return{};var n=S$(t,e),r,i;if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(i=0;i<s.length;i++)r=s[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function S$(t,e){if(t==null)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}function Jp(){return Jp=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Jp.apply(this,arguments)}function sb(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Xp(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?sb(Object(n),!0).forEach(function(r){I$(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):sb(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function I$(t,e,n){return e=T$(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function T$(t){var e=b$(t,"string");return typeof e=="symbol"?e:e+""}function b$(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e||"default");if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function GC(t){return t&&t.map((e,n)=>x.createElement(e.tag,Xp({key:n},e.attr),GC(e.child)))}function po(t){return e=>x.createElement(R$,Jp({attr:Xp({},t.attr)},e),GC(t.child))}function R$(t){var e=n=>{var{attr:r,size:i,title:s}=t,o=E$(t,w$),a=i||n.size||"1em",l;return n.className&&(l=n.className),t.className&&(l=(l?l+" ":"")+t.className),x.createElement("svg",Jp({stroke:"currentColor",fill:"currentColor",strokeWidth:"0"},n.attr,r,o,{className:l,style:Xp(Xp({color:t.color||n.color},n.style),t.style),height:a,width:a,xmlns:"http://www.w3.org/2000/svg"}),s&&x.createElement("title",null,s),t.children)};return ib!==void 0?x.createElement(ib.Consumer,null,n=>e(n)):e(HC)}function KC(t){return po({tag:"svg",attr:{fill:"currentColor",viewBox:"0 0 16 16"},child:[{tag:"path",attr:{d:"M.5 1a.5.5 0 0 0 0 1h1.11l.401 1.607 1.498 7.985A.5.5 0 0 0 4 12h1a2 2 0 1 0 0 4 2 2 0 0 0 0-4h7a2 2 0 1 0 0 4 2 2 0 0 0 0-4h1a.5.5 0 0 0 .491-.408l1.5-8A.5.5 0 0 0 14.5 3H2.89l-.405-1.621A.5.5 0 0 0 2 1zM6 14a1 1 0 1 1-2 0 1 1 0 0 1 2 0m7 0a1 1 0 1 1-2 0 1 1 0 0 1 2 0M7.354 5.646 8.5 6.793l1.146-1.147a.5.5 0 0 1 .708.708L9.207 7.5l1.147 1.146a.5.5 0 0 1-.708.708L8.5 8.207 7.354 9.354a.5.5 0 1 1-.708-.708L7.793 7.5 6.646 6.354a.5.5 0 1 1 .708-.708"},child:[]}]})(t)}function A$(t){return po({tag:"svg",attr:{fill:"currentColor",viewBox:"0 0 16 16"},child:[{tag:"path",attr:{d:"M11.742 10.344a6.5 6.5 0 1 0-1.397 1.398h-.001q.044.06.098.115l3.85 3.85a1 1 0 0 0 1.415-1.414l-3.85-3.85a1 1 0 0 0-.115-.1zM12 6.5a5.5 5.5 0 1 1-11 0 5.5 5.5 0 0 1 11 0"},child:[]}]})(t)}function pu({product:t,flex:e,renderDesc:n,renderAdd:r,showRemoveItem:i,itemAmount:s,total:o}){const{image:a,title:l,id:u,rating:d,price:h,description:f}=t,[g,_]=U.useContext(ns),v=()=>{_({type:dn.ADD_TO_BASKET,item:{image:a,title:l,id:u,rating:d,price:h,description:f}})};return x.createElement("div",{className:`${xo.card__container} ${e?xo.product__flexed:""}`},x.createElement(xi,{to:`/products/${u}`},x.createElement("img",{src:a,alt:"",className:xo.img_container})),x.createElement("div",null,x.createElement("h3",null,l),n&&x.createElement("div",{style:{maxWidth:"750px"}},f),x.createElement("div",{className:xo.rating},x.createElement(g$,{value:d==null?void 0:d.rate,precision:.1}),x.createElement("small",null,d==null?void 0:d.count)),x.createElement("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center"}},x.createElement(rE,{amount:h}),s&&x.createElement("p",{style:{fontWeight:"500",color:"var(--primary-color)"}},"Quantity: ",s),o&&x.createElement("p",{style:{fontWeight:"500",color:"var(--primary-color)"}},"Total: $",h*s),x.createElement("div",null,i&&x.createElement("button",{className:xo.button,style:{display:"flex",justifyContent:"center",alignItems:"center",gap:"7px",padding:"5px"},onClick:()=>_({type:dn.REMOVE_ITEM_IMMEDIATELY,id:u})},x.createElement(KC,{size:20}),"Remove Item"))),r&&x.createElement("button",{className:xo.button,onClick:v},"add to cart")))}const iE="https://fakestoreapi.com";function YC(){const[t,e]=U.useState(),[n,r]=U.useState(!1);return U.useEffect(()=>{r(!0),lt.get(`${iE}/products`).then(i=>{e(i.data),r(!1)}).catch(i=>{console.log(i),r(!1)})},[]),x.createElement(x.Fragment,null,n?x.createElement(jw,null):x.createElement("section",{className:xo.products_container},t==null?void 0:t.map(i=>x.createElement(pu,{renderAdd:!0,product:i,key:i.id}))))}const P$="_fixed_7htrd_1",k$="_header__container_7htrd_6",C$="_logo__container_7htrd_17",x$="_delivery_7htrd_28",O$="_search_7htrd_42",D$="_order__container_7htrd_84",N$="_language_7htrd_98",M$="_cart_7htrd_112",L$="_lower__container_7htrd_134",Ri={fixed:P$,header__container:k$,logo__container:C$,delivery:x$,search:O$,order__container:D$,language:N$,cart:M$,lower__container:L$};function V$(t){return po({tag:"svg",attr:{viewBox:"0 0 1024 1024"},child:[{tag:"path",attr:{d:"M515.664-.368C305.76-.368 128 178.4 128 390.176c0 221.76 206.032 448.544 344.624 607.936.528.64 22.929 25.52 50.528 25.52h2.449c27.6 0 49.84-24.88 50.399-25.52 130.064-149.52 320-396.048 320-607.936C896 178.4 757.344-.368 515.664-.368zm12.832 955.552c-1.12 1.12-2.753 2.369-4.193 3.409-1.472-1.008-3.072-2.288-4.255-3.408l-16.737-19.248C371.92 785.2 192 578.785 192 390.176c0-177.008 148.224-326.56 323.664-326.56 218.528 0 316.336 164 316.336 326.56 0 143.184-102.128 333.296-303.504 565.008zm-15.377-761.776c-106.032 0-192 85.968-192 192s85.968 192 192 192 192-85.968 192-192-85.968-192-192-192zm0 320c-70.576 0-129.473-58.816-129.473-129.408 0-70.576 57.424-128 128-128 70.624 0 128 57.424 128 128 .032 70.592-55.903 129.408-126.527 129.408z"},child:[]}]})(t)}const F$="/assets/amazon_letter_white_logo-DP4zLUKx.png";function U$(t){return po({tag:"svg",attr:{viewBox:"0 0 24 24"},child:[{tag:"path",attr:{d:"M21.822 7.431A1 1 0 0 0 21 7H7.333L6.179 4.23A1.994 1.994 0 0 0 4.333 3H2v2h2.333l4.744 11.385A1 1 0 0 0 10 17h8c.417 0 .79-.259.937-.648l3-8a1 1 0 0 0-.115-.921zM17.307 15h-6.64l-2.5-6h11.39l-2.25 6z"},child:[]},{tag:"circle",attr:{cx:"10.5",cy:"19.5",r:"1.5"},child:[]},{tag:"circle",attr:{cx:"17.5",cy:"19.5",r:"1.5"},child:[]}]})(t)}var ob={};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const QC=function(t){const e=[];let n=0;for(let r=0;r<t.length;r++){let i=t.charCodeAt(r);i<128?e[n++]=i:i<2048?(e[n++]=i>>6|192,e[n++]=i&63|128):(i&64512)===55296&&r+1<t.length&&(t.charCodeAt(r+1)&64512)===56320?(i=65536+((i&1023)<<10)+(t.charCodeAt(++r)&1023),e[n++]=i>>18|240,e[n++]=i>>12&63|128,e[n++]=i>>6&63|128,e[n++]=i&63|128):(e[n++]=i>>12|224,e[n++]=i>>6&63|128,e[n++]=i&63|128)}return e},B$=function(t){const e=[];let n=0,r=0;for(;n<t.length;){const i=t[n++];if(i<128)e[r++]=String.fromCharCode(i);else if(i>191&&i<224){const s=t[n++];e[r++]=String.fromCharCode((i&31)<<6|s&63)}else if(i>239&&i<365){const s=t[n++],o=t[n++],a=t[n++],l=((i&7)<<18|(s&63)<<12|(o&63)<<6|a&63)-65536;e[r++]=String.fromCharCode(55296+(l>>10)),e[r++]=String.fromCharCode(56320+(l&1023))}else{const s=t[n++],o=t[n++];e[r++]=String.fromCharCode((i&15)<<12|(s&63)<<6|o&63)}}return e.join("")},JC={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(t,e){if(!Array.isArray(t))throw Error("encodeByteArray takes an array as a parameter");this.init_();const n=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[];for(let i=0;i<t.length;i+=3){const s=t[i],o=i+1<t.length,a=o?t[i+1]:0,l=i+2<t.length,u=l?t[i+2]:0,d=s>>2,h=(s&3)<<4|a>>4;let f=(a&15)<<2|u>>6,g=u&63;l||(g=64,o||(f=64)),r.push(n[d],n[h],n[f],n[g])}return r.join("")},encodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(t):this.encodeByteArray(QC(t),e)},decodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(t):B$(this.decodeStringToByteArray(t,e))},decodeStringToByteArray(t,e){this.init_();const n=e?this.charToByteMapWebSafe_:this.charToByteMap_,r=[];for(let i=0;i<t.length;){const s=n[t.charAt(i++)],a=i<t.length?n[t.charAt(i)]:0;++i;const u=i<t.length?n[t.charAt(i)]:64;++i;const h=i<t.length?n[t.charAt(i)]:64;if(++i,s==null||a==null||u==null||h==null)throw new $$;const f=s<<2|a>>4;if(r.push(f),u!==64){const g=a<<4&240|u>>2;if(r.push(g),h!==64){const _=u<<6&192|h;r.push(_)}}}return r},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let t=0;t<this.ENCODED_VALS.length;t++)this.byteToCharMap_[t]=this.ENCODED_VALS.charAt(t),this.charToByteMap_[this.byteToCharMap_[t]]=t,this.byteToCharMapWebSafe_[t]=this.ENCODED_VALS_WEBSAFE.charAt(t),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[t]]=t,t>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(t)]=t,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(t)]=t)}}};class $$ extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const z$=function(t){const e=QC(t);return JC.encodeByteArray(e,!0)},Zp=function(t){return z$(t).replace(/\./g,"")},XC=function(t){try{return JC.decodeString(t,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};function em(t,e){if(!(e instanceof Object))return e;switch(e.constructor){case Date:const n=e;return new Date(n.getTime());case Object:t===void 0&&(t={});break;case Array:t=[];break;default:return e}for(const n in e)!e.hasOwnProperty(n)||!j$(n)||(t[n]=em(t[n],e[n]));return t}function j$(t){return t!=="__proto__"}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ZC(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const W$=()=>ZC().__FIREBASE_DEFAULTS__,q$=()=>{if(typeof process>"u"||typeof ob>"u")return;const t=ob.__FIREBASE_DEFAULTS__;if(t)return JSON.parse(t)},H$=()=>{if(typeof document>"u")return;let t;try{t=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=t&&XC(t[1]);return e&&JSON.parse(e)},dg=()=>{try{return W$()||q$()||H$()}catch(t){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${t}`);return}},G$=t=>{var e,n;return(n=(e=dg())===null||e===void 0?void 0:e.emulatorHosts)===null||n===void 0?void 0:n[t]},ex=()=>{var t;return(t=dg())===null||t===void 0?void 0:t.config},tx=t=>{var e;return(e=dg())===null||e===void 0?void 0:e[`_${t}`]};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class K${constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}wrapCallback(e){return(n,r)=>{n?this.reject(n):this.resolve(r),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(n):e(n,r))}}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Y$(t,e){if(t.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const n={alg:"none",type:"JWT"},r=e||"demo-project",i=t.iat||0,s=t.sub||t.user_id;if(!s)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const o=Object.assign({iss:`https://securetoken.google.com/${r}`,aud:r,iat:i,exp:i+3600,auth_time:i,sub:s,user_id:s,firebase:{sign_in_provider:"custom",identities:{}}},t);return[Zp(JSON.stringify(n)),Zp(JSON.stringify(o)),""].join(".")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ut(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function Q$(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(ut())}function sE(){var t;const e=(t=dg())===null||t===void 0?void 0:t.forceEnvironment;if(e==="node")return!0;if(e==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function J$(){return typeof window<"u"||nx()}function nx(){return typeof WorkerGlobalScope<"u"&&typeof self<"u"&&self instanceof WorkerGlobalScope}function X$(){return typeof navigator<"u"&&navigator.userAgent==="Cloudflare-Workers"}function rx(){const t=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof t=="object"&&t.id!==void 0}function oE(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function ix(){const t=ut();return t.indexOf("MSIE ")>=0||t.indexOf("Trident/")>=0}function sx(){return!sE()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function Sd(){try{return typeof indexedDB=="object"}catch{return!1}}function Z$(){return new Promise((t,e)=>{try{let n=!0;const r="validate-browser-context-for-indexeddb-analytics-module",i=self.indexedDB.open(r);i.onsuccess=()=>{i.result.close(),n||self.indexedDB.deleteDatabase(r),t(!0)},i.onupgradeneeded=()=>{n=!1},i.onerror=()=>{var s;e(((s=i.error)===null||s===void 0?void 0:s.message)||"")}}catch(n){e(n)}})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const e9="FirebaseError";class Sn extends Error{constructor(e,n,r){super(n),this.code=e,this.customData=r,this.name=e9,Object.setPrototypeOf(this,Sn.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,Sa.prototype.create)}}class Sa{constructor(e,n,r){this.service=e,this.serviceName=n,this.errors=r}create(e,...n){const r=n[0]||{},i=`${this.service}/${e}`,s=this.errors[e],o=s?t9(s,r):"Error",a=`${this.serviceName}: ${o} (${i}).`;return new Sn(i,a,r)}}function t9(t,e){return t.replace(n9,(n,r)=>{const i=e[r];return i!=null?String(i):`<${r}?>`})}const n9=/\{\$([^}]+)}/g;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ab(t,e){return Object.prototype.hasOwnProperty.call(t,e)}function r9(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}function Bl(t,e){if(t===e)return!0;const n=Object.keys(t),r=Object.keys(e);for(const i of n){if(!r.includes(i))return!1;const s=t[i],o=e[i];if(lb(s)&&lb(o)){if(!Bl(s,o))return!1}else if(s!==o)return!1}for(const i of r)if(!n.includes(i))return!1;return!0}function lb(t){return t!==null&&typeof t=="object"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function mu(t){const e=[];for(const[n,r]of Object.entries(t))Array.isArray(r)?r.forEach(i=>{e.push(encodeURIComponent(n)+"="+encodeURIComponent(i))}):e.push(encodeURIComponent(n)+"="+encodeURIComponent(r));return e.length?"&"+e.join("&"):""}function fl(t){const e={};return t.replace(/^\?/,"").split("&").forEach(r=>{if(r){const[i,s]=r.split("=");e[decodeURIComponent(i)]=decodeURIComponent(s)}}),e}function Sc(t){const e=t.indexOf("?");if(!e)return"";const n=t.indexOf("#",e);return t.substring(e,n>0?n:void 0)}function ox(t,e){const n=new i9(t,e);return n.subscribe.bind(n)}class i9{constructor(e,n){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=n,this.task.then(()=>{e(this)}).catch(r=>{this.error(r)})}next(e){this.forEachObserver(n=>{n.next(e)})}error(e){this.forEachObserver(n=>{n.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,n,r){let i;if(e===void 0&&n===void 0&&r===void 0)throw new Error("Missing Observer.");s9(e,["next","error","complete"])?i=e:i={next:e,error:n,complete:r},i.next===void 0&&(i.next=u_),i.error===void 0&&(i.error=u_),i.complete===void 0&&(i.complete=u_);const s=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?i.error(this.finalError):i.complete()}catch{}}),this.observers.push(i),s}unsubscribeOne(e){this.observers===void 0||this.observers[e]===void 0||(delete this.observers[e],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let n=0;n<this.observers.length;n++)this.sendOne(n,e)}sendOne(e,n){this.task.then(()=>{if(this.observers!==void 0&&this.observers[e]!==void 0)try{n(this.observers[e])}catch(r){typeof console<"u"&&console.error&&console.error(r)}})}close(e){this.finalized||(this.finalized=!0,e!==void 0&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function s9(t,e){if(typeof t!="object"||t===null)return!1;for(const n of e)if(n in t&&typeof t[n]=="function")return!0;return!1}function u_(){}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ie(t){return t&&t._delegate?t._delegate:t}class hi{constructor(e,n,r){this.name=e,this.instanceFactory=n,this.type=r,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Oo="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class o9{constructor(e,n){this.name=e,this.container=n,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const n=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(n)){const r=new K$;if(this.instancesDeferred.set(n,r),this.isInitialized(n)||this.shouldAutoInitialize())try{const i=this.getOrInitializeService({instanceIdentifier:n});i&&r.resolve(i)}catch{}}return this.instancesDeferred.get(n).promise}getImmediate(e){var n;const r=this.normalizeInstanceIdentifier(e==null?void 0:e.identifier),i=(n=e==null?void 0:e.optional)!==null&&n!==void 0?n:!1;if(this.isInitialized(r)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:r})}catch(s){if(i)return null;throw s}else{if(i)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(l9(e))try{this.getOrInitializeService({instanceIdentifier:Oo})}catch{}for(const[n,r]of this.instancesDeferred.entries()){const i=this.normalizeInstanceIdentifier(n);try{const s=this.getOrInitializeService({instanceIdentifier:i});r.resolve(s)}catch{}}}}clearInstance(e=Oo){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(n=>"INTERNAL"in n).map(n=>n.INTERNAL.delete()),...e.filter(n=>"_delete"in n).map(n=>n._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=Oo){return this.instances.has(e)}getOptions(e=Oo){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:n={}}=e,r=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(r))throw Error(`${this.name}(${r}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const i=this.getOrInitializeService({instanceIdentifier:r,options:n});for(const[s,o]of this.instancesDeferred.entries()){const a=this.normalizeInstanceIdentifier(s);r===a&&o.resolve(i)}return i}onInit(e,n){var r;const i=this.normalizeInstanceIdentifier(n),s=(r=this.onInitCallbacks.get(i))!==null&&r!==void 0?r:new Set;s.add(e),this.onInitCallbacks.set(i,s);const o=this.instances.get(i);return o&&e(o,i),()=>{s.delete(e)}}invokeOnInitCallbacks(e,n){const r=this.onInitCallbacks.get(n);if(r)for(const i of r)try{i(e,n)}catch{}}getOrInitializeService({instanceIdentifier:e,options:n={}}){let r=this.instances.get(e);if(!r&&this.component&&(r=this.component.instanceFactory(this.container,{instanceIdentifier:a9(e),options:n}),this.instances.set(e,r),this.instancesOptions.set(e,n),this.invokeOnInitCallbacks(r,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,r)}catch{}return r||null}normalizeInstanceIdentifier(e=Oo){return this.component?this.component.multipleInstances?e:Oo:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function a9(t){return t===Oo?void 0:t}function l9(t){return t.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ax{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const n=this.getProvider(e.name);if(n.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);n.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const n=new o9(e,this);return this.providers.set(e,n),n}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const aE=[];var me;(function(t){t[t.DEBUG=0]="DEBUG",t[t.VERBOSE=1]="VERBOSE",t[t.INFO=2]="INFO",t[t.WARN=3]="WARN",t[t.ERROR=4]="ERROR",t[t.SILENT=5]="SILENT"})(me||(me={}));const lx={debug:me.DEBUG,verbose:me.VERBOSE,info:me.INFO,warn:me.WARN,error:me.ERROR,silent:me.SILENT},u9=me.INFO,c9={[me.DEBUG]:"log",[me.VERBOSE]:"log",[me.INFO]:"info",[me.WARN]:"warn",[me.ERROR]:"error"},d9=(t,e,...n)=>{if(e<t.logLevel)return;const r=new Date().toISOString(),i=c9[e];if(i)console[i](`[${r}]  ${t.name}:`,...n);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};class hg{constructor(e){this.name=e,this._logLevel=u9,this._logHandler=d9,this._userLogHandler=null,aE.push(this)}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in me))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?lx[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,me.DEBUG,...e),this._logHandler(this,me.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,me.VERBOSE,...e),this._logHandler(this,me.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,me.INFO,...e),this._logHandler(this,me.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,me.WARN,...e),this._logHandler(this,me.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,me.ERROR,...e),this._logHandler(this,me.ERROR,...e)}}function h9(t){aE.forEach(e=>{e.setLogLevel(t)})}function f9(t,e){for(const n of aE){let r=null;e&&e.level&&(r=lx[e.level]),t===null?n.userLogHandler=null:n.userLogHandler=(i,s,...o)=>{const a=o.map(l=>{if(l==null)return null;if(typeof l=="string")return l;if(typeof l=="number"||typeof l=="boolean")return l.toString();if(l instanceof Error)return l.message;try{return JSON.stringify(l)}catch{return null}}).filter(l=>l).join(" ");s>=(r??i.logLevel)&&t({level:me[s].toLowerCase(),message:a,args:o,type:i.name})}}}const p9=(t,e)=>e.some(n=>t instanceof n);let ub,cb;function m9(){return ub||(ub=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function g9(){return cb||(cb=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const ux=new WeakMap,Wv=new WeakMap,cx=new WeakMap,c_=new WeakMap,lE=new WeakMap;function y9(t){const e=new Promise((n,r)=>{const i=()=>{t.removeEventListener("success",s),t.removeEventListener("error",o)},s=()=>{n(Ws(t.result)),i()},o=()=>{r(t.error),i()};t.addEventListener("success",s),t.addEventListener("error",o)});return e.then(n=>{n instanceof IDBCursor&&ux.set(n,t)}).catch(()=>{}),lE.set(e,t),e}function _9(t){if(Wv.has(t))return;const e=new Promise((n,r)=>{const i=()=>{t.removeEventListener("complete",s),t.removeEventListener("error",o),t.removeEventListener("abort",o)},s=()=>{n(),i()},o=()=>{r(t.error||new DOMException("AbortError","AbortError")),i()};t.addEventListener("complete",s),t.addEventListener("error",o),t.addEventListener("abort",o)});Wv.set(t,e)}let qv={get(t,e,n){if(t instanceof IDBTransaction){if(e==="done")return Wv.get(t);if(e==="objectStoreNames")return t.objectStoreNames||cx.get(t);if(e==="store")return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return Ws(t[e])},set(t,e,n){return t[e]=n,!0},has(t,e){return t instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in t}};function v9(t){qv=t(qv)}function w9(t){return t===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...n){const r=t.call(d_(this),e,...n);return cx.set(r,e.sort?e.sort():[e]),Ws(r)}:g9().includes(t)?function(...e){return t.apply(d_(this),e),Ws(ux.get(this))}:function(...e){return Ws(t.apply(d_(this),e))}}function E9(t){return typeof t=="function"?w9(t):(t instanceof IDBTransaction&&_9(t),p9(t,m9())?new Proxy(t,qv):t)}function Ws(t){if(t instanceof IDBRequest)return y9(t);if(c_.has(t))return c_.get(t);const e=E9(t);return e!==t&&(c_.set(t,e),lE.set(e,t)),e}const d_=t=>lE.get(t);function S9(t,e,{blocked:n,upgrade:r,blocking:i,terminated:s}={}){const o=indexedDB.open(t,e),a=Ws(o);return r&&o.addEventListener("upgradeneeded",l=>{r(Ws(o.result),l.oldVersion,l.newVersion,Ws(o.transaction),l)}),n&&o.addEventListener("blocked",l=>n(l.oldVersion,l.newVersion,l)),a.then(l=>{s&&l.addEventListener("close",()=>s()),i&&l.addEventListener("versionchange",u=>i(u.oldVersion,u.newVersion,u))}).catch(()=>{}),a}const I9=["get","getKey","getAll","getAllKeys","count"],T9=["put","add","delete","clear"],h_=new Map;function db(t,e){if(!(t instanceof IDBDatabase&&!(e in t)&&typeof e=="string"))return;if(h_.get(e))return h_.get(e);const n=e.replace(/FromIndex$/,""),r=e!==n,i=T9.includes(n);if(!(n in(r?IDBIndex:IDBObjectStore).prototype)||!(i||I9.includes(n)))return;const s=async function(o,...a){const l=this.transaction(o,i?"readwrite":"readonly");let u=l.store;return r&&(u=u.index(a.shift())),(await Promise.all([u[n](...a),i&&l.done]))[0]};return h_.set(e,s),s}v9(t=>({...t,get:(e,n,r)=>db(e,n)||t.get(e,n,r),has:(e,n)=>!!db(e,n)||t.has(e,n)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class b9{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(n=>{if(R9(n)){const r=n.getImmediate();return`${r.library}/${r.version}`}else return null}).filter(n=>n).join(" ")}}function R9(t){const e=t.getComponent();return(e==null?void 0:e.type)==="VERSION"}const tm="@firebase/app",Hv="0.10.11";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Qi=new hg("@firebase/app"),A9="@firebase/app-compat",P9="@firebase/analytics-compat",k9="@firebase/analytics",C9="@firebase/app-check-compat",x9="@firebase/app-check",O9="@firebase/auth",D9="@firebase/auth-compat",N9="@firebase/database",M9="@firebase/database-compat",L9="@firebase/functions",V9="@firebase/functions-compat",F9="@firebase/installations",U9="@firebase/installations-compat",B9="@firebase/messaging",$9="@firebase/messaging-compat",z9="@firebase/performance",j9="@firebase/performance-compat",W9="@firebase/remote-config",q9="@firebase/remote-config-compat",H9="@firebase/storage",G9="@firebase/storage-compat",K9="@firebase/firestore",Y9="@firebase/vertexai-preview",Q9="@firebase/firestore-compat",J9="firebase",X9="10.13.2";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Js="[DEFAULT]",Z9={[tm]:"fire-core",[A9]:"fire-core-compat",[k9]:"fire-analytics",[P9]:"fire-analytics-compat",[x9]:"fire-app-check",[C9]:"fire-app-check-compat",[O9]:"fire-auth",[D9]:"fire-auth-compat",[N9]:"fire-rtdb",[M9]:"fire-rtdb-compat",[L9]:"fire-fn",[V9]:"fire-fn-compat",[F9]:"fire-iid",[U9]:"fire-iid-compat",[B9]:"fire-fcm",[$9]:"fire-fcm-compat",[z9]:"fire-perf",[j9]:"fire-perf-compat",[W9]:"fire-rc",[q9]:"fire-rc-compat",[H9]:"fire-gcs",[G9]:"fire-gcs-compat",[K9]:"fire-fst",[Q9]:"fire-fst-compat",[Y9]:"fire-vertex","fire-js":"fire-js",[J9]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Xs=new Map,$l=new Map,zl=new Map;function Id(t,e){try{t.container.addComponent(e)}catch(n){Qi.debug(`Component ${e.name} failed to register with FirebaseApp ${t.name}`,n)}}function dx(t,e){t.container.addOrOverwriteComponent(e)}function Zs(t){const e=t.name;if(zl.has(e))return Qi.debug(`There were multiple attempts to register component ${e}.`),!1;zl.set(e,t);for(const n of Xs.values())Id(n,t);for(const n of $l.values())Id(n,t);return!0}function fg(t,e){const n=t.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),t.container.getProvider(e)}function ez(t,e,n=Js){fg(t,e).clearInstance(n)}function hx(t){return t.options!==void 0}function pt(t){return t.settings!==void 0}function tz(){zl.clear()}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const nz={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},fr=new Sa("app","Firebase",nz);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let fx=class{constructor(e,n,r){this._isDeleted=!1,this._options=Object.assign({},e),this._config=Object.assign({},n),this._name=n.name,this._automaticDataCollectionEnabled=n.automaticDataCollectionEnabled,this._container=r,this.container.addComponent(new hi("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw fr.create("app-deleted",{appName:this._name})}};/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rz extends fx{constructor(e,n,r,i){const s=n.automaticDataCollectionEnabled!==void 0?n.automaticDataCollectionEnabled:!1,o={name:r,automaticDataCollectionEnabled:s};if(e.apiKey!==void 0)super(e,o,i);else{const a=e;super(a.options,o,i)}this._serverConfig=Object.assign({automaticDataCollectionEnabled:s},n),this._finalizationRegistry=null,typeof FinalizationRegistry<"u"&&(this._finalizationRegistry=new FinalizationRegistry(()=>{this.automaticCleanup()})),this._refCount=0,this.incRefCount(this._serverConfig.releaseOnDeref),this._serverConfig.releaseOnDeref=void 0,n.releaseOnDeref=void 0,Mr(tm,Hv,"serverapp")}toJSON(){}get refCount(){return this._refCount}incRefCount(e){this.isDeleted||(this._refCount++,e!==void 0&&this._finalizationRegistry!==null&&this._finalizationRegistry.register(e,this))}decRefCount(){return this.isDeleted?0:--this._refCount}automaticCleanup(){cE(this)}get settings(){return this.checkDestroyed(),this._serverConfig}checkDestroyed(){if(this.isDeleted)throw fr.create("server-app-deleted")}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const mo=X9;function uE(t,e={}){let n=t;typeof e!="object"&&(e={name:e});const r=Object.assign({name:Js,automaticDataCollectionEnabled:!1},e),i=r.name;if(typeof i!="string"||!i)throw fr.create("bad-app-name",{appName:String(i)});if(n||(n=ex()),!n)throw fr.create("no-options");const s=Xs.get(i);if(s){if(Bl(n,s.options)&&Bl(r,s.config))return s;throw fr.create("duplicate-app",{appName:i})}const o=new ax(i);for(const l of zl.values())o.addComponent(l);const a=new fx(n,r,o);return Xs.set(i,a),a}function iz(t,e){if(J$()&&!nx())throw fr.create("invalid-server-app-environment");e.automaticDataCollectionEnabled===void 0&&(e.automaticDataCollectionEnabled=!1);let n;hx(t)?n=t.options:n=t;const r=Object.assign(Object.assign({},e),n);r.releaseOnDeref!==void 0&&delete r.releaseOnDeref;const i=u=>[...u].reduce((d,h)=>Math.imul(31,d)+h.charCodeAt(0)|0,0);if(e.releaseOnDeref!==void 0&&typeof FinalizationRegistry>"u")throw fr.create("finalization-registry-not-supported",{});const s=""+i(JSON.stringify(r)),o=$l.get(s);if(o)return o.incRefCount(e.releaseOnDeref),o;const a=new ax(s);for(const u of zl.values())a.addComponent(u);const l=new rz(n,e,s,a);return $l.set(s,l),l}function px(t=Js){const e=Xs.get(t);if(!e&&t===Js&&ex())return uE();if(!e)throw fr.create("no-app",{appName:t});return e}function sz(){return Array.from(Xs.values())}async function cE(t){let e=!1;const n=t.name;Xs.has(n)?(e=!0,Xs.delete(n)):$l.has(n)&&t.decRefCount()<=0&&($l.delete(n),e=!0),e&&(await Promise.all(t.container.getProviders().map(r=>r.delete())),t.isDeleted=!0)}function Mr(t,e,n){var r;let i=(r=Z9[t])!==null&&r!==void 0?r:t;n&&(i+=`-${n}`);const s=i.match(/\s|\//),o=e.match(/\s|\//);if(s||o){const a=[`Unable to register library "${i}" with version "${e}":`];s&&a.push(`library name "${i}" contains illegal characters (whitespace or "/")`),s&&o&&a.push("and"),o&&a.push(`version name "${e}" contains illegal characters (whitespace or "/")`),Qi.warn(a.join(" "));return}Zs(new hi(`${i}-version`,()=>({library:i,version:e}),"VERSION"))}function mx(t,e){if(t!==null&&typeof t!="function")throw fr.create("invalid-log-argument");f9(t,e)}function gx(t){h9(t)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const oz="firebase-heartbeat-database",az=1,Td="firebase-heartbeat-store";let f_=null;function yx(){return f_||(f_=S9(oz,az,{upgrade:(t,e)=>{switch(e){case 0:try{t.createObjectStore(Td)}catch(n){console.warn(n)}}}}).catch(t=>{throw fr.create("idb-open",{originalErrorMessage:t.message})})),f_}async function lz(t){try{const n=(await yx()).transaction(Td),r=await n.objectStore(Td).get(_x(t));return await n.done,r}catch(e){if(e instanceof Sn)Qi.warn(e.message);else{const n=fr.create("idb-get",{originalErrorMessage:e==null?void 0:e.message});Qi.warn(n.message)}}}async function hb(t,e){try{const r=(await yx()).transaction(Td,"readwrite");await r.objectStore(Td).put(e,_x(t)),await r.done}catch(n){if(n instanceof Sn)Qi.warn(n.message);else{const r=fr.create("idb-set",{originalErrorMessage:n==null?void 0:n.message});Qi.warn(r.message)}}}function _x(t){return`${t.name}!${t.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const uz=1024,cz=30*24*60*60*1e3;class dz{constructor(e){this.container=e,this._heartbeatsCache=null;const n=this.container.getProvider("app").getImmediate();this._storage=new fz(n),this._heartbeatsCachePromise=this._storage.read().then(r=>(this._heartbeatsCache=r,r))}async triggerHeartbeat(){var e,n;try{const i=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),s=fb();return((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,((n=this._heartbeatsCache)===null||n===void 0?void 0:n.heartbeats)==null)||this._heartbeatsCache.lastSentHeartbeatDate===s||this._heartbeatsCache.heartbeats.some(o=>o.date===s)?void 0:(this._heartbeatsCache.heartbeats.push({date:s,agent:i}),this._heartbeatsCache.heartbeats=this._heartbeatsCache.heartbeats.filter(o=>{const a=new Date(o.date).valueOf();return Date.now()-a<=cz}),this._storage.overwrite(this._heartbeatsCache))}catch(r){Qi.warn(r)}}async getHeartbeatsHeader(){var e;try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null||this._heartbeatsCache.heartbeats.length===0)return"";const n=fb(),{heartbeatsToSend:r,unsentEntries:i}=hz(this._heartbeatsCache.heartbeats),s=Zp(JSON.stringify({version:2,heartbeats:r}));return this._heartbeatsCache.lastSentHeartbeatDate=n,i.length>0?(this._heartbeatsCache.heartbeats=i,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),s}catch(n){return Qi.warn(n),""}}}function fb(){return new Date().toISOString().substring(0,10)}function hz(t,e=uz){const n=[];let r=t.slice();for(const i of t){const s=n.find(o=>o.agent===i.agent);if(s){if(s.dates.push(i.date),pb(n)>e){s.dates.pop();break}}else if(n.push({agent:i.agent,dates:[i.date]}),pb(n)>e){n.pop();break}r=r.slice(1)}return{heartbeatsToSend:n,unsentEntries:r}}class fz{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return Sd()?Z$().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const n=await lz(this.app);return n!=null&&n.heartbeats?n:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(e){var n;if(await this._canUseIndexedDBPromise){const i=await this.read();return hb(this.app,{lastSentHeartbeatDate:(n=e.lastSentHeartbeatDate)!==null&&n!==void 0?n:i.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){var n;if(await this._canUseIndexedDBPromise){const i=await this.read();return hb(this.app,{lastSentHeartbeatDate:(n=e.lastSentHeartbeatDate)!==null&&n!==void 0?n:i.lastSentHeartbeatDate,heartbeats:[...i.heartbeats,...e.heartbeats]})}else return}}function pb(t){return Zp(JSON.stringify({version:2,heartbeats:t})).length}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function pz(t){Zs(new hi("platform-logger",e=>new b9(e),"PRIVATE")),Zs(new hi("heartbeat",e=>new dz(e),"PRIVATE")),Mr(tm,Hv,t),Mr(tm,Hv,"esm2017"),Mr("fire-js","")}pz("");const mz=Object.freeze(Object.defineProperty({__proto__:null,FirebaseError:Sn,SDK_VERSION:mo,_DEFAULT_ENTRY_NAME:Js,_addComponent:Id,_addOrOverwriteComponent:dx,_apps:Xs,_clearComponents:tz,_components:zl,_getProvider:fg,_isFirebaseApp:hx,_isFirebaseServerApp:pt,_registerComponent:Zs,_removeServiceInstance:ez,_serverApps:$l,deleteApp:cE,getApp:px,getApps:sz,initializeApp:uE,initializeServerApp:iz,onLog:mx,registerVersion:Mr,setLogLevel:gx},Symbol.toStringTag,{value:"Module"}));/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gz{constructor(e,n){this._delegate=e,this.firebase=n,Id(e,new hi("app-compat",()=>this,"PUBLIC")),this.container=e.container}get automaticDataCollectionEnabled(){return this._delegate.automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this._delegate.automaticDataCollectionEnabled=e}get name(){return this._delegate.name}get options(){return this._delegate.options}delete(){return new Promise(e=>{this._delegate.checkDestroyed(),e()}).then(()=>(this.firebase.INTERNAL.removeApp(this.name),cE(this._delegate)))}_getService(e,n=Js){var r;this._delegate.checkDestroyed();const i=this._delegate.container.getProvider(e);return!i.isInitialized()&&((r=i.getComponent())===null||r===void 0?void 0:r.instantiationMode)==="EXPLICIT"&&i.initialize(),i.getImmediate({identifier:n})}_removeServiceInstance(e,n=Js){this._delegate.container.getProvider(e).clearInstance(n)}_addComponent(e){Id(this._delegate,e)}_addOrOverwriteComponent(e){dx(this._delegate,e)}toJSON(){return{name:this.name,automaticDataCollectionEnabled:this.automaticDataCollectionEnabled,options:this.options}}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const yz={"no-app":"No Firebase App '{$appName}' has been created - call Firebase App.initializeApp()","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance."},mb=new Sa("app-compat","Firebase",yz);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function _z(t){const e={},n={__esModule:!0,initializeApp:s,app:i,registerVersion:Mr,setLogLevel:gx,onLog:mx,apps:null,SDK_VERSION:mo,INTERNAL:{registerComponent:a,removeApp:r,useAsService:l,modularAPIs:mz}};n.default=n,Object.defineProperty(n,"apps",{get:o});function r(u){delete e[u]}function i(u){if(u=u||Js,!ab(e,u))throw mb.create("no-app",{appName:u});return e[u]}i.App=t;function s(u,d={}){const h=uE(u,d);if(ab(e,h.name))return e[h.name];const f=new t(h,n);return e[h.name]=f,f}function o(){return Object.keys(e).map(u=>e[u])}function a(u){const d=u.name,h=d.replace("-compat","");if(Zs(u)&&u.type==="PUBLIC"){const f=(g=i())=>{if(typeof g[h]!="function")throw mb.create("invalid-app-argument",{appName:d});return g[h]()};u.serviceProps!==void 0&&em(f,u.serviceProps),n[h]=f,t.prototype[h]=function(...g){return this._getService.bind(this,d).apply(this,u.multipleInstances?g:[])}}return u.type==="PUBLIC"?n[h]:null}function l(u,d){return d==="serverAuth"?null:d}return n}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function vx(){const t=_z(gz);t.INTERNAL=Object.assign(Object.assign({},t.INTERNAL),{createFirebaseNamespace:vx,extendNamespace:e,createSubscribe:ox,ErrorFactory:Sa,deepExtend:em});function e(n){em(t,n)}return t}const vz=vx();/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const gb=new hg("@firebase/app-compat"),wz="@firebase/app-compat",Ez="0.2.41";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Sz(t){Mr(wz,Ez,t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */try{const t=ZC();if(t.firebase!==void 0){gb.warn(`
      Warning: Firebase is already defined in the global scope. Please make sure
      Firebase library is only loaded once.
    `);const e=t.firebase.SDK_VERSION;e&&e.indexOf("LITE")>=0&&gb.warn(`
        Warning: You are trying to load Firebase while using Firebase Performance standalone script.
        You should load Firebase Performance with this instance of Firebase to avoid loading duplicate code.
        `)}}catch{}const gu=vz;Sz();var Iz="firebase",Tz="10.13.2";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */gu.registerVersion(Iz,Tz,"app-compat");function dE(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(t);i<r.length;i++)e.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(t,r[i])&&(n[r[i]]=t[r[i]]);return n}const rc={FACEBOOK:"facebook.com",GITHUB:"github.com",GOOGLE:"google.com",PASSWORD:"password",PHONE:"phone",TWITTER:"twitter.com"},za={EMAIL_SIGNIN:"EMAIL_SIGNIN",PASSWORD_RESET:"PASSWORD_RESET",RECOVER_EMAIL:"RECOVER_EMAIL",REVERT_SECOND_FACTOR_ADDITION:"REVERT_SECOND_FACTOR_ADDITION",VERIFY_AND_CHANGE_EMAIL:"VERIFY_AND_CHANGE_EMAIL",VERIFY_EMAIL:"VERIFY_EMAIL"};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function bz(){return{"admin-restricted-operation":"This operation is restricted to administrators only.","argument-error":"","app-not-authorized":"This app, identified by the domain where it's hosted, is not authorized to use Firebase Authentication with the provided API key. Review your key configuration in the Google API console.","app-not-installed":"The requested mobile application corresponding to the identifier (Android package name or iOS bundle ID) provided is not installed on this device.","captcha-check-failed":"The reCAPTCHA response token provided is either invalid, expired, already used or the domain associated with it does not match the list of whitelisted domains.","code-expired":"The SMS code has expired. Please re-send the verification code to try again.","cordova-not-ready":"Cordova framework is not ready.","cors-unsupported":"This browser is not supported.","credential-already-in-use":"This credential is already associated with a different user account.","custom-token-mismatch":"The custom token corresponds to a different audience.","requires-recent-login":"This operation is sensitive and requires recent authentication. Log in again before retrying this request.","dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK.","dynamic-link-not-activated":"Please activate Dynamic Links in the Firebase Console and agree to the terms and conditions.","email-change-needs-verification":"Multi-factor users must always have a verified email.","email-already-in-use":"The email address is already in use by another account.","emulator-config-failed":'Auth instance has already been used to make a network call. Auth can no longer be configured to use the emulator. Try calling "connectAuthEmulator()" sooner.',"expired-action-code":"The action code has expired.","cancelled-popup-request":"This operation has been cancelled due to another conflicting popup being opened.","internal-error":"An internal AuthError has occurred.","invalid-app-credential":"The phone verification request contains an invalid application verifier. The reCAPTCHA token response is either invalid or expired.","invalid-app-id":"The mobile app identifier is not registered for the current project.","invalid-user-token":"This user's credential isn't valid for this project. This can happen if the user's token has been tampered with, or if the user isn't for the project associated with this API key.","invalid-auth-event":"An internal AuthError has occurred.","invalid-verification-code":"The SMS verification code used to create the phone auth credential is invalid. Please resend the verification code sms and be sure to use the verification code provided by the user.","invalid-continue-uri":"The continue URL provided in the request is invalid.","invalid-cordova-configuration":"The following Cordova plugins must be installed to enable OAuth sign-in: cordova-plugin-buildinfo, cordova-universal-links-plugin, cordova-plugin-browsertab, cordova-plugin-inappbrowser and cordova-plugin-customurlscheme.","invalid-custom-token":"The custom token format is incorrect. Please check the documentation.","invalid-dynamic-link-domain":"The provided dynamic link domain is not configured or authorized for the current project.","invalid-email":"The email address is badly formatted.","invalid-emulator-scheme":"Emulator URL must start with a valid scheme (http:// or https://).","invalid-api-key":"Your API key is invalid, please check you have copied it correctly.","invalid-cert-hash":"The SHA-1 certificate hash provided is invalid.","invalid-credential":"The supplied auth credential is incorrect, malformed or has expired.","invalid-message-payload":"The email template corresponding to this action contains invalid characters in its message. Please fix by going to the Auth email templates section in the Firebase Console.","invalid-multi-factor-session":"The request does not contain a valid proof of first factor successful sign-in.","invalid-oauth-provider":"EmailAuthProvider is not supported for this operation. This operation only supports OAuth providers.","invalid-oauth-client-id":"The OAuth client ID provided is either invalid or does not match the specified API key.","unauthorized-domain":"This domain is not authorized for OAuth operations for your Firebase project. Edit the list of authorized domains from the Firebase console.","invalid-action-code":"The action code is invalid. This can happen if the code is malformed, expired, or has already been used.","wrong-password":"The password is invalid or the user does not have a password.","invalid-persistence-type":"The specified persistence type is invalid. It can only be local, session or none.","invalid-phone-number":"The format of the phone number provided is incorrect. Please enter the phone number in a format that can be parsed into E.164 format. E.164 phone numbers are written in the format [+][country code][subscriber number including area code].","invalid-provider-id":"The specified provider ID is invalid.","invalid-recipient-email":"The email corresponding to this action failed to send as the provided recipient email address is invalid.","invalid-sender":"The email template corresponding to this action contains an invalid sender email or name. Please fix by going to the Auth email templates section in the Firebase Console.","invalid-verification-id":"The verification ID used to create the phone auth credential is invalid.","invalid-tenant-id":"The Auth instance's tenant ID is invalid.","login-blocked":"Login blocked by user-provided method: {$originalMessage}","missing-android-pkg-name":"An Android Package Name must be provided if the Android App is required to be installed.","auth-domain-config-required":"Be sure to include authDomain when calling firebase.initializeApp(), by following the instructions in the Firebase console.","missing-app-credential":"The phone verification request is missing an application verifier assertion. A reCAPTCHA response token needs to be provided.","missing-verification-code":"The phone auth credential was created with an empty SMS verification code.","missing-continue-uri":"A continue URL must be provided in the request.","missing-iframe-start":"An internal AuthError has occurred.","missing-ios-bundle-id":"An iOS Bundle ID must be provided if an App Store ID is provided.","missing-or-invalid-nonce":"The request does not contain a valid nonce. This can occur if the SHA-256 hash of the provided raw nonce does not match the hashed nonce in the ID token payload.","missing-password":"A non-empty password must be provided","missing-multi-factor-info":"No second factor identifier is provided.","missing-multi-factor-session":"The request is missing proof of first factor successful sign-in.","missing-phone-number":"To send verification codes, provide a phone number for the recipient.","missing-verification-id":"The phone auth credential was created with an empty verification ID.","app-deleted":"This instance of FirebaseApp has been deleted.","multi-factor-info-not-found":"The user does not have a second factor matching the identifier provided.","multi-factor-auth-required":"Proof of ownership of a second factor is required to complete sign-in.","account-exists-with-different-credential":"An account already exists with the same email address but different sign-in credentials. Sign in using a provider associated with this email address.","network-request-failed":"A network AuthError (such as timeout, interrupted connection or unreachable host) has occurred.","no-auth-event":"An internal AuthError has occurred.","no-such-provider":"User was not linked to an account with the given provider.","null-user":"A null user object was provided as the argument for an operation which requires a non-null user object.","operation-not-allowed":"The given sign-in provider is disabled for this Firebase project. Enable it in the Firebase console, under the sign-in method tab of the Auth section.","operation-not-supported-in-this-environment":'This operation is not supported in the environment this application is running on. "location.protocol" must be http, https or chrome-extension and web storage must be enabled.',"popup-blocked":"Unable to establish a connection with the popup. It may have been blocked by the browser.","popup-closed-by-user":"The popup has been closed by the user before finalizing the operation.","provider-already-linked":"User can only be linked to one identity for the given provider.","quota-exceeded":"The project's quota for this operation has been exceeded.","redirect-cancelled-by-user":"The redirect operation has been cancelled by the user before finalizing.","redirect-operation-pending":"A redirect sign-in operation is already pending.","rejected-credential":"The request contains malformed or mismatching credentials.","second-factor-already-in-use":"The second factor is already enrolled on this account.","maximum-second-factor-count-exceeded":"The maximum allowed number of second factors on a user has been exceeded.","tenant-id-mismatch":"The provided tenant ID does not match the Auth instance's tenant ID",timeout:"The operation has timed out.","user-token-expired":"The user's credential is no longer valid. The user must sign in again.","too-many-requests":"We have blocked all requests from this device due to unusual activity. Try again later.","unauthorized-continue-uri":"The domain of the continue URL is not whitelisted.  Please whitelist the domain in the Firebase console.","unsupported-first-factor":"Enrolling a second factor or signing in with a multi-factor account requires sign-in with a supported first factor.","unsupported-persistence-type":"The current environment does not support the specified persistence type.","unsupported-tenant-operation":"This operation is not supported in a multi-tenant context.","unverified-email":"The operation requires a verified email.","user-cancelled":"The user did not grant your application the permissions it requested.","user-not-found":"There is no user record corresponding to this identifier. The user may have been deleted.","user-disabled":"The user account has been disabled by an administrator.","user-mismatch":"The supplied credentials do not correspond to the previously signed in user.","user-signed-out":"","weak-password":"The password must be 6 characters long or more.","web-storage-unsupported":"This browser is not supported or 3rd party cookies and data may be disabled.","already-initialized":"initializeAuth() has already been called with different options. To avoid this error, call initializeAuth() with the same options as when it was originally called, or call getAuth() to return the already initialized instance.","missing-recaptcha-token":"The reCAPTCHA token is missing when sending request to the backend.","invalid-recaptcha-token":"The reCAPTCHA token is invalid when sending request to the backend.","invalid-recaptcha-action":"The reCAPTCHA action is invalid when sending request to the backend.","recaptcha-not-enabled":"reCAPTCHA Enterprise integration is not enabled for this project.","missing-client-type":"The reCAPTCHA client type is missing when sending request to the backend.","missing-recaptcha-version":"The reCAPTCHA version is missing when sending request to the backend.","invalid-req-type":"Invalid request parameters.","invalid-recaptcha-version":"The reCAPTCHA version is invalid when sending request to the backend.","unsupported-password-policy-schema-version":"The password policy received from the backend uses a schema version that is not supported by this version of the Firebase SDK.","password-does-not-meet-requirements":"The password does not meet the requirements."}}function wx(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const Rz=bz,Az=wx,Ex=new Sa("auth","Firebase",wx());/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const nm=new hg("@firebase/auth");function Pz(t,...e){nm.logLevel<=me.WARN&&nm.warn(`Auth (${mo}): ${t}`,...e)}function Qf(t,...e){nm.logLevel<=me.ERROR&&nm.error(`Auth (${mo}): ${t}`,...e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ht(t,...e){throw fE(t,...e)}function Lt(t,...e){return fE(t,...e)}function hE(t,e,n){const r=Object.assign(Object.assign({},Az()),{[e]:n});return new Sa("auth","Firebase",r).create(e,{appName:t.name})}function Wt(t){return hE(t,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function yu(t,e,n){const r=n;if(!(e instanceof r))throw r.name!==e.constructor.name&&Ht(t,"argument-error"),hE(t,"argument-error",`Type of ${e.constructor.name} does not match expected instance.Did you pass a reference from a different Auth SDK?`)}function fE(t,...e){if(typeof t!="string"){const n=e[0],r=[...e.slice(1)];return r[0]&&(r[0].appName=t.name),t._errorFactory.create(n,...r)}return Ex.create(t,...e)}function q(t,e,...n){if(!t)throw fE(e,...n)}function ii(t){const e="INTERNAL ASSERTION FAILED: "+t;throw Qf(e),new Error(e)}function Vr(t,e){t||ii(e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function bd(){var t;return typeof self<"u"&&((t=self.location)===null||t===void 0?void 0:t.href)||""}function pE(){return yb()==="http:"||yb()==="https:"}function yb(){var t;return typeof self<"u"&&((t=self.location)===null||t===void 0?void 0:t.protocol)||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function kz(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(pE()||rx()||"connection"in navigator)?navigator.onLine:!0}function Cz(){if(typeof navigator>"u")return null;const t=navigator;return t.languages&&t.languages[0]||t.language||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class uh{constructor(e,n){this.shortDelay=e,this.longDelay=n,Vr(n>e,"Short delay should be less than long delay!"),this.isMobile=Q$()||oE()}get(){return kz()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function mE(t,e){Vr(t.emulator,"Emulator should always be set here");const{url:n}=t.emulator;return e?`${n}${e.startsWith("/")?e.slice(1):e}`:n}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Sx{static initialize(e,n,r){this.fetchImpl=e,n&&(this.headersImpl=n),r&&(this.responseImpl=r)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;ii("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;ii("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;ii("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const xz={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Oz=new uh(3e4,6e4);function _t(t,e){return t.tenantId&&!e.tenantId?Object.assign(Object.assign({},e),{tenantId:t.tenantId}):e}async function vt(t,e,n,r,i={}){return Ix(t,i,async()=>{let s={},o={};r&&(e==="GET"?o=r:s={body:JSON.stringify(r)});const a=mu(Object.assign({key:t.config.apiKey},o)).slice(1),l=await t._getAdditionalHeaders();l["Content-Type"]="application/json",t.languageCode&&(l["X-Firebase-Locale"]=t.languageCode);const u=Object.assign({method:e,headers:l},s);return X$()||(u.referrerPolicy="no-referrer"),Sx.fetch()(Tx(t,t.config.apiHost,n,a),u)})}async function Ix(t,e,n){t._canInitEmulator=!1;const r=Object.assign(Object.assign({},xz),e);try{const i=new Nz(t),s=await Promise.race([n(),i.promise]);i.clearNetworkTimeout();const o=await s.json();if("needConfirmation"in o)throw Ic(t,"account-exists-with-different-credential",o);if(s.ok&&!("errorMessage"in o))return o;{const a=s.ok?o.errorMessage:o.error.message,[l,u]=a.split(" : ");if(l==="FEDERATED_USER_ID_ALREADY_LINKED")throw Ic(t,"credential-already-in-use",o);if(l==="EMAIL_EXISTS")throw Ic(t,"email-already-in-use",o);if(l==="USER_DISABLED")throw Ic(t,"user-disabled",o);const d=r[l]||l.toLowerCase().replace(/[_\s]+/g,"-");if(u)throw hE(t,d,u);Ht(t,d)}}catch(i){if(i instanceof Sn)throw i;Ht(t,"network-request-failed",{message:String(i)})}}async function rs(t,e,n,r,i={}){const s=await vt(t,e,n,r,i);return"mfaPendingCredential"in s&&Ht(t,"multi-factor-auth-required",{_serverResponse:s}),s}function Tx(t,e,n,r){const i=`${e}${n}?${r}`;return t.config.emulator?mE(t.config,i):`${t.config.apiScheme}://${i}`}function Dz(t){switch(t){case"ENFORCE":return"ENFORCE";case"AUDIT":return"AUDIT";case"OFF":return"OFF";default:return"ENFORCEMENT_STATE_UNSPECIFIED"}}class Nz{constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((n,r)=>{this.timer=setTimeout(()=>r(Lt(this.auth,"network-request-failed")),Oz.get())})}clearNetworkTimeout(){clearTimeout(this.timer)}}function Ic(t,e,n){const r={appName:t.name};n.email&&(r.email=n.email),n.phoneNumber&&(r.phoneNumber=n.phoneNumber);const i=Lt(t,e,r);return i.customData._tokenResponse=n,i}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function _b(t){return t!==void 0&&t.getResponse!==void 0}function vb(t){return t!==void 0&&t.enterprise!==void 0}class Mz{constructor(e){if(this.siteKey="",this.recaptchaEnforcementState=[],e.recaptchaKey===void 0)throw new Error("recaptchaKey undefined");this.siteKey=e.recaptchaKey.split("/")[3],this.recaptchaEnforcementState=e.recaptchaEnforcementState}getProviderEnforcementState(e){if(!this.recaptchaEnforcementState||this.recaptchaEnforcementState.length===0)return null;for(const n of this.recaptchaEnforcementState)if(n.provider&&n.provider===e)return Dz(n.enforcementState);return null}isProviderEnabled(e){return this.getProviderEnforcementState(e)==="ENFORCE"||this.getProviderEnforcementState(e)==="AUDIT"}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Lz(t){return(await vt(t,"GET","/v1/recaptchaParams")).recaptchaSiteKey||""}async function Vz(t,e){return vt(t,"GET","/v2/recaptchaConfig",_t(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Fz(t,e){return vt(t,"POST","/v1/accounts:delete",e)}async function Uz(t,e){return vt(t,"POST","/v1/accounts:update",e)}async function bx(t,e){return vt(t,"POST","/v1/accounts:lookup",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function zc(t){if(t)try{const e=new Date(Number(t));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}async function Bz(t,e=!1){const n=ie(t),r=await n.getIdToken(e),i=pg(r);q(i&&i.exp&&i.auth_time&&i.iat,n.auth,"internal-error");const s=typeof i.firebase=="object"?i.firebase:void 0,o=s==null?void 0:s.sign_in_provider;return{claims:i,token:r,authTime:zc(p_(i.auth_time)),issuedAtTime:zc(p_(i.iat)),expirationTime:zc(p_(i.exp)),signInProvider:o||null,signInSecondFactor:(s==null?void 0:s.sign_in_second_factor)||null}}function p_(t){return Number(t)*1e3}function pg(t){const[e,n,r]=t.split(".");if(e===void 0||n===void 0||r===void 0)return Qf("JWT malformed, contained fewer than 3 sections"),null;try{const i=XC(n);return i?JSON.parse(i):(Qf("Failed to decode base64 JWT payload"),null)}catch(i){return Qf("Caught error parsing JWT payload as JSON",i==null?void 0:i.toString()),null}}function wb(t){const e=pg(t);return q(e,"internal-error"),q(typeof e.exp<"u","internal-error"),q(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Ji(t,e,n=!1){if(n)return e;try{return await e}catch(r){throw r instanceof Sn&&$z(r)&&t.auth.currentUser===t&&await t.auth.signOut(),r}}function $z({code:t}){return t==="auth/user-disabled"||t==="auth/user-token-expired"}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zz{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(e){var n;if(e){const r=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),r}else{this.errorBackoff=3e4;const i=((n=this.user.stsTokenManager.expirationTime)!==null&&n!==void 0?n:0)-Date.now()-3e5;return Math.max(0,i)}}schedule(e=!1){if(!this.isRunning)return;const n=this.getInterval(e);this.timerId=setTimeout(async()=>{await this.iteration()},n)}async iteration(){try{await this.user.getIdToken(!0)}catch(e){(e==null?void 0:e.code)==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Gv{constructor(e,n){this.createdAt=e,this.lastLoginAt=n,this._initializeTime()}_initializeTime(){this.lastSignInTime=zc(this.lastLoginAt),this.creationTime=zc(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Rd(t){var e;const n=t.auth,r=await t.getIdToken(),i=await Ji(t,bx(n,{idToken:r}));q(i==null?void 0:i.users.length,n,"internal-error");const s=i.users[0];t._notifyReloadListener(s);const o=!((e=s.providerUserInfo)===null||e===void 0)&&e.length?Rx(s.providerUserInfo):[],a=Wz(t.providerData,o),l=t.isAnonymous,u=!(t.email&&s.passwordHash)&&!(a!=null&&a.length),d=l?u:!1,h={uid:s.localId,displayName:s.displayName||null,photoURL:s.photoUrl||null,email:s.email||null,emailVerified:s.emailVerified||!1,phoneNumber:s.phoneNumber||null,tenantId:s.tenantId||null,providerData:a,metadata:new Gv(s.createdAt,s.lastLoginAt),isAnonymous:d};Object.assign(t,h)}async function jz(t){const e=ie(t);await Rd(e),await e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)}function Wz(t,e){return[...t.filter(r=>!e.some(i=>i.providerId===r.providerId)),...e]}function Rx(t){return t.map(e=>{var{providerId:n}=e,r=dE(e,["providerId"]);return{providerId:n,uid:r.rawId||"",displayName:r.displayName||null,email:r.email||null,phoneNumber:r.phoneNumber||null,photoURL:r.photoUrl||null}})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function qz(t,e){const n=await Ix(t,{},async()=>{const r=mu({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:i,apiKey:s}=t.config,o=Tx(t,i,"/v1/token",`key=${s}`),a=await t._getAdditionalHeaders();return a["Content-Type"]="application/x-www-form-urlencoded",Sx.fetch()(o,{method:"POST",headers:a,body:r})});return{accessToken:n.access_token,expiresIn:n.expires_in,refreshToken:n.refresh_token}}async function Hz(t,e){return vt(t,"POST","/v2/accounts:revokeToken",_t(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Il{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){q(e.idToken,"internal-error"),q(typeof e.idToken<"u","internal-error"),q(typeof e.refreshToken<"u","internal-error");const n="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):wb(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,n)}updateFromIdToken(e){q(e.length!==0,"internal-error");const n=wb(e);this.updateTokensAndExpiration(e,null,n)}async getToken(e,n=!1){return!n&&this.accessToken&&!this.isExpired?this.accessToken:(q(this.refreshToken,e,"user-token-expired"),this.refreshToken?(await this.refresh(e,this.refreshToken),this.accessToken):null)}clearRefreshToken(){this.refreshToken=null}async refresh(e,n){const{accessToken:r,refreshToken:i,expiresIn:s}=await qz(e,n);this.updateTokensAndExpiration(r,i,Number(s))}updateTokensAndExpiration(e,n,r){this.refreshToken=n||null,this.accessToken=e||null,this.expirationTime=Date.now()+r*1e3}static fromJSON(e,n){const{refreshToken:r,accessToken:i,expirationTime:s}=n,o=new Il;return r&&(q(typeof r=="string","internal-error",{appName:e}),o.refreshToken=r),i&&(q(typeof i=="string","internal-error",{appName:e}),o.accessToken=i),s&&(q(typeof s=="number","internal-error",{appName:e}),o.expirationTime=s),o}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new Il,this.toJSON())}_performRefresh(){return ii("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ys(t,e){q(typeof t=="string"||typeof t>"u","internal-error",{appName:e})}class Mi{constructor(e){var{uid:n,auth:r,stsTokenManager:i}=e,s=dE(e,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new zz(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=n,this.auth=r,this.stsTokenManager=i,this.accessToken=i.accessToken,this.displayName=s.displayName||null,this.email=s.email||null,this.emailVerified=s.emailVerified||!1,this.phoneNumber=s.phoneNumber||null,this.photoURL=s.photoURL||null,this.isAnonymous=s.isAnonymous||!1,this.tenantId=s.tenantId||null,this.providerData=s.providerData?[...s.providerData]:[],this.metadata=new Gv(s.createdAt||void 0,s.lastLoginAt||void 0)}async getIdToken(e){const n=await Ji(this,this.stsTokenManager.getToken(this.auth,e));return q(n,this.auth,"internal-error"),this.accessToken!==n&&(this.accessToken=n,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),n}getIdTokenResult(e){return Bz(this,e)}reload(){return jz(this)}_assign(e){this!==e&&(q(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(n=>Object.assign({},n)),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){const n=new Mi(Object.assign(Object.assign({},this),{auth:e,stsTokenManager:this.stsTokenManager._clone()}));return n.metadata._copy(this.metadata),n}_onReload(e){q(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(e,n=!1){let r=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),r=!0),n&&await Rd(this),await this.auth._persistUserIfCurrent(this),r&&this.auth._notifyListenersIfCurrent(this)}async delete(){if(pt(this.auth.app))return Promise.reject(Wt(this.auth));const e=await this.getIdToken();return await Ji(this,Fz(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>Object.assign({},e)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,n){var r,i,s,o,a,l,u,d;const h=(r=n.displayName)!==null&&r!==void 0?r:void 0,f=(i=n.email)!==null&&i!==void 0?i:void 0,g=(s=n.phoneNumber)!==null&&s!==void 0?s:void 0,_=(o=n.photoURL)!==null&&o!==void 0?o:void 0,v=(a=n.tenantId)!==null&&a!==void 0?a:void 0,T=(l=n._redirectEventId)!==null&&l!==void 0?l:void 0,I=(u=n.createdAt)!==null&&u!==void 0?u:void 0,w=(d=n.lastLoginAt)!==null&&d!==void 0?d:void 0,{uid:E,emailVerified:O,isAnonymous:C,providerData:N,stsTokenManager:b}=n;q(E&&b,e,"internal-error");const S=Il.fromJSON(this.name,b);q(typeof E=="string",e,"internal-error"),ys(h,e.name),ys(f,e.name),q(typeof O=="boolean",e,"internal-error"),q(typeof C=="boolean",e,"internal-error"),ys(g,e.name),ys(_,e.name),ys(v,e.name),ys(T,e.name),ys(I,e.name),ys(w,e.name);const m=new Mi({uid:E,auth:e,email:f,emailVerified:O,displayName:h,isAnonymous:C,photoURL:_,phoneNumber:g,tenantId:v,stsTokenManager:S,createdAt:I,lastLoginAt:w});return N&&Array.isArray(N)&&(m.providerData=N.map(A=>Object.assign({},A))),T&&(m._redirectEventId=T),m}static async _fromIdTokenResponse(e,n,r=!1){const i=new Il;i.updateFromServerResponse(n);const s=new Mi({uid:n.localId,auth:e,stsTokenManager:i,isAnonymous:r});return await Rd(s),s}static async _fromGetAccountInfoResponse(e,n,r){const i=n.users[0];q(i.localId!==void 0,"internal-error");const s=i.providerUserInfo!==void 0?Rx(i.providerUserInfo):[],o=!(i.email&&i.passwordHash)&&!(s!=null&&s.length),a=new Il;a.updateFromIdToken(r);const l=new Mi({uid:i.localId,auth:e,stsTokenManager:a,isAnonymous:o}),u={uid:i.localId,displayName:i.displayName||null,photoURL:i.photoUrl||null,email:i.email||null,emailVerified:i.emailVerified||!1,phoneNumber:i.phoneNumber||null,tenantId:i.tenantId||null,providerData:s,metadata:new Gv(i.createdAt,i.lastLoginAt),isAnonymous:!(i.email&&i.passwordHash)&&!(s!=null&&s.length)};return Object.assign(l,u),l}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Eb=new Map;function Qn(t){Vr(t instanceof Function,"Expected a class definition");let e=Eb.get(t);return e?(Vr(e instanceof t,"Instance stored in cache mismatched with class"),e):(e=new t,Eb.set(t,e),e)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ax{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(e,n){this.storage[e]=n}async _get(e){const n=this.storage[e];return n===void 0?null:n}async _remove(e){delete this.storage[e]}_addListener(e,n){}_removeListener(e,n){}}Ax.type="NONE";const jl=Ax;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Jo(t,e,n){return`firebase:${t}:${e}:${n}`}class Tl{constructor(e,n,r){this.persistence=e,this.auth=n,this.userKey=r;const{config:i,name:s}=this.auth;this.fullUserKey=Jo(this.userKey,i.apiKey,s),this.fullPersistenceKey=Jo("persistence",i.apiKey,s),this.boundEventHandler=n._onStorageEvent.bind(n),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}async getCurrentUser(){const e=await this.persistence._get(this.fullUserKey);return e?Mi._fromJSON(this.auth,e):null}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(e){if(this.persistence===e)return;const n=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=e,n)return this.setCurrentUser(n)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(e,n,r="authUser"){if(!n.length)return new Tl(Qn(jl),e,r);const i=(await Promise.all(n.map(async u=>{if(await u._isAvailable())return u}))).filter(u=>u);let s=i[0]||Qn(jl);const o=Jo(r,e.config.apiKey,e.name);let a=null;for(const u of n)try{const d=await u._get(o);if(d){const h=Mi._fromJSON(e,d);u!==s&&(a=h),s=u;break}}catch{}const l=i.filter(u=>u._shouldAllowMigration);return!s._shouldAllowMigration||!l.length?new Tl(s,e,r):(s=l[0],a&&await s._set(o,a.toJSON()),await Promise.all(n.map(async u=>{if(u!==s)try{await u._remove(o)}catch{}})),new Tl(s,e,r))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Sb(t){const e=t.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(xx(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(Px(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(Ox(e))return"Blackberry";if(Dx(e))return"Webos";if(kx(e))return"Safari";if((e.includes("chrome/")||Cx(e))&&!e.includes("edge/"))return"Chrome";if(ch(e))return"Android";{const n=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,r=t.match(n);if((r==null?void 0:r.length)===2)return r[1]}return"Other"}function Px(t=ut()){return/firefox\//i.test(t)}function kx(t=ut()){const e=t.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function Cx(t=ut()){return/crios\//i.test(t)}function xx(t=ut()){return/iemobile/i.test(t)}function ch(t=ut()){return/android/i.test(t)}function Ox(t=ut()){return/blackberry/i.test(t)}function Dx(t=ut()){return/webos/i.test(t)}function dh(t=ut()){return/iphone|ipad|ipod/i.test(t)||/macintosh/i.test(t)&&/mobile/i.test(t)}function Gz(t=ut()){return/(iPad|iPhone|iPod).*OS 7_\d/i.test(t)||/(iPad|iPhone|iPod).*OS 8_\d/i.test(t)}function Kz(t=ut()){var e;return dh(t)&&!!(!((e=window.navigator)===null||e===void 0)&&e.standalone)}function Yz(){return ix()&&document.documentMode===10}function Nx(t=ut()){return dh(t)||ch(t)||Dx(t)||Ox(t)||/windows phone/i.test(t)||xx(t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Mx(t,e=[]){let n;switch(t){case"Browser":n=Sb(ut());break;case"Worker":n=`${Sb(ut())}-${t}`;break;default:n=t}const r=e.length?e.join(","):"FirebaseCore-web";return`${n}/JsCore/${mo}/${r}`}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Qz{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,n){const r=s=>new Promise((o,a)=>{try{const l=e(s);o(l)}catch(l){a(l)}});r.onAbort=n,this.queue.push(r);const i=this.queue.length-1;return()=>{this.queue[i]=()=>Promise.resolve()}}async runMiddleware(e){if(this.auth.currentUser===e)return;const n=[];try{for(const r of this.queue)await r(e),r.onAbort&&n.push(r.onAbort)}catch(r){n.reverse();for(const i of n)try{i()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:r==null?void 0:r.message})}}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Jz(t,e={}){return vt(t,"GET","/v2/passwordPolicy",_t(t,e))}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Xz=6;class Zz{constructor(e){var n,r,i,s;const o=e.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=(n=o.minPasswordLength)!==null&&n!==void 0?n:Xz,o.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=o.maxPasswordLength),o.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=o.containsLowercaseCharacter),o.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=o.containsUppercaseCharacter),o.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=o.containsNumericCharacter),o.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=o.containsNonAlphanumericCharacter),this.enforcementState=e.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=(i=(r=e.allowedNonAlphanumericCharacters)===null||r===void 0?void 0:r.join(""))!==null&&i!==void 0?i:"",this.forceUpgradeOnSignin=(s=e.forceUpgradeOnSignin)!==null&&s!==void 0?s:!1,this.schemaVersion=e.schemaVersion}validatePassword(e){var n,r,i,s,o,a;const l={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(e,l),this.validatePasswordCharacterOptions(e,l),l.isValid&&(l.isValid=(n=l.meetsMinPasswordLength)!==null&&n!==void 0?n:!0),l.isValid&&(l.isValid=(r=l.meetsMaxPasswordLength)!==null&&r!==void 0?r:!0),l.isValid&&(l.isValid=(i=l.containsLowercaseLetter)!==null&&i!==void 0?i:!0),l.isValid&&(l.isValid=(s=l.containsUppercaseLetter)!==null&&s!==void 0?s:!0),l.isValid&&(l.isValid=(o=l.containsNumericCharacter)!==null&&o!==void 0?o:!0),l.isValid&&(l.isValid=(a=l.containsNonAlphanumericCharacter)!==null&&a!==void 0?a:!0),l}validatePasswordLengthOptions(e,n){const r=this.customStrengthOptions.minPasswordLength,i=this.customStrengthOptions.maxPasswordLength;r&&(n.meetsMinPasswordLength=e.length>=r),i&&(n.meetsMaxPasswordLength=e.length<=i)}validatePasswordCharacterOptions(e,n){this.updatePasswordCharacterOptionsStatuses(n,!1,!1,!1,!1);let r;for(let i=0;i<e.length;i++)r=e.charAt(i),this.updatePasswordCharacterOptionsStatuses(n,r>="a"&&r<="z",r>="A"&&r<="Z",r>="0"&&r<="9",this.allowedNonAlphanumericCharacters.includes(r))}updatePasswordCharacterOptionsStatuses(e,n,r,i,s){this.customStrengthOptions.containsLowercaseLetter&&(e.containsLowercaseLetter||(e.containsLowercaseLetter=n)),this.customStrengthOptions.containsUppercaseLetter&&(e.containsUppercaseLetter||(e.containsUppercaseLetter=r)),this.customStrengthOptions.containsNumericCharacter&&(e.containsNumericCharacter||(e.containsNumericCharacter=i)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(e.containsNonAlphanumericCharacter||(e.containsNonAlphanumericCharacter=s))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ej{constructor(e,n,r,i){this.app=e,this.heartbeatServiceProvider=n,this.appCheckServiceProvider=r,this.config=i,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new Ib(this),this.idTokenSubscription=new Ib(this),this.beforeStateQueue=new Qz(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=Ex,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=i.sdkClientVersion}_initializeWithPersistence(e,n){return n&&(this._popupRedirectResolver=Qn(n)),this._initializationPromise=this.queue(async()=>{var r,i;if(!this._deleted&&(this.persistenceManager=await Tl.create(this,e),!this._deleted)){if(!((r=this._popupRedirectResolver)===null||r===void 0)&&r._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(n),this.lastNotifiedUid=((i=this.currentUser)===null||i===void 0?void 0:i.uid)||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const e=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!e)){if(this.currentUser&&e&&this.currentUser.uid===e.uid){this._currentUser._assign(e),await this.currentUser.getIdToken();return}await this._updateCurrentUser(e,!0)}}async initializeCurrentUserFromIdToken(e){try{const n=await bx(this,{idToken:e}),r=await Mi._fromGetAccountInfoResponse(this,n,e);await this.directlySetCurrentUser(r)}catch(n){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",n),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(e){var n;if(pt(this.app)){const o=this.app.settings.authIdToken;return o?new Promise(a=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(o).then(a,a))}):this.directlySetCurrentUser(null)}const r=await this.assertedPersistence.getCurrentUser();let i=r,s=!1;if(e&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const o=(n=this.redirectUser)===null||n===void 0?void 0:n._redirectEventId,a=i==null?void 0:i._redirectEventId,l=await this.tryRedirectSignIn(e);(!o||o===a)&&(l!=null&&l.user)&&(i=l.user,s=!0)}if(!i)return this.directlySetCurrentUser(null);if(!i._redirectEventId){if(s)try{await this.beforeStateQueue.runMiddleware(i)}catch(o){i=r,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(o))}return i?this.reloadAndSetCurrentUserOrClear(i):this.directlySetCurrentUser(null)}return q(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===i._redirectEventId?this.directlySetCurrentUser(i):this.reloadAndSetCurrentUserOrClear(i)}async tryRedirectSignIn(e){let n=null;try{n=await this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch{await this._setRedirectUser(null)}return n}async reloadAndSetCurrentUserOrClear(e){try{await Rd(e)}catch(n){if((n==null?void 0:n.code)!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)}useDeviceLanguage(){this.languageCode=Cz()}async _delete(){this._deleted=!0}async updateCurrentUser(e){if(pt(this.app))return Promise.reject(Wt(this));const n=e?ie(e):null;return n&&q(n.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(n&&n._clone(this))}async _updateCurrentUser(e,n=!1){if(!this._deleted)return e&&q(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),n||await this.beforeStateQueue.runMiddleware(e),this.queue(async()=>{await this.directlySetCurrentUser(e),this.notifyAuthListeners()})}async signOut(){return pt(this.app)?Promise.reject(Wt(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(e){return pt(this.app)?Promise.reject(Wt(this)):this.queue(async()=>{await this.assertedPersistence.setPersistence(Qn(e))})}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(e){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const n=this._getPasswordPolicyInternal();return n.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):n.validatePassword(e)}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const e=await Jz(this),n=new Zz(e);this.tenantId===null?this._projectPasswordPolicy=n:this._tenantPasswordPolicies[this.tenantId]=n}_getPersistence(){return this.assertedPersistence.persistence.type}_updateErrorMap(e){this._errorFactory=new Sa("auth","Firebase",e())}onAuthStateChanged(e,n,r){return this.registerStateListener(this.authStateSubscription,e,n,r)}beforeAuthStateChanged(e,n){return this.beforeStateQueue.pushCallback(e,n)}onIdTokenChanged(e,n,r){return this.registerStateListener(this.idTokenSubscription,e,n,r)}authStateReady(){return new Promise((e,n)=>{if(this.currentUser)e();else{const r=this.onAuthStateChanged(()=>{r(),e()},n)}})}async revokeAccessToken(e){if(this.currentUser){const n=await this.currentUser.getIdToken(),r={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:e,idToken:n};this.tenantId!=null&&(r.tenantId=this.tenantId),await Hz(this,r)}}toJSON(){var e;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:(e=this._currentUser)===null||e===void 0?void 0:e.toJSON()}}async _setRedirectUser(e,n){const r=await this.getOrInitRedirectPersistenceManager(n);return e===null?r.removeCurrentUser():r.setCurrentUser(e)}async getOrInitRedirectPersistenceManager(e){if(!this.redirectPersistenceManager){const n=e&&Qn(e)||this._popupRedirectResolver;q(n,this,"argument-error"),this.redirectPersistenceManager=await Tl.create(this,[Qn(n._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(e){var n,r;return this._isInitialized&&await this.queue(async()=>{}),((n=this._currentUser)===null||n===void 0?void 0:n._redirectEventId)===e?this._currentUser:((r=this.redirectUser)===null||r===void 0?void 0:r._redirectEventId)===e?this.redirectUser:null}async _persistUserIfCurrent(e){if(e===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(e))}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var e,n;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const r=(n=(e=this.currentUser)===null||e===void 0?void 0:e.uid)!==null&&n!==void 0?n:null;this.lastNotifiedUid!==r&&(this.lastNotifiedUid=r,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,n,r,i){if(this._deleted)return()=>{};const s=typeof n=="function"?n:n.next.bind(n);let o=!1;const a=this._isInitialized?Promise.resolve():this._initializationPromise;if(q(a,this,"internal-error"),a.then(()=>{o||s(this.currentUser)}),typeof n=="function"){const l=e.addObserver(n,r,i);return()=>{o=!0,l()}}else{const l=e.addObserver(n);return()=>{o=!0,l()}}}async directlySetCurrentUser(e){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?await this.assertedPersistence.setCurrentUser(e):await this.assertedPersistence.removeCurrentUser()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return q(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=Mx(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){var e;const n={"X-Client-Version":this.clientVersion};this.app.options.appId&&(n["X-Firebase-gmpid"]=this.app.options.appId);const r=await((e=this.heartbeatServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getHeartbeatsHeader());r&&(n["X-Firebase-Client"]=r);const i=await this._getAppCheckToken();return i&&(n["X-Firebase-AppCheck"]=i),n}async _getAppCheckToken(){var e;const n=await((e=this.appCheckServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getToken());return n!=null&&n.error&&Pz(`Error while retrieving App Check token: ${n.error}`),n==null?void 0:n.token}}function mt(t){return ie(t)}class Ib{constructor(e){this.auth=e,this.observer=null,this.addObserver=ox(n=>this.observer=n)}get next(){return q(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let hh={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function tj(t){hh=t}function gE(t){return hh.loadJS(t)}function nj(){return hh.recaptchaV2Script}function rj(){return hh.recaptchaEnterpriseScript}function ij(){return hh.gapiScript}function Lx(t){return`__${t}${Math.floor(Math.random()*1e6)}`}const sj="recaptcha-enterprise",oj="NO_RECAPTCHA";class aj{constructor(e){this.type=sj,this.auth=mt(e)}async verify(e="verify",n=!1){async function r(s){if(!n){if(s.tenantId==null&&s._agentRecaptchaConfig!=null)return s._agentRecaptchaConfig.siteKey;if(s.tenantId!=null&&s._tenantRecaptchaConfigs[s.tenantId]!==void 0)return s._tenantRecaptchaConfigs[s.tenantId].siteKey}return new Promise(async(o,a)=>{Vz(s,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then(l=>{if(l.recaptchaKey===void 0)a(new Error("recaptcha Enterprise site key undefined"));else{const u=new Mz(l);return s.tenantId==null?s._agentRecaptchaConfig=u:s._tenantRecaptchaConfigs[s.tenantId]=u,o(u.siteKey)}}).catch(l=>{a(l)})})}function i(s,o,a){const l=window.grecaptcha;vb(l)?l.enterprise.ready(()=>{l.enterprise.execute(s,{action:e}).then(u=>{o(u)}).catch(()=>{o(oj)})}):a(Error("No reCAPTCHA enterprise script loaded."))}return new Promise((s,o)=>{r(this.auth).then(a=>{if(!n&&vb(window.grecaptcha))i(a,s,o);else{if(typeof window>"u"){o(new Error("RecaptchaVerifier is only supported in browser"));return}let l=rj();l.length!==0&&(l+=a),gE(l).then(()=>{i(a,s,o)}).catch(u=>{o(u)})}}).catch(a=>{o(a)})})}}async function Tb(t,e,n,r=!1){const i=new aj(t);let s;try{s=await i.verify(n)}catch{s=await i.verify(n,!0)}const o=Object.assign({},e);return r?Object.assign(o,{captchaResp:s}):Object.assign(o,{captchaResponse:s}),Object.assign(o,{clientType:"CLIENT_TYPE_WEB"}),Object.assign(o,{recaptchaVersion:"RECAPTCHA_ENTERPRISE"}),o}async function Ad(t,e,n,r){var i;if(!((i=t._getRecaptchaConfig())===null||i===void 0)&&i.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")){const s=await Tb(t,e,n,n==="getOobCode");return r(t,s)}else return r(t,e).catch(async s=>{if(s.code==="auth/missing-recaptcha-token"){console.log(`${n} is protected by reCAPTCHA Enterprise for this project. Automatically triggering the reCAPTCHA flow and restarting the flow.`);const o=await Tb(t,e,n,n==="getOobCode");return r(t,o)}else return Promise.reject(s)})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function lj(t,e){const n=fg(t,"auth");if(n.isInitialized()){const i=n.getImmediate(),s=n.getOptions();if(Bl(s,e??{}))return i;Ht(i,"already-initialized")}return n.initialize({options:e})}function uj(t,e){const n=(e==null?void 0:e.persistence)||[],r=(Array.isArray(n)?n:[n]).map(Qn);e!=null&&e.errorMap&&t._updateErrorMap(e.errorMap),t._initializeWithPersistence(r,e==null?void 0:e.popupRedirectResolver)}function Vx(t,e,n){const r=mt(t);q(r._canInitEmulator,r,"emulator-config-failed"),q(/^https?:\/\//.test(e),r,"invalid-emulator-scheme");const i=!!(n!=null&&n.disableWarnings),s=Fx(e),{host:o,port:a}=cj(e),l=a===null?"":`:${a}`;r.config.emulator={url:`${s}//${o}${l}/`},r.settings.appVerificationDisabledForTesting=!0,r.emulatorConfig=Object.freeze({host:o,port:a,protocol:s.replace(":",""),options:Object.freeze({disableWarnings:i})}),i||dj()}function Fx(t){const e=t.indexOf(":");return e<0?"":t.substr(0,e+1)}function cj(t){const e=Fx(t),n=/(\/\/)?([^?#/]+)/.exec(t.substr(e.length));if(!n)return{host:"",port:null};const r=n[2].split("@").pop()||"",i=/^(\[[^\]]+\])(:|$)/.exec(r);if(i){const s=i[1];return{host:s,port:bb(r.substr(s.length+1))}}else{const[s,o]=r.split(":");return{host:s,port:bb(o)}}}function bb(t){if(!t)return null;const e=Number(t);return isNaN(e)?null:e}function dj(){function t(){const e=document.createElement("p"),n=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",n.position="fixed",n.width="100%",n.backgroundColor="#ffffff",n.border=".1em solid #000000",n.color="#b50000",n.bottom="0px",n.left="0px",n.margin="0px",n.zIndex="10000",n.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",t):t())}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _u{constructor(e,n){this.providerId=e,this.signInMethod=n}toJSON(){return ii("not implemented")}_getIdTokenResponse(e){return ii("not implemented")}_linkToIdToken(e,n){return ii("not implemented")}_getReauthenticationResolver(e){return ii("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Ux(t,e){return vt(t,"POST","/v1/accounts:resetPassword",_t(t,e))}async function hj(t,e){return vt(t,"POST","/v1/accounts:update",e)}async function fj(t,e){return vt(t,"POST","/v1/accounts:signUp",e)}async function pj(t,e){return vt(t,"POST","/v1/accounts:update",_t(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function mj(t,e){return rs(t,"POST","/v1/accounts:signInWithPassword",_t(t,e))}async function mg(t,e){return vt(t,"POST","/v1/accounts:sendOobCode",_t(t,e))}async function gj(t,e){return mg(t,e)}async function yj(t,e){return mg(t,e)}async function _j(t,e){return mg(t,e)}async function vj(t,e){return mg(t,e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function wj(t,e){return rs(t,"POST","/v1/accounts:signInWithEmailLink",_t(t,e))}async function Ej(t,e){return rs(t,"POST","/v1/accounts:signInWithEmailLink",_t(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Pd extends _u{constructor(e,n,r,i=null){super("password",r),this._email=e,this._password=n,this._tenantId=i}static _fromEmailAndPassword(e,n){return new Pd(e,n,"password")}static _fromEmailAndCode(e,n,r=null){return new Pd(e,n,"emailLink",r)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(e){const n=typeof e=="string"?JSON.parse(e):e;if(n!=null&&n.email&&(n!=null&&n.password)){if(n.signInMethod==="password")return this._fromEmailAndPassword(n.email,n.password);if(n.signInMethod==="emailLink")return this._fromEmailAndCode(n.email,n.password,n.tenantId)}return null}async _getIdTokenResponse(e){switch(this.signInMethod){case"password":const n={returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return Ad(e,n,"signInWithPassword",mj);case"emailLink":return wj(e,{email:this._email,oobCode:this._password});default:Ht(e,"internal-error")}}async _linkToIdToken(e,n){switch(this.signInMethod){case"password":const r={idToken:n,returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return Ad(e,r,"signUpPassword",fj);case"emailLink":return Ej(e,{idToken:n,email:this._email,oobCode:this._password});default:Ht(e,"internal-error")}}_getReauthenticationResolver(e){return this._getIdTokenResponse(e)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function zi(t,e){return rs(t,"POST","/v1/accounts:signInWithIdp",_t(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Sj="http://localhost";class fi extends _u{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(e){const n=new fi(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(n.idToken=e.idToken),e.accessToken&&(n.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(n.nonce=e.nonce),e.pendingToken&&(n.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(n.accessToken=e.oauthToken,n.secret=e.oauthTokenSecret):Ht("argument-error"),n}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(e){const n=typeof e=="string"?JSON.parse(e):e,{providerId:r,signInMethod:i}=n,s=dE(n,["providerId","signInMethod"]);if(!r||!i)return null;const o=new fi(r,i);return o.idToken=s.idToken||void 0,o.accessToken=s.accessToken||void 0,o.secret=s.secret,o.nonce=s.nonce,o.pendingToken=s.pendingToken||null,o}_getIdTokenResponse(e){const n=this.buildRequest();return zi(e,n)}_linkToIdToken(e,n){const r=this.buildRequest();return r.idToken=n,zi(e,r)}_getReauthenticationResolver(e){const n=this.buildRequest();return n.autoCreate=!1,zi(e,n)}buildRequest(){const e={requestUri:Sj,returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{const n={};this.idToken&&(n.id_token=this.idToken),this.accessToken&&(n.access_token=this.accessToken),this.secret&&(n.oauth_token_secret=this.secret),n.providerId=this.providerId,this.nonce&&!this.pendingToken&&(n.nonce=this.nonce),e.postBody=mu(n)}return e}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Ij(t,e){return vt(t,"POST","/v1/accounts:sendVerificationCode",_t(t,e))}async function Tj(t,e){return rs(t,"POST","/v1/accounts:signInWithPhoneNumber",_t(t,e))}async function bj(t,e){const n=await rs(t,"POST","/v1/accounts:signInWithPhoneNumber",_t(t,e));if(n.temporaryProof)throw Ic(t,"account-exists-with-different-credential",n);return n}const Rj={USER_NOT_FOUND:"user-not-found"};async function Aj(t,e){const n=Object.assign(Object.assign({},e),{operation:"REAUTH"});return rs(t,"POST","/v1/accounts:signInWithPhoneNumber",_t(t,n),Rj)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Xo extends _u{constructor(e){super("phone","phone"),this.params=e}static _fromVerification(e,n){return new Xo({verificationId:e,verificationCode:n})}static _fromTokenResponse(e,n){return new Xo({phoneNumber:e,temporaryProof:n})}_getIdTokenResponse(e){return Tj(e,this._makeVerificationRequest())}_linkToIdToken(e,n){return bj(e,Object.assign({idToken:n},this._makeVerificationRequest()))}_getReauthenticationResolver(e){return Aj(e,this._makeVerificationRequest())}_makeVerificationRequest(){const{temporaryProof:e,phoneNumber:n,verificationId:r,verificationCode:i}=this.params;return e&&n?{temporaryProof:e,phoneNumber:n}:{sessionInfo:r,code:i}}toJSON(){const e={providerId:this.providerId};return this.params.phoneNumber&&(e.phoneNumber=this.params.phoneNumber),this.params.temporaryProof&&(e.temporaryProof=this.params.temporaryProof),this.params.verificationCode&&(e.verificationCode=this.params.verificationCode),this.params.verificationId&&(e.verificationId=this.params.verificationId),e}static fromJSON(e){typeof e=="string"&&(e=JSON.parse(e));const{verificationId:n,verificationCode:r,phoneNumber:i,temporaryProof:s}=e;return!r&&!n&&!i&&!s?null:new Xo({verificationId:n,verificationCode:r,phoneNumber:i,temporaryProof:s})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Pj(t){switch(t){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}function kj(t){const e=fl(Sc(t)).link,n=e?fl(Sc(e)).deep_link_id:null,r=fl(Sc(t)).deep_link_id;return(r?fl(Sc(r)).link:null)||r||n||e||t}class gg{constructor(e){var n,r,i,s,o,a;const l=fl(Sc(e)),u=(n=l.apiKey)!==null&&n!==void 0?n:null,d=(r=l.oobCode)!==null&&r!==void 0?r:null,h=Pj((i=l.mode)!==null&&i!==void 0?i:null);q(u&&d&&h,"argument-error"),this.apiKey=u,this.operation=h,this.code=d,this.continueUrl=(s=l.continueUrl)!==null&&s!==void 0?s:null,this.languageCode=(o=l.languageCode)!==null&&o!==void 0?o:null,this.tenantId=(a=l.tenantId)!==null&&a!==void 0?a:null}static parseLink(e){const n=kj(e);try{return new gg(n)}catch{return null}}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class go{constructor(){this.providerId=go.PROVIDER_ID}static credential(e,n){return Pd._fromEmailAndPassword(e,n)}static credentialWithLink(e,n){const r=gg.parseLink(n);return q(r,"argument-error"),Pd._fromEmailAndCode(e,r.code,r.tenantId)}}go.PROVIDER_ID="password";go.EMAIL_PASSWORD_SIGN_IN_METHOD="password";go.EMAIL_LINK_SIGN_IN_METHOD="emailLink";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class is{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vu extends is{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}}class bl extends vu{static credentialFromJSON(e){const n=typeof e=="string"?JSON.parse(e):e;return q("providerId"in n&&"signInMethod"in n,"argument-error"),fi._fromParams(n)}credential(e){return this._credential(Object.assign(Object.assign({},e),{nonce:e.rawNonce}))}_credential(e){return q(e.idToken||e.accessToken,"argument-error"),fi._fromParams(Object.assign(Object.assign({},e),{providerId:this.providerId,signInMethod:this.providerId}))}static credentialFromResult(e){return bl.oauthCredentialFromTaggedObject(e)}static credentialFromError(e){return bl.oauthCredentialFromTaggedObject(e.customData||{})}static oauthCredentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthIdToken:n,oauthAccessToken:r,oauthTokenSecret:i,pendingToken:s,nonce:o,providerId:a}=e;if(!r&&!i&&!n&&!s||!a)return null;try{return new bl(a)._credential({idToken:n,accessToken:r,nonce:o,pendingToken:s})}catch{return null}}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Jr extends vu{constructor(){super("facebook.com")}static credential(e){return fi._fromParams({providerId:Jr.PROVIDER_ID,signInMethod:Jr.FACEBOOK_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return Jr.credentialFromTaggedObject(e)}static credentialFromError(e){return Jr.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return Jr.credential(e.oauthAccessToken)}catch{return null}}}Jr.FACEBOOK_SIGN_IN_METHOD="facebook.com";Jr.PROVIDER_ID="facebook.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Xr extends vu{constructor(){super("google.com"),this.addScope("profile")}static credential(e,n){return fi._fromParams({providerId:Xr.PROVIDER_ID,signInMethod:Xr.GOOGLE_SIGN_IN_METHOD,idToken:e,accessToken:n})}static credentialFromResult(e){return Xr.credentialFromTaggedObject(e)}static credentialFromError(e){return Xr.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthIdToken:n,oauthAccessToken:r}=e;if(!n&&!r)return null;try{return Xr.credential(n,r)}catch{return null}}}Xr.GOOGLE_SIGN_IN_METHOD="google.com";Xr.PROVIDER_ID="google.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Zr extends vu{constructor(){super("github.com")}static credential(e){return fi._fromParams({providerId:Zr.PROVIDER_ID,signInMethod:Zr.GITHUB_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return Zr.credentialFromTaggedObject(e)}static credentialFromError(e){return Zr.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return Zr.credential(e.oauthAccessToken)}catch{return null}}}Zr.GITHUB_SIGN_IN_METHOD="github.com";Zr.PROVIDER_ID="github.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Cj="http://localhost";class Wl extends _u{constructor(e,n){super(e,e),this.pendingToken=n}_getIdTokenResponse(e){const n=this.buildRequest();return zi(e,n)}_linkToIdToken(e,n){const r=this.buildRequest();return r.idToken=n,zi(e,r)}_getReauthenticationResolver(e){const n=this.buildRequest();return n.autoCreate=!1,zi(e,n)}toJSON(){return{signInMethod:this.signInMethod,providerId:this.providerId,pendingToken:this.pendingToken}}static fromJSON(e){const n=typeof e=="string"?JSON.parse(e):e,{providerId:r,signInMethod:i,pendingToken:s}=n;return!r||!i||!s||r!==i?null:new Wl(r,s)}static _create(e,n){return new Wl(e,n)}buildRequest(){return{requestUri:Cj,returnSecureToken:!0,pendingToken:this.pendingToken}}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const xj="saml.";class rm extends is{constructor(e){q(e.startsWith(xj),"argument-error"),super(e)}static credentialFromResult(e){return rm.samlCredentialFromTaggedObject(e)}static credentialFromError(e){return rm.samlCredentialFromTaggedObject(e.customData||{})}static credentialFromJSON(e){const n=Wl.fromJSON(e);return q(n,"argument-error"),n}static samlCredentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{pendingToken:n,providerId:r}=e;if(!n||!r)return null;try{return Wl._create(r,n)}catch{return null}}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ei extends vu{constructor(){super("twitter.com")}static credential(e,n){return fi._fromParams({providerId:ei.PROVIDER_ID,signInMethod:ei.TWITTER_SIGN_IN_METHOD,oauthToken:e,oauthTokenSecret:n})}static credentialFromResult(e){return ei.credentialFromTaggedObject(e)}static credentialFromError(e){return ei.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthAccessToken:n,oauthTokenSecret:r}=e;if(!n||!r)return null;try{return ei.credential(n,r)}catch{return null}}}ei.TWITTER_SIGN_IN_METHOD="twitter.com";ei.PROVIDER_ID="twitter.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Bx(t,e){return rs(t,"POST","/v1/accounts:signUp",_t(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gr{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static async _fromIdTokenResponse(e,n,r,i=!1){const s=await Mi._fromIdTokenResponse(e,r,i),o=Rb(r);return new gr({user:s,providerId:o,_tokenResponse:r,operationType:n})}static async _forOperation(e,n,r){await e._updateTokensIfNecessary(r,!0);const i=Rb(r);return new gr({user:e,providerId:i,_tokenResponse:r,operationType:n})}}function Rb(t){return t.providerId?t.providerId:"phoneNumber"in t?"phone":null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Oj(t){var e;if(pt(t.app))return Promise.reject(Wt(t));const n=mt(t);if(await n._initializationPromise,!((e=n.currentUser)===null||e===void 0)&&e.isAnonymous)return new gr({user:n.currentUser,providerId:null,operationType:"signIn"});const r=await Bx(n,{returnSecureToken:!0}),i=await gr._fromIdTokenResponse(n,"signIn",r,!0);return await n._updateCurrentUser(i.user),i}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class im extends Sn{constructor(e,n,r,i){var s;super(n.code,n.message),this.operationType=r,this.user=i,Object.setPrototypeOf(this,im.prototype),this.customData={appName:e.name,tenantId:(s=e.tenantId)!==null&&s!==void 0?s:void 0,_serverResponse:n.customData._serverResponse,operationType:r}}static _fromErrorAndOperation(e,n,r,i){return new im(e,n,r,i)}}function $x(t,e,n,r){return(e==="reauthenticate"?n._getReauthenticationResolver(t):n._getIdTokenResponse(t)).catch(s=>{throw s.code==="auth/multi-factor-auth-required"?im._fromErrorAndOperation(t,s,e,r):s})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function zx(t){return new Set(t.map(({providerId:e})=>e).filter(e=>!!e))}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Dj(t,e){const n=ie(t);await yg(!0,n,e);const{providerUserInfo:r}=await Uz(n.auth,{idToken:await n.getIdToken(),deleteProvider:[e]}),i=zx(r||[]);return n.providerData=n.providerData.filter(s=>i.has(s.providerId)),i.has("phone")||(n.phoneNumber=null),await n.auth._persistUserIfCurrent(n),n}async function yE(t,e,n=!1){const r=await Ji(t,e._linkToIdToken(t.auth,await t.getIdToken()),n);return gr._forOperation(t,"link",r)}async function yg(t,e,n){await Rd(e);const r=zx(e.providerData),i=t===!1?"provider-already-linked":"no-such-provider";q(r.has(n)===t,e.auth,i)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function jx(t,e,n=!1){const{auth:r}=t;if(pt(r.app))return Promise.reject(Wt(r));const i="reauthenticate";try{const s=await Ji(t,$x(r,i,e,t),n);q(s.idToken,r,"internal-error");const o=pg(s.idToken);q(o,r,"internal-error");const{sub:a}=o;return q(t.uid===a,r,"user-mismatch"),gr._forOperation(t,i,s)}catch(s){throw(s==null?void 0:s.code)==="auth/user-not-found"&&Ht(r,"user-mismatch"),s}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Wx(t,e,n=!1){if(pt(t.app))return Promise.reject(Wt(t));const r="signIn",i=await $x(t,r,e),s=await gr._fromIdTokenResponse(t,r,i);return n||await t._updateCurrentUser(s.user),s}async function _g(t,e){return Wx(mt(t),e)}async function qx(t,e){const n=ie(t);return await yg(!1,n,e.providerId),yE(n,e)}async function Hx(t,e){return jx(ie(t),e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Nj(t,e){return rs(t,"POST","/v1/accounts:signInWithCustomToken",_t(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Mj(t,e){if(pt(t.app))return Promise.reject(Wt(t));const n=mt(t),r=await Nj(n,{token:e,returnSecureToken:!0}),i=await gr._fromIdTokenResponse(n,"signIn",r);return await n._updateCurrentUser(i.user),i}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fh{constructor(e,n){this.factorId=e,this.uid=n.mfaEnrollmentId,this.enrollmentTime=new Date(n.enrolledAt).toUTCString(),this.displayName=n.displayName}static _fromServerResponse(e,n){return"phoneInfo"in n?_E._fromServerResponse(e,n):"totpInfo"in n?vE._fromServerResponse(e,n):Ht(e,"internal-error")}}class _E extends fh{constructor(e){super("phone",e),this.phoneNumber=e.phoneInfo}static _fromServerResponse(e,n){return new _E(n)}}class vE extends fh{constructor(e){super("totp",e)}static _fromServerResponse(e,n){return new vE(n)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function vg(t,e,n){var r;q(((r=n.url)===null||r===void 0?void 0:r.length)>0,t,"invalid-continue-uri"),q(typeof n.dynamicLinkDomain>"u"||n.dynamicLinkDomain.length>0,t,"invalid-dynamic-link-domain"),e.continueUrl=n.url,e.dynamicLinkDomain=n.dynamicLinkDomain,e.canHandleCodeInApp=n.handleCodeInApp,n.iOS&&(q(n.iOS.bundleId.length>0,t,"missing-ios-bundle-id"),e.iOSBundleId=n.iOS.bundleId),n.android&&(q(n.android.packageName.length>0,t,"missing-android-pkg-name"),e.androidInstallApp=n.android.installApp,e.androidMinimumVersionCode=n.android.minimumVersion,e.androidPackageName=n.android.packageName)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function wE(t){const e=mt(t);e._getPasswordPolicyInternal()&&await e._updatePasswordPolicy()}async function Lj(t,e,n){const r=mt(t),i={requestType:"PASSWORD_RESET",email:e,clientType:"CLIENT_TYPE_WEB"};n&&vg(r,i,n),await Ad(r,i,"getOobCode",yj)}async function Vj(t,e,n){await Ux(ie(t),{oobCode:e,newPassword:n}).catch(async r=>{throw r.code==="auth/password-does-not-meet-requirements"&&wE(t),r})}async function Fj(t,e){await pj(ie(t),{oobCode:e})}async function Gx(t,e){const n=ie(t),r=await Ux(n,{oobCode:e}),i=r.requestType;switch(q(i,n,"internal-error"),i){case"EMAIL_SIGNIN":break;case"VERIFY_AND_CHANGE_EMAIL":q(r.newEmail,n,"internal-error");break;case"REVERT_SECOND_FACTOR_ADDITION":q(r.mfaInfo,n,"internal-error");default:q(r.email,n,"internal-error")}let s=null;return r.mfaInfo&&(s=fh._fromServerResponse(mt(n),r.mfaInfo)),{data:{email:(r.requestType==="VERIFY_AND_CHANGE_EMAIL"?r.newEmail:r.email)||null,previousEmail:(r.requestType==="VERIFY_AND_CHANGE_EMAIL"?r.email:r.newEmail)||null,multiFactorInfo:s},operation:i}}async function Uj(t,e){const{data:n}=await Gx(ie(t),e);return n.email}async function Kx(t,e,n){if(pt(t.app))return Promise.reject(Wt(t));const r=mt(t),o=await Ad(r,{returnSecureToken:!0,email:e,password:n,clientType:"CLIENT_TYPE_WEB"},"signUpPassword",Bx).catch(l=>{throw l.code==="auth/password-does-not-meet-requirements"&&wE(t),l}),a=await gr._fromIdTokenResponse(r,"signIn",o);return await r._updateCurrentUser(a.user),a}function Yx(t,e,n){return pt(t.app)?Promise.reject(Wt(t)):_g(ie(t),go.credential(e,n)).catch(async r=>{throw r.code==="auth/password-does-not-meet-requirements"&&wE(t),r})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Bj(t,e,n){const r=mt(t),i={requestType:"EMAIL_SIGNIN",email:e,clientType:"CLIENT_TYPE_WEB"};function s(o,a){q(a.handleCodeInApp,r,"argument-error"),a&&vg(r,o,a)}s(i,n),await Ad(r,i,"getOobCode",_j)}function $j(t,e){const n=gg.parseLink(e);return(n==null?void 0:n.operation)==="EMAIL_SIGNIN"}async function zj(t,e,n){if(pt(t.app))return Promise.reject(Wt(t));const r=ie(t),i=go.credentialWithLink(e,n||bd());return q(i._tenantId===(r.tenantId||null),r,"tenant-id-mismatch"),_g(r,i)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function jj(t,e){return vt(t,"POST","/v1/accounts:createAuthUri",_t(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Wj(t,e){const n=pE()?bd():"http://localhost",r={identifier:e,continueUri:n},{signinMethods:i}=await jj(ie(t),r);return i||[]}async function qj(t,e){const n=ie(t),i={requestType:"VERIFY_EMAIL",idToken:await t.getIdToken()};e&&vg(n.auth,i,e);const{email:s}=await gj(n.auth,i);s!==t.email&&await t.reload()}async function Hj(t,e,n){const r=ie(t),s={requestType:"VERIFY_AND_CHANGE_EMAIL",idToken:await t.getIdToken(),newEmail:e};n&&vg(r.auth,s,n);const{email:o}=await vj(r.auth,s);o!==t.email&&await t.reload()}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Gj(t,e){return vt(t,"POST","/v1/accounts:update",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Kj(t,{displayName:e,photoURL:n}){if(e===void 0&&n===void 0)return;const r=ie(t),s={idToken:await r.getIdToken(),displayName:e,photoUrl:n,returnSecureToken:!0},o=await Ji(r,Gj(r.auth,s));r.displayName=o.displayName||null,r.photoURL=o.photoUrl||null;const a=r.providerData.find(({providerId:l})=>l==="password");a&&(a.displayName=r.displayName,a.photoURL=r.photoURL),await r._updateTokensIfNecessary(o)}function Yj(t,e){const n=ie(t);return pt(n.auth.app)?Promise.reject(Wt(n.auth)):Qx(n,e,null)}function Qj(t,e){return Qx(ie(t),null,e)}async function Qx(t,e,n){const{auth:r}=t,s={idToken:await t.getIdToken(),returnSecureToken:!0};e&&(s.email=e),n&&(s.password=n);const o=await Ji(t,hj(r,s));await t._updateTokensIfNecessary(o,!0)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Jj(t){var e,n;if(!t)return null;const{providerId:r}=t,i=t.rawUserInfo?JSON.parse(t.rawUserInfo):{},s=t.isNewUser||t.kind==="identitytoolkit#SignupNewUserResponse";if(!r&&(t!=null&&t.idToken)){const o=(n=(e=pg(t.idToken))===null||e===void 0?void 0:e.firebase)===null||n===void 0?void 0:n.sign_in_provider;if(o){const a=o!=="anonymous"&&o!=="custom"?o:null;return new Rl(s,a)}}if(!r)return null;switch(r){case"facebook.com":return new Xj(s,i);case"github.com":return new Zj(s,i);case"google.com":return new eW(s,i);case"twitter.com":return new tW(s,i,t.screenName||null);case"custom":case"anonymous":return new Rl(s,null);default:return new Rl(s,r,i)}}class Rl{constructor(e,n,r={}){this.isNewUser=e,this.providerId=n,this.profile=r}}class Jx extends Rl{constructor(e,n,r,i){super(e,n,r),this.username=i}}class Xj extends Rl{constructor(e,n){super(e,"facebook.com",n)}}class Zj extends Jx{constructor(e,n){super(e,"github.com",n,typeof(n==null?void 0:n.login)=="string"?n==null?void 0:n.login:null)}}class eW extends Rl{constructor(e,n){super(e,"google.com",n)}}class tW extends Jx{constructor(e,n,r){super(e,"twitter.com",n,r)}}function nW(t){const{user:e,_tokenResponse:n}=t;return e.isAnonymous&&!n?{providerId:null,isNewUser:!1,profile:null}:Jj(n)}function rW(t,e,n,r){return ie(t).onIdTokenChanged(e,n,r)}function iW(t,e,n){return ie(t).beforeAuthStateChanged(e,n)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Wo{constructor(e,n,r){this.type=e,this.credential=n,this.user=r}static _fromIdtoken(e,n){return new Wo("enroll",e,n)}static _fromMfaPendingCredential(e){return new Wo("signin",e)}toJSON(){return{multiFactorSession:{[this.type==="enroll"?"idToken":"pendingCredential"]:this.credential}}}static fromJSON(e){var n,r;if(e!=null&&e.multiFactorSession){if(!((n=e.multiFactorSession)===null||n===void 0)&&n.pendingCredential)return Wo._fromMfaPendingCredential(e.multiFactorSession.pendingCredential);if(!((r=e.multiFactorSession)===null||r===void 0)&&r.idToken)return Wo._fromIdtoken(e.multiFactorSession.idToken)}return null}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class EE{constructor(e,n,r){this.session=e,this.hints=n,this.signInResolver=r}static _fromError(e,n){const r=mt(e),i=n.customData._serverResponse,s=(i.mfaInfo||[]).map(a=>fh._fromServerResponse(r,a));q(i.mfaPendingCredential,r,"internal-error");const o=Wo._fromMfaPendingCredential(i.mfaPendingCredential);return new EE(o,s,async a=>{const l=await a._process(r,o);delete i.mfaInfo,delete i.mfaPendingCredential;const u=Object.assign(Object.assign({},i),{idToken:l.idToken,refreshToken:l.refreshToken});switch(n.operationType){case"signIn":const d=await gr._fromIdTokenResponse(r,n.operationType,u);return await r._updateCurrentUser(d.user),d;case"reauthenticate":return q(n.user,r,"internal-error"),gr._forOperation(n.user,n.operationType,u);default:Ht(r,"internal-error")}})}async resolveSignIn(e){const n=e;return this.signInResolver(n)}}function sW(t,e){var n;const r=ie(t),i=e;return q(e.customData.operationType,r,"argument-error"),q((n=i.customData._serverResponse)===null||n===void 0?void 0:n.mfaPendingCredential,r,"argument-error"),EE._fromError(r,i)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function oW(t,e){return vt(t,"POST","/v2/accounts/mfaEnrollment:start",_t(t,e))}function aW(t,e){return vt(t,"POST","/v2/accounts/mfaEnrollment:finalize",_t(t,e))}function lW(t,e){return vt(t,"POST","/v2/accounts/mfaEnrollment:withdraw",_t(t,e))}class SE{constructor(e){this.user=e,this.enrolledFactors=[],e._onReload(n=>{n.mfaInfo&&(this.enrolledFactors=n.mfaInfo.map(r=>fh._fromServerResponse(e.auth,r)))})}static _fromUser(e){return new SE(e)}async getSession(){return Wo._fromIdtoken(await this.user.getIdToken(),this.user)}async enroll(e,n){const r=e,i=await this.getSession(),s=await Ji(this.user,r._process(this.user.auth,i,n));return await this.user._updateTokensIfNecessary(s),this.user.reload()}async unenroll(e){const n=typeof e=="string"?e:e.uid,r=await this.user.getIdToken();try{const i=await Ji(this.user,lW(this.user.auth,{idToken:r,mfaEnrollmentId:n}));this.enrolledFactors=this.enrolledFactors.filter(({uid:s})=>s!==n),await this.user._updateTokensIfNecessary(i),await this.user.reload()}catch(i){throw i}}}const m_=new WeakMap;function uW(t){const e=ie(t);return m_.has(e)||m_.set(e,SE._fromUser(e)),m_.get(e)}const sm="__sak";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Xx{constructor(e,n){this.storageRetriever=e,this.type=n}_isAvailable(){try{return this.storage?(this.storage.setItem(sm,"1"),this.storage.removeItem(sm),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(e,n){return this.storage.setItem(e,JSON.stringify(n)),Promise.resolve()}_get(e){const n=this.storage.getItem(e);return Promise.resolve(n?JSON.parse(n):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const cW=1e3,dW=10;class Zx extends Xx{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(e,n)=>this.onStorageEvent(e,n),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=Nx(),this._shouldAllowMigration=!0}forAllChangedKeys(e){for(const n of Object.keys(this.listeners)){const r=this.storage.getItem(n),i=this.localCache[n];r!==i&&e(n,i,r)}}onStorageEvent(e,n=!1){if(!e.key){this.forAllChangedKeys((o,a,l)=>{this.notifyListeners(o,l)});return}const r=e.key;n?this.detachListener():this.stopPolling();const i=()=>{const o=this.storage.getItem(r);!n&&this.localCache[r]===o||this.notifyListeners(r,o)},s=this.storage.getItem(r);Yz()&&s!==e.newValue&&e.newValue!==e.oldValue?setTimeout(i,dW):i()}notifyListeners(e,n){this.localCache[e]=n;const r=this.listeners[e];if(r)for(const i of Array.from(r))i(n&&JSON.parse(n))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((e,n,r)=>{this.onStorageEvent(new StorageEvent("storage",{key:e,oldValue:n,newValue:r}),!0)})},cW)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(e,n){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[e]||(this.listeners[e]=new Set,this.localCache[e]=this.storage.getItem(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(e,n){await super._set(e,n),this.localCache[e]=JSON.stringify(n)}async _get(e){const n=await super._get(e);return this.localCache[e]=JSON.stringify(n),n}async _remove(e){await super._remove(e),delete this.localCache[e]}}Zx.type="LOCAL";const wg=Zx;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class eO extends Xx{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(e,n){}_removeListener(e,n){}}eO.type="SESSION";const eo=eO;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function hW(t){return Promise.all(t.map(async e=>{try{return{fulfilled:!0,value:await e}}catch(n){return{fulfilled:!1,reason:n}}}))}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Eg{constructor(e){this.eventTarget=e,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(e){const n=this.receivers.find(i=>i.isListeningto(e));if(n)return n;const r=new Eg(e);return this.receivers.push(r),r}isListeningto(e){return this.eventTarget===e}async handleEvent(e){const n=e,{eventId:r,eventType:i,data:s}=n.data,o=this.handlersMap[i];if(!(o!=null&&o.size))return;n.ports[0].postMessage({status:"ack",eventId:r,eventType:i});const a=Array.from(o).map(async u=>u(n.origin,s)),l=await hW(a);n.ports[0].postMessage({status:"done",eventId:r,eventType:i,response:l})}_subscribe(e,n){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[e]||(this.handlersMap[e]=new Set),this.handlersMap[e].add(n)}_unsubscribe(e,n){this.handlersMap[e]&&n&&this.handlersMap[e].delete(n),(!n||this.handlersMap[e].size===0)&&delete this.handlersMap[e],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}Eg.receivers=[];/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ph(t="",e=10){let n="";for(let r=0;r<e;r++)n+=Math.floor(Math.random()*10);return t+n}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fW{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}async _send(e,n,r=50){const i=typeof MessageChannel<"u"?new MessageChannel:null;if(!i)throw new Error("connection_unavailable");let s,o;return new Promise((a,l)=>{const u=ph("",20);i.port1.start();const d=setTimeout(()=>{l(new Error("unsupported_event"))},r);o={messageChannel:i,onMessage(h){const f=h;if(f.data.eventId===u)switch(f.data.status){case"ack":clearTimeout(d),s=setTimeout(()=>{l(new Error("timeout"))},3e3);break;case"done":clearTimeout(s),a(f.data.response);break;default:clearTimeout(d),clearTimeout(s),l(new Error("invalid_response"));break}}},this.handlers.add(o),i.port1.addEventListener("message",o.onMessage),this.target.postMessage({eventType:e,eventId:u,data:n},[i.port2])}).finally(()=>{o&&this.removeMessageHandler(o)})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Pt(){return window}function pW(t){Pt().location.href=t}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function IE(){return typeof Pt().WorkerGlobalScope<"u"&&typeof Pt().importScripts=="function"}async function mW(){if(!(navigator!=null&&navigator.serviceWorker))return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function gW(){var t;return((t=navigator==null?void 0:navigator.serviceWorker)===null||t===void 0?void 0:t.controller)||null}function yW(){return IE()?self:null}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const tO="firebaseLocalStorageDb",_W=1,om="firebaseLocalStorage",nO="fbase_key";class mh{constructor(e){this.request=e}toPromise(){return new Promise((e,n)=>{this.request.addEventListener("success",()=>{e(this.request.result)}),this.request.addEventListener("error",()=>{n(this.request.error)})})}}function Sg(t,e){return t.transaction([om],e?"readwrite":"readonly").objectStore(om)}function vW(){const t=indexedDB.deleteDatabase(tO);return new mh(t).toPromise()}function Kv(){const t=indexedDB.open(tO,_W);return new Promise((e,n)=>{t.addEventListener("error",()=>{n(t.error)}),t.addEventListener("upgradeneeded",()=>{const r=t.result;try{r.createObjectStore(om,{keyPath:nO})}catch(i){n(i)}}),t.addEventListener("success",async()=>{const r=t.result;r.objectStoreNames.contains(om)?e(r):(r.close(),await vW(),e(await Kv()))})})}async function Ab(t,e,n){const r=Sg(t,!0).put({[nO]:e,value:n});return new mh(r).toPromise()}async function wW(t,e){const n=Sg(t,!1).get(e),r=await new mh(n).toPromise();return r===void 0?null:r.value}function Pb(t,e){const n=Sg(t,!0).delete(e);return new mh(n).toPromise()}const EW=800,SW=3;class rO{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await Kv(),this.db)}async _withRetries(e){let n=0;for(;;)try{const r=await this._openDb();return await e(r)}catch(r){if(n++>SW)throw r;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return IE()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=Eg._getInstance(yW()),this.receiver._subscribe("keyChanged",async(e,n)=>({keyProcessed:(await this._poll()).includes(n.key)})),this.receiver._subscribe("ping",async(e,n)=>["keyChanged"])}async initializeSender(){var e,n;if(this.activeServiceWorker=await mW(),!this.activeServiceWorker)return;this.sender=new fW(this.activeServiceWorker);const r=await this.sender._send("ping",{},800);r&&!((e=r[0])===null||e===void 0)&&e.fulfilled&&!((n=r[0])===null||n===void 0)&&n.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(e){if(!(!this.sender||!this.activeServiceWorker||gW()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:e},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const e=await Kv();return await Ab(e,sm,"1"),await Pb(e,sm),!0}catch{}return!1}async _withPendingWrite(e){this.pendingWrites++;try{await e()}finally{this.pendingWrites--}}async _set(e,n){return this._withPendingWrite(async()=>(await this._withRetries(r=>Ab(r,e,n)),this.localCache[e]=n,this.notifyServiceWorker(e)))}async _get(e){const n=await this._withRetries(r=>wW(r,e));return this.localCache[e]=n,n}async _remove(e){return this._withPendingWrite(async()=>(await this._withRetries(n=>Pb(n,e)),delete this.localCache[e],this.notifyServiceWorker(e)))}async _poll(){const e=await this._withRetries(i=>{const s=Sg(i,!1).getAll();return new mh(s).toPromise()});if(!e)return[];if(this.pendingWrites!==0)return[];const n=[],r=new Set;if(e.length!==0)for(const{fbase_key:i,value:s}of e)r.add(i),JSON.stringify(this.localCache[i])!==JSON.stringify(s)&&(this.notifyListeners(i,s),n.push(i));for(const i of Object.keys(this.localCache))this.localCache[i]&&!r.has(i)&&(this.notifyListeners(i,null),n.push(i));return n}notifyListeners(e,n){this.localCache[e]=n;const r=this.listeners[e];if(r)for(const i of Array.from(r))i(n)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),EW)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(e,n){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[e]||(this.listeners[e]=new Set,this._get(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&this.stopPolling()}}rO.type="LOCAL";const ql=rO;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function IW(t,e){return vt(t,"POST","/v2/accounts/mfaSignIn:start",_t(t,e))}function TW(t,e){return vt(t,"POST","/v2/accounts/mfaSignIn:finalize",_t(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const bW=500,RW=6e4,Ef=1e12;class AW{constructor(e){this.auth=e,this.counter=Ef,this._widgets=new Map}render(e,n){const r=this.counter;return this._widgets.set(r,new PW(e,this.auth.name,n||{})),this.counter++,r}reset(e){var n;const r=e||Ef;(n=this._widgets.get(r))===null||n===void 0||n.delete(),this._widgets.delete(r)}getResponse(e){var n;const r=e||Ef;return((n=this._widgets.get(r))===null||n===void 0?void 0:n.getResponse())||""}async execute(e){var n;const r=e||Ef;return(n=this._widgets.get(r))===null||n===void 0||n.execute(),""}}class PW{constructor(e,n,r){this.params=r,this.timerId=null,this.deleted=!1,this.responseToken=null,this.clickHandler=()=>{this.execute()};const i=typeof e=="string"?document.getElementById(e):e;q(i,"argument-error",{appName:n}),this.container=i,this.isVisible=this.params.size!=="invisible",this.isVisible?this.execute():this.container.addEventListener("click",this.clickHandler)}getResponse(){return this.checkIfDeleted(),this.responseToken}delete(){this.checkIfDeleted(),this.deleted=!0,this.timerId&&(clearTimeout(this.timerId),this.timerId=null),this.container.removeEventListener("click",this.clickHandler)}execute(){this.checkIfDeleted(),!this.timerId&&(this.timerId=window.setTimeout(()=>{this.responseToken=kW(50);const{callback:e,"expired-callback":n}=this.params;if(e)try{e(this.responseToken)}catch{}this.timerId=window.setTimeout(()=>{if(this.timerId=null,this.responseToken=null,n)try{n()}catch{}this.isVisible&&this.execute()},RW)},bW))}checkIfDeleted(){if(this.deleted)throw new Error("reCAPTCHA mock was already deleted!")}}function kW(t){const e=[],n="1234567890abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ";for(let r=0;r<t;r++)e.push(n.charAt(Math.floor(Math.random()*n.length)));return e.join("")}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const g_=Lx("rcb"),CW=new uh(3e4,6e4);class xW{constructor(){var e;this.hostLanguage="",this.counter=0,this.librarySeparatelyLoaded=!!(!((e=Pt().grecaptcha)===null||e===void 0)&&e.render)}load(e,n=""){return q(OW(n),e,"argument-error"),this.shouldResolveImmediately(n)&&_b(Pt().grecaptcha)?Promise.resolve(Pt().grecaptcha):new Promise((r,i)=>{const s=Pt().setTimeout(()=>{i(Lt(e,"network-request-failed"))},CW.get());Pt()[g_]=()=>{Pt().clearTimeout(s),delete Pt()[g_];const a=Pt().grecaptcha;if(!a||!_b(a)){i(Lt(e,"internal-error"));return}const l=a.render;a.render=(u,d)=>{const h=l(u,d);return this.counter++,h},this.hostLanguage=n,r(a)};const o=`${nj()}?${mu({onload:g_,render:"explicit",hl:n})}`;gE(o).catch(()=>{clearTimeout(s),i(Lt(e,"internal-error"))})})}clearedOneInstance(){this.counter--}shouldResolveImmediately(e){var n;return!!(!((n=Pt().grecaptcha)===null||n===void 0)&&n.render)&&(e===this.hostLanguage||this.counter>0||this.librarySeparatelyLoaded)}}function OW(t){return t.length<=6&&/^\s*[a-zA-Z0-9\-]*\s*$/.test(t)}class DW{async load(e){return new AW(e)}clearedOneInstance(){}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const iO="recaptcha",NW={theme:"light",type:"image"};let MW=class{constructor(e,n,r=Object.assign({},NW)){this.parameters=r,this.type=iO,this.destroyed=!1,this.widgetId=null,this.tokenChangeListeners=new Set,this.renderPromise=null,this.recaptcha=null,this.auth=mt(e),this.isInvisible=this.parameters.size==="invisible",q(typeof document<"u",this.auth,"operation-not-supported-in-this-environment");const i=typeof n=="string"?document.getElementById(n):n;q(i,this.auth,"argument-error"),this.container=i,this.parameters.callback=this.makeTokenCallback(this.parameters.callback),this._recaptchaLoader=this.auth.settings.appVerificationDisabledForTesting?new DW:new xW,this.validateStartingState()}async verify(){this.assertNotDestroyed();const e=await this.render(),n=this.getAssertedRecaptcha(),r=n.getResponse(e);return r||new Promise(i=>{const s=o=>{o&&(this.tokenChangeListeners.delete(s),i(o))};this.tokenChangeListeners.add(s),this.isInvisible&&n.execute(e)})}render(){try{this.assertNotDestroyed()}catch(e){return Promise.reject(e)}return this.renderPromise?this.renderPromise:(this.renderPromise=this.makeRenderPromise().catch(e=>{throw this.renderPromise=null,e}),this.renderPromise)}_reset(){this.assertNotDestroyed(),this.widgetId!==null&&this.getAssertedRecaptcha().reset(this.widgetId)}clear(){this.assertNotDestroyed(),this.destroyed=!0,this._recaptchaLoader.clearedOneInstance(),this.isInvisible||this.container.childNodes.forEach(e=>{this.container.removeChild(e)})}validateStartingState(){q(!this.parameters.sitekey,this.auth,"argument-error"),q(this.isInvisible||!this.container.hasChildNodes(),this.auth,"argument-error"),q(typeof document<"u",this.auth,"operation-not-supported-in-this-environment")}makeTokenCallback(e){return n=>{if(this.tokenChangeListeners.forEach(r=>r(n)),typeof e=="function")e(n);else if(typeof e=="string"){const r=Pt()[e];typeof r=="function"&&r(n)}}}assertNotDestroyed(){q(!this.destroyed,this.auth,"internal-error")}async makeRenderPromise(){if(await this.init(),!this.widgetId){let e=this.container;if(!this.isInvisible){const n=document.createElement("div");e.appendChild(n),e=n}this.widgetId=this.getAssertedRecaptcha().render(e,this.parameters)}return this.widgetId}async init(){q(pE()&&!IE(),this.auth,"internal-error"),await LW(),this.recaptcha=await this._recaptchaLoader.load(this.auth,this.auth.languageCode||void 0);const e=await Lz(this.auth);q(e,this.auth,"internal-error"),this.parameters.sitekey=e}getAssertedRecaptcha(){return q(this.recaptcha,this.auth,"internal-error"),this.recaptcha}};function LW(){let t=null;return new Promise(e=>{if(document.readyState==="complete"){e();return}t=()=>e(),window.addEventListener("load",t)}).catch(e=>{throw t&&window.removeEventListener("load",t),e})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class TE{constructor(e,n){this.verificationId=e,this.onConfirmation=n}confirm(e){const n=Xo._fromVerification(this.verificationId,e);return this.onConfirmation(n)}}async function VW(t,e,n){if(pt(t.app))return Promise.reject(Wt(t));const r=mt(t),i=await Ig(r,e,ie(n));return new TE(i,s=>_g(r,s))}async function FW(t,e,n){const r=ie(t);await yg(!1,r,"phone");const i=await Ig(r.auth,e,ie(n));return new TE(i,s=>qx(r,s))}async function UW(t,e,n){const r=ie(t);if(pt(r.auth.app))return Promise.reject(Wt(r.auth));const i=await Ig(r.auth,e,ie(n));return new TE(i,s=>Hx(r,s))}async function Ig(t,e,n){var r;const i=await n.verify();try{q(typeof i=="string",t,"argument-error"),q(n.type===iO,t,"argument-error");let s;if(typeof e=="string"?s={phoneNumber:e}:s=e,"session"in s){const o=s.session;if("phoneNumber"in s)return q(o.type==="enroll",t,"internal-error"),(await oW(t,{idToken:o.credential,phoneEnrollmentInfo:{phoneNumber:s.phoneNumber,recaptchaToken:i}})).phoneSessionInfo.sessionInfo;{q(o.type==="signin",t,"internal-error");const a=((r=s.multiFactorHint)===null||r===void 0?void 0:r.uid)||s.multiFactorUid;return q(a,t,"missing-multi-factor-info"),(await IW(t,{mfaPendingCredential:o.credential,mfaEnrollmentId:a,phoneSignInInfo:{recaptchaToken:i}})).phoneResponseInfo.sessionInfo}}else{const{sessionInfo:o}=await Ij(t,{phoneNumber:s.phoneNumber,recaptchaToken:i});return o}}finally{n._reset()}}async function BW(t,e){const n=ie(t);if(pt(n.auth.app))return Promise.reject(Wt(n.auth));await yE(n,e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let la=class Jf{constructor(e){this.providerId=Jf.PROVIDER_ID,this.auth=mt(e)}verifyPhoneNumber(e,n){return Ig(this.auth,e,ie(n))}static credential(e,n){return Xo._fromVerification(e,n)}static credentialFromResult(e){const n=e;return Jf.credentialFromTaggedObject(n)}static credentialFromError(e){return Jf.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{phoneNumber:n,temporaryProof:r}=e;return n&&r?Xo._fromTokenResponse(n,r):null}};la.PROVIDER_ID="phone";la.PHONE_SIGN_IN_METHOD="phone";/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ia(t,e){return e?Qn(e):(q(t._popupRedirectResolver,t,"argument-error"),t._popupRedirectResolver)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bE extends _u{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return zi(e,this._buildIdpRequest())}_linkToIdToken(e,n){return zi(e,this._buildIdpRequest(n))}_getReauthenticationResolver(e){return zi(e,this._buildIdpRequest())}_buildIdpRequest(e){const n={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(n.idToken=e),n}}function $W(t){return Wx(t.auth,new bE(t),t.bypassAuthState)}function zW(t){const{auth:e,user:n}=t;return q(n,e,"internal-error"),jx(n,new bE(t),t.bypassAuthState)}async function jW(t){const{auth:e,user:n}=t;return q(n,e,"internal-error"),yE(n,new bE(t),t.bypassAuthState)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sO{constructor(e,n,r,i,s=!1){this.auth=e,this.resolver=r,this.user=i,this.bypassAuthState=s,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(n)?n:[n]}execute(){return new Promise(async(e,n)=>{this.pendingPromise={resolve:e,reject:n};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(r){this.reject(r)}})}async onAuthEvent(e){const{urlResponse:n,sessionId:r,postBody:i,tenantId:s,error:o,type:a}=e;if(o){this.reject(o);return}const l={auth:this.auth,requestUri:n,sessionId:r,tenantId:s||void 0,postBody:i||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(a)(l))}catch(u){this.reject(u)}}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return $W;case"linkViaPopup":case"linkViaRedirect":return jW;case"reauthViaPopup":case"reauthViaRedirect":return zW;default:Ht(this.auth,"internal-error")}}resolve(e){Vr(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){Vr(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const WW=new uh(2e3,1e4);async function qW(t,e,n){if(pt(t.app))return Promise.reject(Lt(t,"operation-not-supported-in-this-environment"));const r=mt(t);yu(t,e,is);const i=Ia(r,n);return new Li(r,"signInViaPopup",e,i).executeNotNull()}async function HW(t,e,n){const r=ie(t);if(pt(r.auth.app))return Promise.reject(Lt(r.auth,"operation-not-supported-in-this-environment"));yu(r.auth,e,is);const i=Ia(r.auth,n);return new Li(r.auth,"reauthViaPopup",e,i,r).executeNotNull()}async function GW(t,e,n){const r=ie(t);yu(r.auth,e,is);const i=Ia(r.auth,n);return new Li(r.auth,"linkViaPopup",e,i,r).executeNotNull()}class Li extends sO{constructor(e,n,r,i,s){super(e,n,i,s),this.provider=r,this.authWindow=null,this.pollId=null,Li.currentPopupAction&&Li.currentPopupAction.cancel(),Li.currentPopupAction=this}async executeNotNull(){const e=await this.execute();return q(e,this.auth,"internal-error"),e}async onExecution(){Vr(this.filter.length===1,"Popup operations only handle one event");const e=ph();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],e),this.authWindow.associatedEvent=e,this.resolver._originValidation(this.auth).catch(n=>{this.reject(n)}),this.resolver._isIframeWebStorageSupported(this.auth,n=>{n||this.reject(Lt(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){var e;return((e=this.authWindow)===null||e===void 0?void 0:e.associatedEvent)||null}cancel(){this.reject(Lt(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,Li.currentPopupAction=null}pollUserCancellation(){const e=()=>{var n,r;if(!((r=(n=this.authWindow)===null||n===void 0?void 0:n.window)===null||r===void 0)&&r.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(Lt(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(e,WW.get())};e()}}Li.currentPopupAction=null;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const KW="pendingRedirect",jc=new Map;class YW extends sO{constructor(e,n,r=!1){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],n,void 0,r),this.eventId=null}async execute(){let e=jc.get(this.auth._key());if(!e){try{const r=await QW(this.resolver,this.auth)?await super.execute():null;e=()=>Promise.resolve(r)}catch(n){e=()=>Promise.reject(n)}jc.set(this.auth._key(),e)}return this.bypassAuthState||jc.set(this.auth._key(),()=>Promise.resolve(null)),e()}async onAuthEvent(e){if(e.type==="signInViaRedirect")return super.onAuthEvent(e);if(e.type==="unknown"){this.resolve(null);return}if(e.eventId){const n=await this.auth._redirectUserForId(e.eventId);if(n)return this.user=n,super.onAuthEvent(e);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function QW(t,e){const n=aO(e),r=oO(t);if(!await r._isAvailable())return!1;const i=await r._get(n)==="true";return await r._remove(n),i}async function RE(t,e){return oO(t)._set(aO(e),"true")}function JW(){jc.clear()}function AE(t,e){jc.set(t._key(),e)}function oO(t){return Qn(t._redirectPersistence)}function aO(t){return Jo(KW,t.config.apiKey,t.name)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function XW(t,e,n){return ZW(t,e,n)}async function ZW(t,e,n){if(pt(t.app))return Promise.reject(Wt(t));const r=mt(t);yu(t,e,is),await r._initializationPromise;const i=Ia(r,n);return await RE(i,r),i._openRedirect(r,e,"signInViaRedirect")}function e8(t,e,n){return t8(t,e,n)}async function t8(t,e,n){const r=ie(t);if(yu(r.auth,e,is),pt(r.auth.app))return Promise.reject(Wt(r.auth));await r.auth._initializationPromise;const i=Ia(r.auth,n);await RE(i,r.auth);const s=await lO(r);return i._openRedirect(r.auth,e,"reauthViaRedirect",s)}function n8(t,e,n){return r8(t,e,n)}async function r8(t,e,n){const r=ie(t);yu(r.auth,e,is),await r.auth._initializationPromise;const i=Ia(r.auth,n);await yg(!1,r,e.providerId),await RE(i,r.auth);const s=await lO(r);return i._openRedirect(r.auth,e,"linkViaRedirect",s)}async function i8(t,e){return await mt(t)._initializationPromise,Tg(t,e,!1)}async function Tg(t,e,n=!1){if(pt(t.app))return Promise.reject(Wt(t));const r=mt(t),i=Ia(r,e),o=await new YW(r,i,n).execute();return o&&!n&&(delete o.user._redirectEventId,await r._persistUserIfCurrent(o.user),await r._setRedirectUser(null,e)),o}async function lO(t){const e=ph(`${t.uid}:::`);return t._redirectEventId=e,await t.auth._setRedirectUser(t),await t.auth._persistUserIfCurrent(t),e}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const s8=10*60*1e3;class uO{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let n=!1;return this.consumers.forEach(r=>{this.isEventForConsumer(e,r)&&(n=!0,this.sendToConsumer(e,r),this.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!o8(e)||(this.hasHandledPotentialRedirect=!0,n||(this.queuedRedirectEvent=e,n=!0)),n}sendToConsumer(e,n){var r;if(e.error&&!cO(e)){const i=((r=e.error.code)===null||r===void 0?void 0:r.split("auth/")[1])||"internal-error";n.onError(Lt(this.auth,i))}else n.onAuthEvent(e)}isEventForConsumer(e,n){const r=n.eventId===null||!!e.eventId&&e.eventId===n.eventId;return n.filter.includes(e.type)&&r}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=s8&&this.cachedEventUids.clear(),this.cachedEventUids.has(kb(e))}saveEventToCache(e){this.cachedEventUids.add(kb(e)),this.lastProcessedEventTime=Date.now()}}function kb(t){return[t.type,t.eventId,t.sessionId,t.tenantId].filter(e=>e).join("-")}function cO({type:t,error:e}){return t==="unknown"&&(e==null?void 0:e.code)==="auth/no-auth-event"}function o8(t){switch(t.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return cO(t);default:return!1}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function dO(t,e={}){return vt(t,"GET","/v1/projects",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const a8=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,l8=/^https?/;async function u8(t){if(t.config.emulator)return;const{authorizedDomains:e}=await dO(t);for(const n of e)try{if(c8(n))return}catch{}Ht(t,"unauthorized-domain")}function c8(t){const e=bd(),{protocol:n,hostname:r}=new URL(e);if(t.startsWith("chrome-extension://")){const o=new URL(t);return o.hostname===""&&r===""?n==="chrome-extension:"&&t.replace("chrome-extension://","")===e.replace("chrome-extension://",""):n==="chrome-extension:"&&o.hostname===r}if(!l8.test(n))return!1;if(a8.test(t))return r===t;const i=t.replace(/\./g,"\\.");return new RegExp("^(.+\\."+i+"|"+i+")$","i").test(r)}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const d8=new uh(3e4,6e4);function Cb(){const t=Pt().___jsl;if(t!=null&&t.H){for(const e of Object.keys(t.H))if(t.H[e].r=t.H[e].r||[],t.H[e].L=t.H[e].L||[],t.H[e].r=[...t.H[e].L],t.CP)for(let n=0;n<t.CP.length;n++)t.CP[n]=null}}function h8(t){return new Promise((e,n)=>{var r,i,s;function o(){Cb(),gapi.load("gapi.iframes",{callback:()=>{e(gapi.iframes.getContext())},ontimeout:()=>{Cb(),n(Lt(t,"network-request-failed"))},timeout:d8.get()})}if(!((i=(r=Pt().gapi)===null||r===void 0?void 0:r.iframes)===null||i===void 0)&&i.Iframe)e(gapi.iframes.getContext());else if(!((s=Pt().gapi)===null||s===void 0)&&s.load)o();else{const a=Lx("iframefcb");return Pt()[a]=()=>{gapi.load?o():n(Lt(t,"network-request-failed"))},gE(`${ij()}?onload=${a}`).catch(l=>n(l))}}).catch(e=>{throw Xf=null,e})}let Xf=null;function f8(t){return Xf=Xf||h8(t),Xf}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const p8=new uh(5e3,15e3),m8="__/auth/iframe",g8="emulator/auth/iframe",y8={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},_8=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function v8(t){const e=t.config;q(e.authDomain,t,"auth-domain-config-required");const n=e.emulator?mE(e,g8):`https://${t.config.authDomain}/${m8}`,r={apiKey:e.apiKey,appName:t.name,v:mo},i=_8.get(t.config.apiHost);i&&(r.eid=i);const s=t._getFrameworks();return s.length&&(r.fw=s.join(",")),`${n}?${mu(r).slice(1)}`}async function w8(t){const e=await f8(t),n=Pt().gapi;return q(n,t,"internal-error"),e.open({where:document.body,url:v8(t),messageHandlersFilter:n.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:y8,dontclear:!0},r=>new Promise(async(i,s)=>{await r.restyle({setHideOnLeave:!1});const o=Lt(t,"network-request-failed"),a=Pt().setTimeout(()=>{s(o)},p8.get());function l(){Pt().clearTimeout(a),i(r)}r.ping(l).then(l,()=>{s(o)})}))}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const E8={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},S8=500,I8=600,T8="_blank",b8="http://localhost";class xb{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function R8(t,e,n,r=S8,i=I8){const s=Math.max((window.screen.availHeight-i)/2,0).toString(),o=Math.max((window.screen.availWidth-r)/2,0).toString();let a="";const l=Object.assign(Object.assign({},E8),{width:r.toString(),height:i.toString(),top:s,left:o}),u=ut().toLowerCase();n&&(a=Cx(u)?T8:n),Px(u)&&(e=e||b8,l.scrollbars="yes");const d=Object.entries(l).reduce((f,[g,_])=>`${f}${g}=${_},`,"");if(Kz(u)&&a!=="_self")return A8(e||"",a),new xb(null);const h=window.open(e||"",a,d);q(h,t,"popup-blocked");try{h.focus()}catch{}return new xb(h)}function A8(t,e){const n=document.createElement("a");n.href=t,n.target=e;const r=document.createEvent("MouseEvent");r.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),n.dispatchEvent(r)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const P8="__/auth/handler",k8="emulator/auth/handler",C8=encodeURIComponent("fac");async function Yv(t,e,n,r,i,s){q(t.config.authDomain,t,"auth-domain-config-required"),q(t.config.apiKey,t,"invalid-api-key");const o={apiKey:t.config.apiKey,appName:t.name,authType:n,redirectUrl:r,v:mo,eventId:i};if(e instanceof is){e.setDefaultLanguage(t.languageCode),o.providerId=e.providerId||"",r9(e.getCustomParameters())||(o.customParameters=JSON.stringify(e.getCustomParameters()));for(const[d,h]of Object.entries(s||{}))o[d]=h}if(e instanceof vu){const d=e.getScopes().filter(h=>h!=="");d.length>0&&(o.scopes=d.join(","))}t.tenantId&&(o.tid=t.tenantId);const a=o;for(const d of Object.keys(a))a[d]===void 0&&delete a[d];const l=await t._getAppCheckToken(),u=l?`#${C8}=${encodeURIComponent(l)}`:"";return`${x8(t)}?${mu(a).slice(1)}${u}`}function x8({config:t}){return t.emulator?mE(t,k8):`https://${t.authDomain}/${P8}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const y_="webStorageSupport";class O8{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=eo,this._completeRedirectFn=Tg,this._overrideRedirectResult=AE}async _openPopup(e,n,r,i){var s;Vr((s=this.eventManagers[e._key()])===null||s===void 0?void 0:s.manager,"_initialize() not called before _openPopup()");const o=await Yv(e,n,r,bd(),i);return R8(e,o,ph())}async _openRedirect(e,n,r,i){await this._originValidation(e);const s=await Yv(e,n,r,bd(),i);return pW(s),new Promise(()=>{})}_initialize(e){const n=e._key();if(this.eventManagers[n]){const{manager:i,promise:s}=this.eventManagers[n];return i?Promise.resolve(i):(Vr(s,"If manager is not set, promise should be"),s)}const r=this.initAndGetManager(e);return this.eventManagers[n]={promise:r},r.catch(()=>{delete this.eventManagers[n]}),r}async initAndGetManager(e){const n=await w8(e),r=new uO(e);return n.register("authEvent",i=>(q(i==null?void 0:i.authEvent,e,"invalid-auth-event"),{status:r.onEvent(i.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[e._key()]={manager:r},this.iframes[e._key()]=n,r}_isIframeWebStorageSupported(e,n){this.iframes[e._key()].send(y_,{type:y_},i=>{var s;const o=(s=i==null?void 0:i[0])===null||s===void 0?void 0:s[y_];o!==void 0&&n(!!o),Ht(e,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){const n=e._key();return this.originValidationPromises[n]||(this.originValidationPromises[n]=u8(e)),this.originValidationPromises[n]}get _shouldInitProactively(){return Nx()||kx()||dh()}}const hO=O8;class D8{constructor(e){this.factorId=e}_process(e,n,r){switch(n.type){case"enroll":return this._finalizeEnroll(e,n.credential,r);case"signin":return this._finalizeSignIn(e,n.credential);default:return ii("unexpected MultiFactorSessionType")}}}class PE extends D8{constructor(e){super("phone"),this.credential=e}static _fromCredential(e){return new PE(e)}_finalizeEnroll(e,n,r){return aW(e,{idToken:n,displayName:r,phoneVerificationInfo:this.credential._makeVerificationRequest()})}_finalizeSignIn(e,n){return TW(e,{mfaPendingCredential:n,phoneVerificationInfo:this.credential._makeVerificationRequest()})}}class fO{constructor(){}static assertion(e){return PE._fromCredential(e)}}fO.FACTOR_ID="phone";var Ob="@firebase/auth",Db="1.7.9";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class N8{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){var e;return this.assertAuthConfigured(),((e=this.auth.currentUser)===null||e===void 0?void 0:e.uid)||null}async getToken(e){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(e)}:null}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;const n=this.auth.onIdTokenChanged(r=>{e((r==null?void 0:r.stsTokenManager.accessToken)||null)});this.internalListeners.set(e,n),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();const n=this.internalListeners.get(e);n&&(this.internalListeners.delete(e),n(),this.updateProactiveRefresh())}assertAuthConfigured(){q(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function M8(t){switch(t){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function L8(t){Zs(new hi("auth",(e,{options:n})=>{const r=e.getProvider("app").getImmediate(),i=e.getProvider("heartbeat"),s=e.getProvider("app-check-internal"),{apiKey:o,authDomain:a}=r.options;q(o&&!o.includes(":"),"invalid-api-key",{appName:r.name});const l={apiKey:o,authDomain:a,clientPlatform:t,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:Mx(t)},u=new ej(r,i,s,l);return uj(u,n),u},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,n,r)=>{e.getProvider("auth-internal").initialize()})),Zs(new hi("auth-internal",e=>{const n=mt(e.getProvider("auth").getImmediate());return(r=>new N8(r))(n)},"PRIVATE").setInstantiationMode("EXPLICIT")),Mr(Ob,Db,M8(t)),Mr(Ob,Db,"esm2017")}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const V8=5*60,F8=tx("authIdTokenMaxAge")||V8;let Nb=null;const U8=t=>async e=>{const n=e&&await e.getIdTokenResult(),r=n&&(new Date().getTime()-Date.parse(n.issuedAtTime))/1e3;if(r&&r>F8)return;const i=n==null?void 0:n.token;Nb!==i&&(Nb=i,await fetch(t,{method:i?"POST":"DELETE",headers:i?{Authorization:`Bearer ${i}`}:{}}))};function B8(t=px()){const e=fg(t,"auth");if(e.isInitialized())return e.getImmediate();const n=lj(t,{popupRedirectResolver:hO,persistence:[ql,wg,eo]}),r=tx("authTokenSyncURL");if(r&&typeof isSecureContext=="boolean"&&isSecureContext){const s=new URL(r,location.origin);if(location.origin===s.origin){const o=U8(s.toString());iW(n,o,()=>o(n.currentUser)),rW(n,a=>o(a))}}const i=G$("auth");return i&&Vx(n,`http://${i}`),n}function $8(){var t,e;return(e=(t=document.getElementsByTagName("head"))===null||t===void 0?void 0:t[0])!==null&&e!==void 0?e:document}tj({loadJS(t){return new Promise((e,n)=>{const r=document.createElement("script");r.setAttribute("src",t),r.onload=e,r.onerror=i=>{const s=Lt("internal-error");s.customData=i,n(s)},r.type="text/javascript",r.charset="UTF-8",$8().appendChild(r)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});L8("Browser");var Mb=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var Zo,pO;(function(){var t;/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/function e(b,S){function m(){}m.prototype=S.prototype,b.D=S.prototype,b.prototype=new m,b.prototype.constructor=b,b.C=function(A,k,D){for(var P=Array(arguments.length-2),we=2;we<arguments.length;we++)P[we-2]=arguments[we];return S.prototype[k].apply(A,P)}}function n(){this.blockSize=-1}function r(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.B=Array(this.blockSize),this.o=this.h=0,this.s()}e(r,n),r.prototype.s=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function i(b,S,m){m||(m=0);var A=Array(16);if(typeof S=="string")for(var k=0;16>k;++k)A[k]=S.charCodeAt(m++)|S.charCodeAt(m++)<<8|S.charCodeAt(m++)<<16|S.charCodeAt(m++)<<24;else for(k=0;16>k;++k)A[k]=S[m++]|S[m++]<<8|S[m++]<<16|S[m++]<<24;S=b.g[0],m=b.g[1],k=b.g[2];var D=b.g[3],P=S+(D^m&(k^D))+A[0]+3614090360&4294967295;S=m+(P<<7&4294967295|P>>>25),P=D+(k^S&(m^k))+A[1]+3905402710&4294967295,D=S+(P<<12&4294967295|P>>>20),P=k+(m^D&(S^m))+A[2]+606105819&4294967295,k=D+(P<<17&4294967295|P>>>15),P=m+(S^k&(D^S))+A[3]+3250441966&4294967295,m=k+(P<<22&4294967295|P>>>10),P=S+(D^m&(k^D))+A[4]+4118548399&4294967295,S=m+(P<<7&4294967295|P>>>25),P=D+(k^S&(m^k))+A[5]+1200080426&4294967295,D=S+(P<<12&4294967295|P>>>20),P=k+(m^D&(S^m))+A[6]+2821735955&4294967295,k=D+(P<<17&4294967295|P>>>15),P=m+(S^k&(D^S))+A[7]+4249261313&4294967295,m=k+(P<<22&4294967295|P>>>10),P=S+(D^m&(k^D))+A[8]+1770035416&4294967295,S=m+(P<<7&4294967295|P>>>25),P=D+(k^S&(m^k))+A[9]+2336552879&4294967295,D=S+(P<<12&4294967295|P>>>20),P=k+(m^D&(S^m))+A[10]+4294925233&4294967295,k=D+(P<<17&4294967295|P>>>15),P=m+(S^k&(D^S))+A[11]+2304563134&4294967295,m=k+(P<<22&4294967295|P>>>10),P=S+(D^m&(k^D))+A[12]+1804603682&4294967295,S=m+(P<<7&4294967295|P>>>25),P=D+(k^S&(m^k))+A[13]+4254626195&4294967295,D=S+(P<<12&4294967295|P>>>20),P=k+(m^D&(S^m))+A[14]+2792965006&4294967295,k=D+(P<<17&4294967295|P>>>15),P=m+(S^k&(D^S))+A[15]+1236535329&4294967295,m=k+(P<<22&4294967295|P>>>10),P=S+(k^D&(m^k))+A[1]+4129170786&4294967295,S=m+(P<<5&4294967295|P>>>27),P=D+(m^k&(S^m))+A[6]+3225465664&4294967295,D=S+(P<<9&4294967295|P>>>23),P=k+(S^m&(D^S))+A[11]+643717713&4294967295,k=D+(P<<14&4294967295|P>>>18),P=m+(D^S&(k^D))+A[0]+3921069994&4294967295,m=k+(P<<20&4294967295|P>>>12),P=S+(k^D&(m^k))+A[5]+3593408605&4294967295,S=m+(P<<5&4294967295|P>>>27),P=D+(m^k&(S^m))+A[10]+38016083&4294967295,D=S+(P<<9&4294967295|P>>>23),P=k+(S^m&(D^S))+A[15]+3634488961&4294967295,k=D+(P<<14&4294967295|P>>>18),P=m+(D^S&(k^D))+A[4]+3889429448&4294967295,m=k+(P<<20&4294967295|P>>>12),P=S+(k^D&(m^k))+A[9]+568446438&4294967295,S=m+(P<<5&4294967295|P>>>27),P=D+(m^k&(S^m))+A[14]+3275163606&4294967295,D=S+(P<<9&4294967295|P>>>23),P=k+(S^m&(D^S))+A[3]+4107603335&4294967295,k=D+(P<<14&4294967295|P>>>18),P=m+(D^S&(k^D))+A[8]+1163531501&4294967295,m=k+(P<<20&4294967295|P>>>12),P=S+(k^D&(m^k))+A[13]+2850285829&4294967295,S=m+(P<<5&4294967295|P>>>27),P=D+(m^k&(S^m))+A[2]+4243563512&4294967295,D=S+(P<<9&4294967295|P>>>23),P=k+(S^m&(D^S))+A[7]+1735328473&4294967295,k=D+(P<<14&4294967295|P>>>18),P=m+(D^S&(k^D))+A[12]+2368359562&4294967295,m=k+(P<<20&4294967295|P>>>12),P=S+(m^k^D)+A[5]+4294588738&4294967295,S=m+(P<<4&4294967295|P>>>28),P=D+(S^m^k)+A[8]+2272392833&4294967295,D=S+(P<<11&4294967295|P>>>21),P=k+(D^S^m)+A[11]+1839030562&4294967295,k=D+(P<<16&4294967295|P>>>16),P=m+(k^D^S)+A[14]+4259657740&4294967295,m=k+(P<<23&4294967295|P>>>9),P=S+(m^k^D)+A[1]+2763975236&4294967295,S=m+(P<<4&4294967295|P>>>28),P=D+(S^m^k)+A[4]+1272893353&4294967295,D=S+(P<<11&4294967295|P>>>21),P=k+(D^S^m)+A[7]+4139469664&4294967295,k=D+(P<<16&4294967295|P>>>16),P=m+(k^D^S)+A[10]+3200236656&4294967295,m=k+(P<<23&4294967295|P>>>9),P=S+(m^k^D)+A[13]+681279174&4294967295,S=m+(P<<4&4294967295|P>>>28),P=D+(S^m^k)+A[0]+3936430074&4294967295,D=S+(P<<11&4294967295|P>>>21),P=k+(D^S^m)+A[3]+3572445317&4294967295,k=D+(P<<16&4294967295|P>>>16),P=m+(k^D^S)+A[6]+76029189&4294967295,m=k+(P<<23&4294967295|P>>>9),P=S+(m^k^D)+A[9]+3654602809&4294967295,S=m+(P<<4&4294967295|P>>>28),P=D+(S^m^k)+A[12]+3873151461&4294967295,D=S+(P<<11&4294967295|P>>>21),P=k+(D^S^m)+A[15]+530742520&4294967295,k=D+(P<<16&4294967295|P>>>16),P=m+(k^D^S)+A[2]+3299628645&4294967295,m=k+(P<<23&4294967295|P>>>9),P=S+(k^(m|~D))+A[0]+4096336452&4294967295,S=m+(P<<6&4294967295|P>>>26),P=D+(m^(S|~k))+A[7]+1126891415&4294967295,D=S+(P<<10&4294967295|P>>>22),P=k+(S^(D|~m))+A[14]+2878612391&4294967295,k=D+(P<<15&4294967295|P>>>17),P=m+(D^(k|~S))+A[5]+4237533241&4294967295,m=k+(P<<21&4294967295|P>>>11),P=S+(k^(m|~D))+A[12]+1700485571&4294967295,S=m+(P<<6&4294967295|P>>>26),P=D+(m^(S|~k))+A[3]+2399980690&4294967295,D=S+(P<<10&4294967295|P>>>22),P=k+(S^(D|~m))+A[10]+4293915773&4294967295,k=D+(P<<15&4294967295|P>>>17),P=m+(D^(k|~S))+A[1]+2240044497&4294967295,m=k+(P<<21&4294967295|P>>>11),P=S+(k^(m|~D))+A[8]+1873313359&4294967295,S=m+(P<<6&4294967295|P>>>26),P=D+(m^(S|~k))+A[15]+4264355552&4294967295,D=S+(P<<10&4294967295|P>>>22),P=k+(S^(D|~m))+A[6]+2734768916&4294967295,k=D+(P<<15&4294967295|P>>>17),P=m+(D^(k|~S))+A[13]+1309151649&4294967295,m=k+(P<<21&4294967295|P>>>11),P=S+(k^(m|~D))+A[4]+4149444226&4294967295,S=m+(P<<6&4294967295|P>>>26),P=D+(m^(S|~k))+A[11]+3174756917&4294967295,D=S+(P<<10&4294967295|P>>>22),P=k+(S^(D|~m))+A[2]+718787259&4294967295,k=D+(P<<15&4294967295|P>>>17),P=m+(D^(k|~S))+A[9]+3951481745&4294967295,b.g[0]=b.g[0]+S&4294967295,b.g[1]=b.g[1]+(k+(P<<21&4294967295|P>>>11))&4294967295,b.g[2]=b.g[2]+k&4294967295,b.g[3]=b.g[3]+D&4294967295}r.prototype.u=function(b,S){S===void 0&&(S=b.length);for(var m=S-this.blockSize,A=this.B,k=this.h,D=0;D<S;){if(k==0)for(;D<=m;)i(this,b,D),D+=this.blockSize;if(typeof b=="string"){for(;D<S;)if(A[k++]=b.charCodeAt(D++),k==this.blockSize){i(this,A),k=0;break}}else for(;D<S;)if(A[k++]=b[D++],k==this.blockSize){i(this,A),k=0;break}}this.h=k,this.o+=S},r.prototype.v=function(){var b=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);b[0]=128;for(var S=1;S<b.length-8;++S)b[S]=0;var m=8*this.o;for(S=b.length-8;S<b.length;++S)b[S]=m&255,m/=256;for(this.u(b),b=Array(16),S=m=0;4>S;++S)for(var A=0;32>A;A+=8)b[m++]=this.g[S]>>>A&255;return b};function s(b,S){var m=a;return Object.prototype.hasOwnProperty.call(m,b)?m[b]:m[b]=S(b)}function o(b,S){this.h=S;for(var m=[],A=!0,k=b.length-1;0<=k;k--){var D=b[k]|0;A&&D==S||(m[k]=D,A=!1)}this.g=m}var a={};function l(b){return-128<=b&&128>b?s(b,function(S){return new o([S|0],0>S?-1:0)}):new o([b|0],0>b?-1:0)}function u(b){if(isNaN(b)||!isFinite(b))return h;if(0>b)return T(u(-b));for(var S=[],m=1,A=0;b>=m;A++)S[A]=b/m|0,m*=4294967296;return new o(S,0)}function d(b,S){if(b.length==0)throw Error("number format error: empty string");if(S=S||10,2>S||36<S)throw Error("radix out of range: "+S);if(b.charAt(0)=="-")return T(d(b.substring(1),S));if(0<=b.indexOf("-"))throw Error('number format error: interior "-" character');for(var m=u(Math.pow(S,8)),A=h,k=0;k<b.length;k+=8){var D=Math.min(8,b.length-k),P=parseInt(b.substring(k,k+D),S);8>D?(D=u(Math.pow(S,D)),A=A.j(D).add(u(P))):(A=A.j(m),A=A.add(u(P)))}return A}var h=l(0),f=l(1),g=l(16777216);t=o.prototype,t.m=function(){if(v(this))return-T(this).m();for(var b=0,S=1,m=0;m<this.g.length;m++){var A=this.i(m);b+=(0<=A?A:4294967296+A)*S,S*=4294967296}return b},t.toString=function(b){if(b=b||10,2>b||36<b)throw Error("radix out of range: "+b);if(_(this))return"0";if(v(this))return"-"+T(this).toString(b);for(var S=u(Math.pow(b,6)),m=this,A="";;){var k=O(m,S).g;m=I(m,k.j(S));var D=((0<m.g.length?m.g[0]:m.h)>>>0).toString(b);if(m=k,_(m))return D+A;for(;6>D.length;)D="0"+D;A=D+A}},t.i=function(b){return 0>b?0:b<this.g.length?this.g[b]:this.h};function _(b){if(b.h!=0)return!1;for(var S=0;S<b.g.length;S++)if(b.g[S]!=0)return!1;return!0}function v(b){return b.h==-1}t.l=function(b){return b=I(this,b),v(b)?-1:_(b)?0:1};function T(b){for(var S=b.g.length,m=[],A=0;A<S;A++)m[A]=~b.g[A];return new o(m,~b.h).add(f)}t.abs=function(){return v(this)?T(this):this},t.add=function(b){for(var S=Math.max(this.g.length,b.g.length),m=[],A=0,k=0;k<=S;k++){var D=A+(this.i(k)&65535)+(b.i(k)&65535),P=(D>>>16)+(this.i(k)>>>16)+(b.i(k)>>>16);A=P>>>16,D&=65535,P&=65535,m[k]=P<<16|D}return new o(m,m[m.length-1]&-2147483648?-1:0)};function I(b,S){return b.add(T(S))}t.j=function(b){if(_(this)||_(b))return h;if(v(this))return v(b)?T(this).j(T(b)):T(T(this).j(b));if(v(b))return T(this.j(T(b)));if(0>this.l(g)&&0>b.l(g))return u(this.m()*b.m());for(var S=this.g.length+b.g.length,m=[],A=0;A<2*S;A++)m[A]=0;for(A=0;A<this.g.length;A++)for(var k=0;k<b.g.length;k++){var D=this.i(A)>>>16,P=this.i(A)&65535,we=b.i(k)>>>16,fe=b.i(k)&65535;m[2*A+2*k]+=P*fe,w(m,2*A+2*k),m[2*A+2*k+1]+=D*fe,w(m,2*A+2*k+1),m[2*A+2*k+1]+=P*we,w(m,2*A+2*k+1),m[2*A+2*k+2]+=D*we,w(m,2*A+2*k+2)}for(A=0;A<S;A++)m[A]=m[2*A+1]<<16|m[2*A];for(A=S;A<2*S;A++)m[A]=0;return new o(m,0)};function w(b,S){for(;(b[S]&65535)!=b[S];)b[S+1]+=b[S]>>>16,b[S]&=65535,S++}function E(b,S){this.g=b,this.h=S}function O(b,S){if(_(S))throw Error("division by zero");if(_(b))return new E(h,h);if(v(b))return S=O(T(b),S),new E(T(S.g),T(S.h));if(v(S))return S=O(b,T(S)),new E(T(S.g),S.h);if(30<b.g.length){if(v(b)||v(S))throw Error("slowDivide_ only works with positive integers.");for(var m=f,A=S;0>=A.l(b);)m=C(m),A=C(A);var k=N(m,1),D=N(A,1);for(A=N(A,2),m=N(m,2);!_(A);){var P=D.add(A);0>=P.l(b)&&(k=k.add(m),D=P),A=N(A,1),m=N(m,1)}return S=I(b,k.j(S)),new E(k,S)}for(k=h;0<=b.l(S);){for(m=Math.max(1,Math.floor(b.m()/S.m())),A=Math.ceil(Math.log(m)/Math.LN2),A=48>=A?1:Math.pow(2,A-48),D=u(m),P=D.j(S);v(P)||0<P.l(b);)m-=A,D=u(m),P=D.j(S);_(D)&&(D=f),k=k.add(D),b=I(b,P)}return new E(k,b)}t.A=function(b){return O(this,b).h},t.and=function(b){for(var S=Math.max(this.g.length,b.g.length),m=[],A=0;A<S;A++)m[A]=this.i(A)&b.i(A);return new o(m,this.h&b.h)},t.or=function(b){for(var S=Math.max(this.g.length,b.g.length),m=[],A=0;A<S;A++)m[A]=this.i(A)|b.i(A);return new o(m,this.h|b.h)},t.xor=function(b){for(var S=Math.max(this.g.length,b.g.length),m=[],A=0;A<S;A++)m[A]=this.i(A)^b.i(A);return new o(m,this.h^b.h)};function C(b){for(var S=b.g.length+1,m=[],A=0;A<S;A++)m[A]=b.i(A)<<1|b.i(A-1)>>>31;return new o(m,b.h)}function N(b,S){var m=S>>5;S%=32;for(var A=b.g.length-m,k=[],D=0;D<A;D++)k[D]=0<S?b.i(D+m)>>>S|b.i(D+m+1)<<32-S:b.i(D+m);return new o(k,b.h)}r.prototype.digest=r.prototype.v,r.prototype.reset=r.prototype.s,r.prototype.update=r.prototype.u,pO=r,o.prototype.add=o.prototype.add,o.prototype.multiply=o.prototype.j,o.prototype.modulo=o.prototype.A,o.prototype.compare=o.prototype.l,o.prototype.toNumber=o.prototype.m,o.prototype.toString=o.prototype.toString,o.prototype.getBits=o.prototype.i,o.fromNumber=u,o.fromString=d,Zo=o}).apply(typeof Mb<"u"?Mb:typeof self<"u"?self:typeof window<"u"?window:{});var Sf=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var mO,gO,Tc,yO,Zf,Qv,_O,vO,wO;(function(){var t,e=typeof Object.defineProperties=="function"?Object.defineProperty:function(c,p,y){return c==Array.prototype||c==Object.prototype||(c[p]=y.value),c};function n(c){c=[typeof globalThis=="object"&&globalThis,c,typeof window=="object"&&window,typeof self=="object"&&self,typeof Sf=="object"&&Sf];for(var p=0;p<c.length;++p){var y=c[p];if(y&&y.Math==Math)return y}throw Error("Cannot find global object")}var r=n(this);function i(c,p){if(p)e:{var y=r;c=c.split(".");for(var R=0;R<c.length-1;R++){var M=c[R];if(!(M in y))break e;y=y[M]}c=c[c.length-1],R=y[c],p=p(R),p!=R&&p!=null&&e(y,c,{configurable:!0,writable:!0,value:p})}}function s(c,p){c instanceof String&&(c+="");var y=0,R=!1,M={next:function(){if(!R&&y<c.length){var F=y++;return{value:p(F,c[F]),done:!1}}return R=!0,{done:!0,value:void 0}}};return M[Symbol.iterator]=function(){return M},M}i("Array.prototype.values",function(c){return c||function(){return s(this,function(p,y){return y})}});/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/var o=o||{},a=this||self;function l(c){var p=typeof c;return p=p!="object"?p:c?Array.isArray(c)?"array":p:"null",p=="array"||p=="object"&&typeof c.length=="number"}function u(c){var p=typeof c;return p=="object"&&c!=null||p=="function"}function d(c,p,y){return c.call.apply(c.bind,arguments)}function h(c,p,y){if(!c)throw Error();if(2<arguments.length){var R=Array.prototype.slice.call(arguments,2);return function(){var M=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(M,R),c.apply(p,M)}}return function(){return c.apply(p,arguments)}}function f(c,p,y){return f=Function.prototype.bind&&Function.prototype.bind.toString().indexOf("native code")!=-1?d:h,f.apply(null,arguments)}function g(c,p){var y=Array.prototype.slice.call(arguments,1);return function(){var R=y.slice();return R.push.apply(R,arguments),c.apply(this,R)}}function _(c,p){function y(){}y.prototype=p.prototype,c.aa=p.prototype,c.prototype=new y,c.prototype.constructor=c,c.Qb=function(R,M,F){for(var G=Array(arguments.length-2),Ve=2;Ve<arguments.length;Ve++)G[Ve-2]=arguments[Ve];return p.prototype[M].apply(R,G)}}function v(c){const p=c.length;if(0<p){const y=Array(p);for(let R=0;R<p;R++)y[R]=c[R];return y}return[]}function T(c,p){for(let y=1;y<arguments.length;y++){const R=arguments[y];if(l(R)){const M=c.length||0,F=R.length||0;c.length=M+F;for(let G=0;G<F;G++)c[M+G]=R[G]}else c.push(R)}}class I{constructor(p,y){this.i=p,this.j=y,this.h=0,this.g=null}get(){let p;return 0<this.h?(this.h--,p=this.g,this.g=p.next,p.next=null):p=this.i(),p}}function w(c){return/^[\s\xa0]*$/.test(c)}function E(){var c=a.navigator;return c&&(c=c.userAgent)?c:""}function O(c){return O[" "](c),c}O[" "]=function(){};var C=E().indexOf("Gecko")!=-1&&!(E().toLowerCase().indexOf("webkit")!=-1&&E().indexOf("Edge")==-1)&&!(E().indexOf("Trident")!=-1||E().indexOf("MSIE")!=-1)&&E().indexOf("Edge")==-1;function N(c,p,y){for(const R in c)p.call(y,c[R],R,c)}function b(c,p){for(const y in c)p.call(void 0,c[y],y,c)}function S(c){const p={};for(const y in c)p[y]=c[y];return p}const m="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function A(c,p){let y,R;for(let M=1;M<arguments.length;M++){R=arguments[M];for(y in R)c[y]=R[y];for(let F=0;F<m.length;F++)y=m[F],Object.prototype.hasOwnProperty.call(R,y)&&(c[y]=R[y])}}function k(c){var p=1;c=c.split(":");const y=[];for(;0<p&&c.length;)y.push(c.shift()),p--;return c.length&&y.push(c.join(":")),y}function D(c){a.setTimeout(()=>{throw c},0)}function P(){var c=se;let p=null;return c.g&&(p=c.g,c.g=c.g.next,c.g||(c.h=null),p.next=null),p}class we{constructor(){this.h=this.g=null}add(p,y){const R=fe.get();R.set(p,y),this.h?this.h.next=R:this.g=R,this.h=R}}var fe=new I(()=>new Ot,c=>c.reset());class Ot{constructor(){this.next=this.g=this.h=null}set(p,y){this.h=p,this.g=y,this.next=null}reset(){this.next=this.g=this.h=null}}let nt,Y=!1,se=new we,oe=()=>{const c=a.Promise.resolve(void 0);nt=()=>{c.then(pe)}};var pe=()=>{for(var c;c=P();){try{c.h.call(c.g)}catch(y){D(y)}var p=fe;p.j(c),100>p.h&&(p.h++,c.next=p.g,p.g=c)}Y=!1};function Ce(){this.s=this.s,this.C=this.C}Ce.prototype.s=!1,Ce.prototype.ma=function(){this.s||(this.s=!0,this.N())},Ce.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function Ke(c,p){this.type=c,this.g=this.target=p,this.defaultPrevented=!1}Ke.prototype.h=function(){this.defaultPrevented=!0};var wr=function(){if(!a.addEventListener||!Object.defineProperty)return!1;var c=!1,p=Object.defineProperty({},"passive",{get:function(){c=!0}});try{const y=()=>{};a.addEventListener("test",y,p),a.removeEventListener("test",y,p)}catch{}return c}();function Er(c,p){if(Ke.call(this,c?c.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,c){var y=this.type=c.type,R=c.changedTouches&&c.changedTouches.length?c.changedTouches[0]:null;if(this.target=c.target||c.srcElement,this.g=p,p=c.relatedTarget){if(C){e:{try{O(p.nodeName);var M=!0;break e}catch{}M=!1}M||(p=null)}}else y=="mouseover"?p=c.fromElement:y=="mouseout"&&(p=c.toElement);this.relatedTarget=p,R?(this.clientX=R.clientX!==void 0?R.clientX:R.pageX,this.clientY=R.clientY!==void 0?R.clientY:R.pageY,this.screenX=R.screenX||0,this.screenY=R.screenY||0):(this.clientX=c.clientX!==void 0?c.clientX:c.pageX,this.clientY=c.clientY!==void 0?c.clientY:c.pageY,this.screenX=c.screenX||0,this.screenY=c.screenY||0),this.button=c.button,this.key=c.key||"",this.ctrlKey=c.ctrlKey,this.altKey=c.altKey,this.shiftKey=c.shiftKey,this.metaKey=c.metaKey,this.pointerId=c.pointerId||0,this.pointerType=typeof c.pointerType=="string"?c.pointerType:Sr[c.pointerType]||"",this.state=c.state,this.i=c,c.defaultPrevented&&Er.aa.h.call(this)}}_(Er,Ke);var Sr={2:"touch",3:"pen",4:"mouse"};Er.prototype.h=function(){Er.aa.h.call(this);var c=this.i;c.preventDefault?c.preventDefault():c.returnValue=!1};var Ir="closure_listenable_"+(1e6*Math.random()|0),Dh=0;function Eo(c,p,y,R,M){this.listener=c,this.proxy=null,this.src=p,this.type=y,this.capture=!!R,this.ha=M,this.key=++Dh,this.da=this.fa=!1}function zn(c){c.da=!0,c.listener=null,c.proxy=null,c.src=null,c.ha=null}function Le(c){this.src=c,this.g={},this.h=0}Le.prototype.add=function(c,p,y,R,M){var F=c.toString();c=this.g[F],c||(c=this.g[F]=[],this.h++);var G=pn(c,p,R,M);return-1<G?(p=c[G],y||(p.fa=!1)):(p=new Eo(p,this.src,F,!!R,M),p.fa=y,c.push(p)),p};function Rt(c,p){var y=p.type;if(y in c.g){var R=c.g[y],M=Array.prototype.indexOf.call(R,p,void 0),F;(F=0<=M)&&Array.prototype.splice.call(R,M,1),F&&(zn(p),c.g[y].length==0&&(delete c.g[y],c.h--))}}function pn(c,p,y,R){for(var M=0;M<c.length;++M){var F=c[M];if(!F.da&&F.listener==p&&F.capture==!!y&&F.ha==R)return M}return-1}var cs="closure_lm_"+(1e6*Math.random()|0),jr={};function vi(c,p,y,R,M){if(Array.isArray(p)){for(var F=0;F<p.length;F++)vi(c,p[F],y,R,M);return null}return y=iI(y),c&&c[Ir]?c.K(p,y,u(R)?!!R.capture:!!R,M):Tr(c,p,y,!1,R,M)}function Tr(c,p,y,R,M,F){if(!p)throw Error("Invalid event type");var G=u(M)?!!M.capture:!!M,Ve=ay(c);if(Ve||(c[cs]=Ve=new Le(c)),y=Ve.add(p,y,R,G,F),y.proxy)return y;if(R=wi(),y.proxy=R,R.src=c,R.listener=y,c.addEventListener)wr||(M=G),M===void 0&&(M=!1),c.addEventListener(p.toString(),R,M);else if(c.attachEvent)c.attachEvent(rI(p.toString()),R);else if(c.addListener&&c.removeListener)c.addListener(R);else throw Error("addEventListener and attachEvent are unavailable.");return y}function wi(){function c(y){return p.call(c.src,c.listener,y)}const p=J2;return c}function xa(c,p,y,R,M){if(Array.isArray(p))for(var F=0;F<p.length;F++)xa(c,p[F],y,R,M);else R=u(R)?!!R.capture:!!R,y=iI(y),c&&c[Ir]?(c=c.i,p=String(p).toString(),p in c.g&&(F=c.g[p],y=pn(F,y,R,M),-1<y&&(zn(F[y]),Array.prototype.splice.call(F,y,1),F.length==0&&(delete c.g[p],c.h--)))):c&&(c=ay(c))&&(p=c.g[p.toString()],c=-1,p&&(c=pn(p,y,R,M)),(y=-1<c?p[c]:null)&&oy(y))}function oy(c){if(typeof c!="number"&&c&&!c.da){var p=c.src;if(p&&p[Ir])Rt(p.i,c);else{var y=c.type,R=c.proxy;p.removeEventListener?p.removeEventListener(y,R,c.capture):p.detachEvent?p.detachEvent(rI(y),R):p.addListener&&p.removeListener&&p.removeListener(R),(y=ay(p))?(Rt(y,c),y.h==0&&(y.src=null,p[cs]=null)):zn(c)}}}function rI(c){return c in jr?jr[c]:jr[c]="on"+c}function J2(c,p){if(c.da)c=!0;else{p=new Er(p,this);var y=c.listener,R=c.ha||c.src;c.fa&&oy(c),c=y.call(R,p)}return c}function ay(c){return c=c[cs],c instanceof Le?c:null}var ly="__closure_events_fn_"+(1e9*Math.random()>>>0);function iI(c){return typeof c=="function"?c:(c[ly]||(c[ly]=function(p){return c.handleEvent(p)}),c[ly])}function tn(){Ce.call(this),this.i=new Le(this),this.M=this,this.F=null}_(tn,Ce),tn.prototype[Ir]=!0,tn.prototype.removeEventListener=function(c,p,y,R){xa(this,c,p,y,R)};function mn(c,p){var y,R=c.F;if(R)for(y=[];R;R=R.F)y.push(R);if(c=c.M,R=p.type||p,typeof p=="string")p=new Ke(p,c);else if(p instanceof Ke)p.target=p.target||c;else{var M=p;p=new Ke(R,c),A(p,M)}if(M=!0,y)for(var F=y.length-1;0<=F;F--){var G=p.g=y[F];M=Nh(G,R,!0,p)&&M}if(G=p.g=c,M=Nh(G,R,!0,p)&&M,M=Nh(G,R,!1,p)&&M,y)for(F=0;F<y.length;F++)G=p.g=y[F],M=Nh(G,R,!1,p)&&M}tn.prototype.N=function(){if(tn.aa.N.call(this),this.i){var c=this.i,p;for(p in c.g){for(var y=c.g[p],R=0;R<y.length;R++)zn(y[R]);delete c.g[p],c.h--}}this.F=null},tn.prototype.K=function(c,p,y,R){return this.i.add(String(c),p,!1,y,R)},tn.prototype.L=function(c,p,y,R){return this.i.add(String(c),p,!0,y,R)};function Nh(c,p,y,R){if(p=c.i.g[String(p)],!p)return!0;p=p.concat();for(var M=!0,F=0;F<p.length;++F){var G=p[F];if(G&&!G.da&&G.capture==y){var Ve=G.listener,Kt=G.ha||G.src;G.fa&&Rt(c.i,G),M=Ve.call(Kt,R)!==!1&&M}}return M&&!R.defaultPrevented}function sI(c,p,y){if(typeof c=="function")y&&(c=f(c,y));else if(c&&typeof c.handleEvent=="function")c=f(c.handleEvent,c);else throw Error("Invalid listener argument");return 2147483647<Number(p)?-1:a.setTimeout(c,p||0)}function oI(c){c.g=sI(()=>{c.g=null,c.i&&(c.i=!1,oI(c))},c.l);const p=c.h;c.h=null,c.m.apply(null,p)}class X2 extends Ce{constructor(p,y){super(),this.m=p,this.l=y,this.h=null,this.i=!1,this.g=null}j(p){this.h=arguments,this.g?this.i=!0:oI(this)}N(){super.N(),this.g&&(a.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function xu(c){Ce.call(this),this.h=c,this.g={}}_(xu,Ce);var aI=[];function lI(c){N(c.g,function(p,y){this.g.hasOwnProperty(y)&&oy(p)},c),c.g={}}xu.prototype.N=function(){xu.aa.N.call(this),lI(this)},xu.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var uy=a.JSON.stringify,Z2=a.JSON.parse,eM=class{stringify(c){return a.JSON.stringify(c,void 0)}parse(c){return a.JSON.parse(c,void 0)}};function cy(){}cy.prototype.h=null;function uI(c){return c.h||(c.h=c.i())}function cI(){}var Ou={OPEN:"a",kb:"b",Ja:"c",wb:"d"};function dy(){Ke.call(this,"d")}_(dy,Ke);function hy(){Ke.call(this,"c")}_(hy,Ke);var So={},dI=null;function Mh(){return dI=dI||new tn}So.La="serverreachability";function hI(c){Ke.call(this,So.La,c)}_(hI,Ke);function Du(c){const p=Mh();mn(p,new hI(p))}So.STAT_EVENT="statevent";function fI(c,p){Ke.call(this,So.STAT_EVENT,c),this.stat=p}_(fI,Ke);function gn(c){const p=Mh();mn(p,new fI(p,c))}So.Ma="timingevent";function pI(c,p){Ke.call(this,So.Ma,c),this.size=p}_(pI,Ke);function Nu(c,p){if(typeof c!="function")throw Error("Fn must not be null and must be a function");return a.setTimeout(function(){c()},p)}function Mu(){this.g=!0}Mu.prototype.xa=function(){this.g=!1};function tM(c,p,y,R,M,F){c.info(function(){if(c.g)if(F)for(var G="",Ve=F.split("&"),Kt=0;Kt<Ve.length;Kt++){var be=Ve[Kt].split("=");if(1<be.length){var nn=be[0];be=be[1];var rn=nn.split("_");G=2<=rn.length&&rn[1]=="type"?G+(nn+"="+be+"&"):G+(nn+"=redacted&")}}else G=null;else G=F;return"XMLHTTP REQ ("+R+") [attempt "+M+"]: "+p+`
`+y+`
`+G})}function nM(c,p,y,R,M,F,G){c.info(function(){return"XMLHTTP RESP ("+R+") [ attempt "+M+"]: "+p+`
`+y+`
`+F+" "+G})}function Oa(c,p,y,R){c.info(function(){return"XMLHTTP TEXT ("+p+"): "+iM(c,y)+(R?" "+R:"")})}function rM(c,p){c.info(function(){return"TIMEOUT: "+p})}Mu.prototype.info=function(){};function iM(c,p){if(!c.g)return p;if(!p)return null;try{var y=JSON.parse(p);if(y){for(c=0;c<y.length;c++)if(Array.isArray(y[c])){var R=y[c];if(!(2>R.length)){var M=R[1];if(Array.isArray(M)&&!(1>M.length)){var F=M[0];if(F!="noop"&&F!="stop"&&F!="close")for(var G=1;G<M.length;G++)M[G]=""}}}}return uy(y)}catch{return p}}var Lh={NO_ERROR:0,gb:1,tb:2,sb:3,nb:4,rb:5,ub:6,Ia:7,TIMEOUT:8,xb:9},mI={lb:"complete",Hb:"success",Ja:"error",Ia:"abort",zb:"ready",Ab:"readystatechange",TIMEOUT:"timeout",vb:"incrementaldata",yb:"progress",ob:"downloadprogress",Pb:"uploadprogress"},fy;function Vh(){}_(Vh,cy),Vh.prototype.g=function(){return new XMLHttpRequest},Vh.prototype.i=function(){return{}},fy=new Vh;function ds(c,p,y,R){this.j=c,this.i=p,this.l=y,this.R=R||1,this.U=new xu(this),this.I=45e3,this.H=null,this.o=!1,this.m=this.A=this.v=this.L=this.F=this.S=this.B=null,this.D=[],this.g=null,this.C=0,this.s=this.u=null,this.X=-1,this.J=!1,this.O=0,this.M=null,this.W=this.K=this.T=this.P=!1,this.h=new gI}function gI(){this.i=null,this.g="",this.h=!1}var yI={},py={};function my(c,p,y){c.L=1,c.v=$h(Ei(p)),c.m=y,c.P=!0,_I(c,null)}function _I(c,p){c.F=Date.now(),Fh(c),c.A=Ei(c.v);var y=c.A,R=c.R;Array.isArray(R)||(R=[String(R)]),OI(y.i,"t",R),c.C=0,y=c.j.J,c.h=new gI,c.g=QI(c.j,y?p:null,!c.m),0<c.O&&(c.M=new X2(f(c.Y,c,c.g),c.O)),p=c.U,y=c.g,R=c.ca;var M="readystatechange";Array.isArray(M)||(M&&(aI[0]=M.toString()),M=aI);for(var F=0;F<M.length;F++){var G=vi(y,M[F],R||p.handleEvent,!1,p.h||p);if(!G)break;p.g[G.key]=G}p=c.H?S(c.H):{},c.m?(c.u||(c.u="POST"),p["Content-Type"]="application/x-www-form-urlencoded",c.g.ea(c.A,c.u,c.m,p)):(c.u="GET",c.g.ea(c.A,c.u,null,p)),Du(),tM(c.i,c.u,c.A,c.l,c.R,c.m)}ds.prototype.ca=function(c){c=c.target;const p=this.M;p&&Si(c)==3?p.j():this.Y(c)},ds.prototype.Y=function(c){try{if(c==this.g)e:{const rn=Si(this.g);var p=this.g.Ba();const Ma=this.g.Z();if(!(3>rn)&&(rn!=3||this.g&&(this.h.h||this.g.oa()||UI(this.g)))){this.J||rn!=4||p==7||(p==8||0>=Ma?Du(3):Du(2)),gy(this);var y=this.g.Z();this.X=y;t:if(vI(this)){var R=UI(this.g);c="";var M=R.length,F=Si(this.g)==4;if(!this.h.i){if(typeof TextDecoder>"u"){Io(this),Lu(this);var G="";break t}this.h.i=new a.TextDecoder}for(p=0;p<M;p++)this.h.h=!0,c+=this.h.i.decode(R[p],{stream:!(F&&p==M-1)});R.length=0,this.h.g+=c,this.C=0,G=this.h.g}else G=this.g.oa();if(this.o=y==200,nM(this.i,this.u,this.A,this.l,this.R,rn,y),this.o){if(this.T&&!this.K){t:{if(this.g){var Ve,Kt=this.g;if((Ve=Kt.g?Kt.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!w(Ve)){var be=Ve;break t}}be=null}if(y=be)Oa(this.i,this.l,y,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,yy(this,y);else{this.o=!1,this.s=3,gn(12),Io(this),Lu(this);break e}}if(this.P){y=!0;let br;for(;!this.J&&this.C<G.length;)if(br=sM(this,G),br==py){rn==4&&(this.s=4,gn(14),y=!1),Oa(this.i,this.l,null,"[Incomplete Response]");break}else if(br==yI){this.s=4,gn(15),Oa(this.i,this.l,G,"[Invalid Chunk]"),y=!1;break}else Oa(this.i,this.l,br,null),yy(this,br);if(vI(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),rn!=4||G.length!=0||this.h.h||(this.s=1,gn(16),y=!1),this.o=this.o&&y,!y)Oa(this.i,this.l,G,"[Invalid Chunked Response]"),Io(this),Lu(this);else if(0<G.length&&!this.W){this.W=!0;var nn=this.j;nn.g==this&&nn.ba&&!nn.M&&(nn.j.info("Great, no buffering proxy detected. Bytes received: "+G.length),Iy(nn),nn.M=!0,gn(11))}}else Oa(this.i,this.l,G,null),yy(this,G);rn==4&&Io(this),this.o&&!this.J&&(rn==4?HI(this.j,this):(this.o=!1,Fh(this)))}else SM(this.g),y==400&&0<G.indexOf("Unknown SID")?(this.s=3,gn(12)):(this.s=0,gn(13)),Io(this),Lu(this)}}}catch{}finally{}};function vI(c){return c.g?c.u=="GET"&&c.L!=2&&c.j.Ca:!1}function sM(c,p){var y=c.C,R=p.indexOf(`
`,y);return R==-1?py:(y=Number(p.substring(y,R)),isNaN(y)?yI:(R+=1,R+y>p.length?py:(p=p.slice(R,R+y),c.C=R+y,p)))}ds.prototype.cancel=function(){this.J=!0,Io(this)};function Fh(c){c.S=Date.now()+c.I,wI(c,c.I)}function wI(c,p){if(c.B!=null)throw Error("WatchDog timer not null");c.B=Nu(f(c.ba,c),p)}function gy(c){c.B&&(a.clearTimeout(c.B),c.B=null)}ds.prototype.ba=function(){this.B=null;const c=Date.now();0<=c-this.S?(rM(this.i,this.A),this.L!=2&&(Du(),gn(17)),Io(this),this.s=2,Lu(this)):wI(this,this.S-c)};function Lu(c){c.j.G==0||c.J||HI(c.j,c)}function Io(c){gy(c);var p=c.M;p&&typeof p.ma=="function"&&p.ma(),c.M=null,lI(c.U),c.g&&(p=c.g,c.g=null,p.abort(),p.ma())}function yy(c,p){try{var y=c.j;if(y.G!=0&&(y.g==c||_y(y.h,c))){if(!c.K&&_y(y.h,c)&&y.G==3){try{var R=y.Da.g.parse(p)}catch{R=null}if(Array.isArray(R)&&R.length==3){var M=R;if(M[0]==0){e:if(!y.u){if(y.g)if(y.g.F+3e3<c.F)Hh(y),Wh(y);else break e;Sy(y),gn(18)}}else y.za=M[1],0<y.za-y.T&&37500>M[2]&&y.F&&y.v==0&&!y.C&&(y.C=Nu(f(y.Za,y),6e3));if(1>=II(y.h)&&y.ca){try{y.ca()}catch{}y.ca=void 0}}else bo(y,11)}else if((c.K||y.g==c)&&Hh(y),!w(p))for(M=y.Da.g.parse(p),p=0;p<M.length;p++){let be=M[p];if(y.T=be[0],be=be[1],y.G==2)if(be[0]=="c"){y.K=be[1],y.ia=be[2];const nn=be[3];nn!=null&&(y.la=nn,y.j.info("VER="+y.la));const rn=be[4];rn!=null&&(y.Aa=rn,y.j.info("SVER="+y.Aa));const Ma=be[5];Ma!=null&&typeof Ma=="number"&&0<Ma&&(R=1.5*Ma,y.L=R,y.j.info("backChannelRequestTimeoutMs_="+R)),R=y;const br=c.g;if(br){const Kh=br.g?br.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(Kh){var F=R.h;F.g||Kh.indexOf("spdy")==-1&&Kh.indexOf("quic")==-1&&Kh.indexOf("h2")==-1||(F.j=F.l,F.g=new Set,F.h&&(vy(F,F.h),F.h=null))}if(R.D){const Ty=br.g?br.g.getResponseHeader("X-HTTP-Session-Id"):null;Ty&&(R.ya=Ty,ze(R.I,R.D,Ty))}}y.G=3,y.l&&y.l.ua(),y.ba&&(y.R=Date.now()-c.F,y.j.info("Handshake RTT: "+y.R+"ms")),R=y;var G=c;if(R.qa=YI(R,R.J?R.ia:null,R.W),G.K){TI(R.h,G);var Ve=G,Kt=R.L;Kt&&(Ve.I=Kt),Ve.B&&(gy(Ve),Fh(Ve)),R.g=G}else WI(R);0<y.i.length&&qh(y)}else be[0]!="stop"&&be[0]!="close"||bo(y,7);else y.G==3&&(be[0]=="stop"||be[0]=="close"?be[0]=="stop"?bo(y,7):Ey(y):be[0]!="noop"&&y.l&&y.l.ta(be),y.v=0)}}Du(4)}catch{}}var oM=class{constructor(c,p){this.g=c,this.map=p}};function EI(c){this.l=c||10,a.PerformanceNavigationTiming?(c=a.performance.getEntriesByType("navigation"),c=0<c.length&&(c[0].nextHopProtocol=="hq"||c[0].nextHopProtocol=="h2")):c=!!(a.chrome&&a.chrome.loadTimes&&a.chrome.loadTimes()&&a.chrome.loadTimes().wasFetchedViaSpdy),this.j=c?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}function SI(c){return c.h?!0:c.g?c.g.size>=c.j:!1}function II(c){return c.h?1:c.g?c.g.size:0}function _y(c,p){return c.h?c.h==p:c.g?c.g.has(p):!1}function vy(c,p){c.g?c.g.add(p):c.h=p}function TI(c,p){c.h&&c.h==p?c.h=null:c.g&&c.g.has(p)&&c.g.delete(p)}EI.prototype.cancel=function(){if(this.i=bI(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const c of this.g.values())c.cancel();this.g.clear()}};function bI(c){if(c.h!=null)return c.i.concat(c.h.D);if(c.g!=null&&c.g.size!==0){let p=c.i;for(const y of c.g.values())p=p.concat(y.D);return p}return v(c.i)}function aM(c){if(c.V&&typeof c.V=="function")return c.V();if(typeof Map<"u"&&c instanceof Map||typeof Set<"u"&&c instanceof Set)return Array.from(c.values());if(typeof c=="string")return c.split("");if(l(c)){for(var p=[],y=c.length,R=0;R<y;R++)p.push(c[R]);return p}p=[],y=0;for(R in c)p[y++]=c[R];return p}function lM(c){if(c.na&&typeof c.na=="function")return c.na();if(!c.V||typeof c.V!="function"){if(typeof Map<"u"&&c instanceof Map)return Array.from(c.keys());if(!(typeof Set<"u"&&c instanceof Set)){if(l(c)||typeof c=="string"){var p=[];c=c.length;for(var y=0;y<c;y++)p.push(y);return p}p=[],y=0;for(const R in c)p[y++]=R;return p}}}function RI(c,p){if(c.forEach&&typeof c.forEach=="function")c.forEach(p,void 0);else if(l(c)||typeof c=="string")Array.prototype.forEach.call(c,p,void 0);else for(var y=lM(c),R=aM(c),M=R.length,F=0;F<M;F++)p.call(void 0,R[F],y&&y[F],c)}var AI=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function uM(c,p){if(c){c=c.split("&");for(var y=0;y<c.length;y++){var R=c[y].indexOf("="),M=null;if(0<=R){var F=c[y].substring(0,R);M=c[y].substring(R+1)}else F=c[y];p(F,M?decodeURIComponent(M.replace(/\+/g," ")):"")}}}function To(c){if(this.g=this.o=this.j="",this.s=null,this.m=this.l="",this.h=!1,c instanceof To){this.h=c.h,Uh(this,c.j),this.o=c.o,this.g=c.g,Bh(this,c.s),this.l=c.l;var p=c.i,y=new Uu;y.i=p.i,p.g&&(y.g=new Map(p.g),y.h=p.h),PI(this,y),this.m=c.m}else c&&(p=String(c).match(AI))?(this.h=!1,Uh(this,p[1]||"",!0),this.o=Vu(p[2]||""),this.g=Vu(p[3]||"",!0),Bh(this,p[4]),this.l=Vu(p[5]||"",!0),PI(this,p[6]||"",!0),this.m=Vu(p[7]||"")):(this.h=!1,this.i=new Uu(null,this.h))}To.prototype.toString=function(){var c=[],p=this.j;p&&c.push(Fu(p,kI,!0),":");var y=this.g;return(y||p=="file")&&(c.push("//"),(p=this.o)&&c.push(Fu(p,kI,!0),"@"),c.push(encodeURIComponent(String(y)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),y=this.s,y!=null&&c.push(":",String(y))),(y=this.l)&&(this.g&&y.charAt(0)!="/"&&c.push("/"),c.push(Fu(y,y.charAt(0)=="/"?hM:dM,!0))),(y=this.i.toString())&&c.push("?",y),(y=this.m)&&c.push("#",Fu(y,pM)),c.join("")};function Ei(c){return new To(c)}function Uh(c,p,y){c.j=y?Vu(p,!0):p,c.j&&(c.j=c.j.replace(/:$/,""))}function Bh(c,p){if(p){if(p=Number(p),isNaN(p)||0>p)throw Error("Bad port number "+p);c.s=p}else c.s=null}function PI(c,p,y){p instanceof Uu?(c.i=p,mM(c.i,c.h)):(y||(p=Fu(p,fM)),c.i=new Uu(p,c.h))}function ze(c,p,y){c.i.set(p,y)}function $h(c){return ze(c,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),c}function Vu(c,p){return c?p?decodeURI(c.replace(/%25/g,"%2525")):decodeURIComponent(c):""}function Fu(c,p,y){return typeof c=="string"?(c=encodeURI(c).replace(p,cM),y&&(c=c.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),c):null}function cM(c){return c=c.charCodeAt(0),"%"+(c>>4&15).toString(16)+(c&15).toString(16)}var kI=/[#\/\?@]/g,dM=/[#\?:]/g,hM=/[#\?]/g,fM=/[#\?@]/g,pM=/#/g;function Uu(c,p){this.h=this.g=null,this.i=c||null,this.j=!!p}function hs(c){c.g||(c.g=new Map,c.h=0,c.i&&uM(c.i,function(p,y){c.add(decodeURIComponent(p.replace(/\+/g," ")),y)}))}t=Uu.prototype,t.add=function(c,p){hs(this),this.i=null,c=Da(this,c);var y=this.g.get(c);return y||this.g.set(c,y=[]),y.push(p),this.h+=1,this};function CI(c,p){hs(c),p=Da(c,p),c.g.has(p)&&(c.i=null,c.h-=c.g.get(p).length,c.g.delete(p))}function xI(c,p){return hs(c),p=Da(c,p),c.g.has(p)}t.forEach=function(c,p){hs(this),this.g.forEach(function(y,R){y.forEach(function(M){c.call(p,M,R,this)},this)},this)},t.na=function(){hs(this);const c=Array.from(this.g.values()),p=Array.from(this.g.keys()),y=[];for(let R=0;R<p.length;R++){const M=c[R];for(let F=0;F<M.length;F++)y.push(p[R])}return y},t.V=function(c){hs(this);let p=[];if(typeof c=="string")xI(this,c)&&(p=p.concat(this.g.get(Da(this,c))));else{c=Array.from(this.g.values());for(let y=0;y<c.length;y++)p=p.concat(c[y])}return p},t.set=function(c,p){return hs(this),this.i=null,c=Da(this,c),xI(this,c)&&(this.h-=this.g.get(c).length),this.g.set(c,[p]),this.h+=1,this},t.get=function(c,p){return c?(c=this.V(c),0<c.length?String(c[0]):p):p};function OI(c,p,y){CI(c,p),0<y.length&&(c.i=null,c.g.set(Da(c,p),v(y)),c.h+=y.length)}t.toString=function(){if(this.i)return this.i;if(!this.g)return"";const c=[],p=Array.from(this.g.keys());for(var y=0;y<p.length;y++){var R=p[y];const F=encodeURIComponent(String(R)),G=this.V(R);for(R=0;R<G.length;R++){var M=F;G[R]!==""&&(M+="="+encodeURIComponent(String(G[R]))),c.push(M)}}return this.i=c.join("&")};function Da(c,p){return p=String(p),c.j&&(p=p.toLowerCase()),p}function mM(c,p){p&&!c.j&&(hs(c),c.i=null,c.g.forEach(function(y,R){var M=R.toLowerCase();R!=M&&(CI(this,R),OI(this,M,y))},c)),c.j=p}function gM(c,p){const y=new Mu;if(a.Image){const R=new Image;R.onload=g(fs,y,"TestLoadImage: loaded",!0,p,R),R.onerror=g(fs,y,"TestLoadImage: error",!1,p,R),R.onabort=g(fs,y,"TestLoadImage: abort",!1,p,R),R.ontimeout=g(fs,y,"TestLoadImage: timeout",!1,p,R),a.setTimeout(function(){R.ontimeout&&R.ontimeout()},1e4),R.src=c}else p(!1)}function yM(c,p){const y=new Mu,R=new AbortController,M=setTimeout(()=>{R.abort(),fs(y,"TestPingServer: timeout",!1,p)},1e4);fetch(c,{signal:R.signal}).then(F=>{clearTimeout(M),F.ok?fs(y,"TestPingServer: ok",!0,p):fs(y,"TestPingServer: server error",!1,p)}).catch(()=>{clearTimeout(M),fs(y,"TestPingServer: error",!1,p)})}function fs(c,p,y,R,M){try{M&&(M.onload=null,M.onerror=null,M.onabort=null,M.ontimeout=null),R(y)}catch{}}function _M(){this.g=new eM}function vM(c,p,y){const R=y||"";try{RI(c,function(M,F){let G=M;u(M)&&(G=uy(M)),p.push(R+F+"="+encodeURIComponent(G))})}catch(M){throw p.push(R+"type="+encodeURIComponent("_badmap")),M}}function Bu(c){this.l=c.Ub||null,this.j=c.eb||!1}_(Bu,cy),Bu.prototype.g=function(){return new zh(this.l,this.j)},Bu.prototype.i=function(c){return function(){return c}}({});function zh(c,p){tn.call(this),this.D=c,this.o=p,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.u=new Headers,this.h=null,this.B="GET",this.A="",this.g=!1,this.v=this.j=this.l=null}_(zh,tn),t=zh.prototype,t.open=function(c,p){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.B=c,this.A=p,this.readyState=1,zu(this)},t.send=function(c){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");this.g=!0;const p={headers:this.u,method:this.B,credentials:this.m,cache:void 0};c&&(p.body=c),(this.D||a).fetch(new Request(this.A,p)).then(this.Sa.bind(this),this.ga.bind(this))},t.abort=function(){this.response=this.responseText="",this.u=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&this.readyState!=4&&(this.g=!1,$u(this)),this.readyState=0},t.Sa=function(c){if(this.g&&(this.l=c,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=c.headers,this.readyState=2,zu(this)),this.g&&(this.readyState=3,zu(this),this.g)))if(this.responseType==="arraybuffer")c.arrayBuffer().then(this.Qa.bind(this),this.ga.bind(this));else if(typeof a.ReadableStream<"u"&&"body"in c){if(this.j=c.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.v=new TextDecoder;DI(this)}else c.text().then(this.Ra.bind(this),this.ga.bind(this))};function DI(c){c.j.read().then(c.Pa.bind(c)).catch(c.ga.bind(c))}t.Pa=function(c){if(this.g){if(this.o&&c.value)this.response.push(c.value);else if(!this.o){var p=c.value?c.value:new Uint8Array(0);(p=this.v.decode(p,{stream:!c.done}))&&(this.response=this.responseText+=p)}c.done?$u(this):zu(this),this.readyState==3&&DI(this)}},t.Ra=function(c){this.g&&(this.response=this.responseText=c,$u(this))},t.Qa=function(c){this.g&&(this.response=c,$u(this))},t.ga=function(){this.g&&$u(this)};function $u(c){c.readyState=4,c.l=null,c.j=null,c.v=null,zu(c)}t.setRequestHeader=function(c,p){this.u.append(c,p)},t.getResponseHeader=function(c){return this.h&&this.h.get(c.toLowerCase())||""},t.getAllResponseHeaders=function(){if(!this.h)return"";const c=[],p=this.h.entries();for(var y=p.next();!y.done;)y=y.value,c.push(y[0]+": "+y[1]),y=p.next();return c.join(`\r
`)};function zu(c){c.onreadystatechange&&c.onreadystatechange.call(c)}Object.defineProperty(zh.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(c){this.m=c?"include":"same-origin"}});function NI(c){let p="";return N(c,function(y,R){p+=R,p+=":",p+=y,p+=`\r
`}),p}function wy(c,p,y){e:{for(R in y){var R=!1;break e}R=!0}R||(y=NI(y),typeof c=="string"?y!=null&&encodeURIComponent(String(y)):ze(c,p,y))}function ct(c){tn.call(this),this.headers=new Map,this.o=c||null,this.h=!1,this.v=this.g=null,this.D="",this.m=0,this.l="",this.j=this.B=this.u=this.A=!1,this.I=null,this.H="",this.J=!1}_(ct,tn);var wM=/^https?$/i,EM=["POST","PUT"];t=ct.prototype,t.Ha=function(c){this.J=c},t.ea=function(c,p,y,R){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+c);p=p?p.toUpperCase():"GET",this.D=c,this.l="",this.m=0,this.A=!1,this.h=!0,this.g=this.o?this.o.g():fy.g(),this.v=this.o?uI(this.o):uI(fy),this.g.onreadystatechange=f(this.Ea,this);try{this.B=!0,this.g.open(p,String(c),!0),this.B=!1}catch(F){MI(this,F);return}if(c=y||"",y=new Map(this.headers),R)if(Object.getPrototypeOf(R)===Object.prototype)for(var M in R)y.set(M,R[M]);else if(typeof R.keys=="function"&&typeof R.get=="function")for(const F of R.keys())y.set(F,R.get(F));else throw Error("Unknown input type for opt_headers: "+String(R));R=Array.from(y.keys()).find(F=>F.toLowerCase()=="content-type"),M=a.FormData&&c instanceof a.FormData,!(0<=Array.prototype.indexOf.call(EM,p,void 0))||R||M||y.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[F,G]of y)this.g.setRequestHeader(F,G);this.H&&(this.g.responseType=this.H),"withCredentials"in this.g&&this.g.withCredentials!==this.J&&(this.g.withCredentials=this.J);try{FI(this),this.u=!0,this.g.send(c),this.u=!1}catch(F){MI(this,F)}};function MI(c,p){c.h=!1,c.g&&(c.j=!0,c.g.abort(),c.j=!1),c.l=p,c.m=5,LI(c),jh(c)}function LI(c){c.A||(c.A=!0,mn(c,"complete"),mn(c,"error"))}t.abort=function(c){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.m=c||7,mn(this,"complete"),mn(this,"abort"),jh(this))},t.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),jh(this,!0)),ct.aa.N.call(this)},t.Ea=function(){this.s||(this.B||this.u||this.j?VI(this):this.bb())},t.bb=function(){VI(this)};function VI(c){if(c.h&&typeof o<"u"&&(!c.v[1]||Si(c)!=4||c.Z()!=2)){if(c.u&&Si(c)==4)sI(c.Ea,0,c);else if(mn(c,"readystatechange"),Si(c)==4){c.h=!1;try{const G=c.Z();e:switch(G){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var p=!0;break e;default:p=!1}var y;if(!(y=p)){var R;if(R=G===0){var M=String(c.D).match(AI)[1]||null;!M&&a.self&&a.self.location&&(M=a.self.location.protocol.slice(0,-1)),R=!wM.test(M?M.toLowerCase():"")}y=R}if(y)mn(c,"complete"),mn(c,"success");else{c.m=6;try{var F=2<Si(c)?c.g.statusText:""}catch{F=""}c.l=F+" ["+c.Z()+"]",LI(c)}}finally{jh(c)}}}}function jh(c,p){if(c.g){FI(c);const y=c.g,R=c.v[0]?()=>{}:null;c.g=null,c.v=null,p||mn(c,"ready");try{y.onreadystatechange=R}catch{}}}function FI(c){c.I&&(a.clearTimeout(c.I),c.I=null)}t.isActive=function(){return!!this.g};function Si(c){return c.g?c.g.readyState:0}t.Z=function(){try{return 2<Si(this)?this.g.status:-1}catch{return-1}},t.oa=function(){try{return this.g?this.g.responseText:""}catch{return""}},t.Oa=function(c){if(this.g){var p=this.g.responseText;return c&&p.indexOf(c)==0&&(p=p.substring(c.length)),Z2(p)}};function UI(c){try{if(!c.g)return null;if("response"in c.g)return c.g.response;switch(c.H){case"":case"text":return c.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in c.g)return c.g.mozResponseArrayBuffer}return null}catch{return null}}function SM(c){const p={};c=(c.g&&2<=Si(c)&&c.g.getAllResponseHeaders()||"").split(`\r
`);for(let R=0;R<c.length;R++){if(w(c[R]))continue;var y=k(c[R]);const M=y[0];if(y=y[1],typeof y!="string")continue;y=y.trim();const F=p[M]||[];p[M]=F,F.push(y)}b(p,function(R){return R.join(", ")})}t.Ba=function(){return this.m},t.Ka=function(){return typeof this.l=="string"?this.l:String(this.l)};function ju(c,p,y){return y&&y.internalChannelParams&&y.internalChannelParams[c]||p}function BI(c){this.Aa=0,this.i=[],this.j=new Mu,this.ia=this.qa=this.I=this.W=this.g=this.ya=this.D=this.H=this.m=this.S=this.o=null,this.Ya=this.U=0,this.Va=ju("failFast",!1,c),this.F=this.C=this.u=this.s=this.l=null,this.X=!0,this.za=this.T=-1,this.Y=this.v=this.B=0,this.Ta=ju("baseRetryDelayMs",5e3,c),this.cb=ju("retryDelaySeedMs",1e4,c),this.Wa=ju("forwardChannelMaxRetries",2,c),this.wa=ju("forwardChannelRequestTimeoutMs",2e4,c),this.pa=c&&c.xmlHttpFactory||void 0,this.Xa=c&&c.Tb||void 0,this.Ca=c&&c.useFetchStreams||!1,this.L=void 0,this.J=c&&c.supportsCrossDomainXhr||!1,this.K="",this.h=new EI(c&&c.concurrentRequestLimit),this.Da=new _M,this.P=c&&c.fastHandshake||!1,this.O=c&&c.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.Ua=c&&c.Rb||!1,c&&c.xa&&this.j.xa(),c&&c.forceLongPolling&&(this.X=!1),this.ba=!this.P&&this.X&&c&&c.detectBufferingProxy||!1,this.ja=void 0,c&&c.longPollingTimeout&&0<c.longPollingTimeout&&(this.ja=c.longPollingTimeout),this.ca=void 0,this.R=0,this.M=!1,this.ka=this.A=null}t=BI.prototype,t.la=8,t.G=1,t.connect=function(c,p,y,R){gn(0),this.W=c,this.H=p||{},y&&R!==void 0&&(this.H.OSID=y,this.H.OAID=R),this.F=this.X,this.I=YI(this,null,this.W),qh(this)};function Ey(c){if($I(c),c.G==3){var p=c.U++,y=Ei(c.I);if(ze(y,"SID",c.K),ze(y,"RID",p),ze(y,"TYPE","terminate"),Wu(c,y),p=new ds(c,c.j,p),p.L=2,p.v=$h(Ei(y)),y=!1,a.navigator&&a.navigator.sendBeacon)try{y=a.navigator.sendBeacon(p.v.toString(),"")}catch{}!y&&a.Image&&(new Image().src=p.v,y=!0),y||(p.g=QI(p.j,null),p.g.ea(p.v)),p.F=Date.now(),Fh(p)}KI(c)}function Wh(c){c.g&&(Iy(c),c.g.cancel(),c.g=null)}function $I(c){Wh(c),c.u&&(a.clearTimeout(c.u),c.u=null),Hh(c),c.h.cancel(),c.s&&(typeof c.s=="number"&&a.clearTimeout(c.s),c.s=null)}function qh(c){if(!SI(c.h)&&!c.s){c.s=!0;var p=c.Ga;nt||oe(),Y||(nt(),Y=!0),se.add(p,c),c.B=0}}function IM(c,p){return II(c.h)>=c.h.j-(c.s?1:0)?!1:c.s?(c.i=p.D.concat(c.i),!0):c.G==1||c.G==2||c.B>=(c.Va?0:c.Wa)?!1:(c.s=Nu(f(c.Ga,c,p),GI(c,c.B)),c.B++,!0)}t.Ga=function(c){if(this.s)if(this.s=null,this.G==1){if(!c){this.U=Math.floor(1e5*Math.random()),c=this.U++;const M=new ds(this,this.j,c);let F=this.o;if(this.S&&(F?(F=S(F),A(F,this.S)):F=this.S),this.m!==null||this.O||(M.H=F,F=null),this.P)e:{for(var p=0,y=0;y<this.i.length;y++){t:{var R=this.i[y];if("__data__"in R.map&&(R=R.map.__data__,typeof R=="string")){R=R.length;break t}R=void 0}if(R===void 0)break;if(p+=R,4096<p){p=y;break e}if(p===4096||y===this.i.length-1){p=y+1;break e}}p=1e3}else p=1e3;p=jI(this,M,p),y=Ei(this.I),ze(y,"RID",c),ze(y,"CVER",22),this.D&&ze(y,"X-HTTP-Session-Id",this.D),Wu(this,y),F&&(this.O?p="headers="+encodeURIComponent(String(NI(F)))+"&"+p:this.m&&wy(y,this.m,F)),vy(this.h,M),this.Ua&&ze(y,"TYPE","init"),this.P?(ze(y,"$req",p),ze(y,"SID","null"),M.T=!0,my(M,y,null)):my(M,y,p),this.G=2}}else this.G==3&&(c?zI(this,c):this.i.length==0||SI(this.h)||zI(this))};function zI(c,p){var y;p?y=p.l:y=c.U++;const R=Ei(c.I);ze(R,"SID",c.K),ze(R,"RID",y),ze(R,"AID",c.T),Wu(c,R),c.m&&c.o&&wy(R,c.m,c.o),y=new ds(c,c.j,y,c.B+1),c.m===null&&(y.H=c.o),p&&(c.i=p.D.concat(c.i)),p=jI(c,y,1e3),y.I=Math.round(.5*c.wa)+Math.round(.5*c.wa*Math.random()),vy(c.h,y),my(y,R,p)}function Wu(c,p){c.H&&N(c.H,function(y,R){ze(p,R,y)}),c.l&&RI({},function(y,R){ze(p,R,y)})}function jI(c,p,y){y=Math.min(c.i.length,y);var R=c.l?f(c.l.Na,c.l,c):null;e:{var M=c.i;let F=-1;for(;;){const G=["count="+y];F==-1?0<y?(F=M[0].g,G.push("ofs="+F)):F=0:G.push("ofs="+F);let Ve=!0;for(let Kt=0;Kt<y;Kt++){let be=M[Kt].g;const nn=M[Kt].map;if(be-=F,0>be)F=Math.max(0,M[Kt].g-100),Ve=!1;else try{vM(nn,G,"req"+be+"_")}catch{R&&R(nn)}}if(Ve){R=G.join("&");break e}}}return c=c.i.splice(0,y),p.D=c,R}function WI(c){if(!c.g&&!c.u){c.Y=1;var p=c.Fa;nt||oe(),Y||(nt(),Y=!0),se.add(p,c),c.v=0}}function Sy(c){return c.g||c.u||3<=c.v?!1:(c.Y++,c.u=Nu(f(c.Fa,c),GI(c,c.v)),c.v++,!0)}t.Fa=function(){if(this.u=null,qI(this),this.ba&&!(this.M||this.g==null||0>=this.R)){var c=2*this.R;this.j.info("BP detection timer enabled: "+c),this.A=Nu(f(this.ab,this),c)}},t.ab=function(){this.A&&(this.A=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.M=!0,gn(10),Wh(this),qI(this))};function Iy(c){c.A!=null&&(a.clearTimeout(c.A),c.A=null)}function qI(c){c.g=new ds(c,c.j,"rpc",c.Y),c.m===null&&(c.g.H=c.o),c.g.O=0;var p=Ei(c.qa);ze(p,"RID","rpc"),ze(p,"SID",c.K),ze(p,"AID",c.T),ze(p,"CI",c.F?"0":"1"),!c.F&&c.ja&&ze(p,"TO",c.ja),ze(p,"TYPE","xmlhttp"),Wu(c,p),c.m&&c.o&&wy(p,c.m,c.o),c.L&&(c.g.I=c.L);var y=c.g;c=c.ia,y.L=1,y.v=$h(Ei(p)),y.m=null,y.P=!0,_I(y,c)}t.Za=function(){this.C!=null&&(this.C=null,Wh(this),Sy(this),gn(19))};function Hh(c){c.C!=null&&(a.clearTimeout(c.C),c.C=null)}function HI(c,p){var y=null;if(c.g==p){Hh(c),Iy(c),c.g=null;var R=2}else if(_y(c.h,p))y=p.D,TI(c.h,p),R=1;else return;if(c.G!=0){if(p.o)if(R==1){y=p.m?p.m.length:0,p=Date.now()-p.F;var M=c.B;R=Mh(),mn(R,new pI(R,y)),qh(c)}else WI(c);else if(M=p.s,M==3||M==0&&0<p.X||!(R==1&&IM(c,p)||R==2&&Sy(c)))switch(y&&0<y.length&&(p=c.h,p.i=p.i.concat(y)),M){case 1:bo(c,5);break;case 4:bo(c,10);break;case 3:bo(c,6);break;default:bo(c,2)}}}function GI(c,p){let y=c.Ta+Math.floor(Math.random()*c.cb);return c.isActive()||(y*=2),y*p}function bo(c,p){if(c.j.info("Error code "+p),p==2){var y=f(c.fb,c),R=c.Xa;const M=!R;R=new To(R||"//www.google.com/images/cleardot.gif"),a.location&&a.location.protocol=="http"||Uh(R,"https"),$h(R),M?gM(R.toString(),y):yM(R.toString(),y)}else gn(2);c.G=0,c.l&&c.l.sa(p),KI(c),$I(c)}t.fb=function(c){c?(this.j.info("Successfully pinged google.com"),gn(2)):(this.j.info("Failed to ping google.com"),gn(1))};function KI(c){if(c.G=0,c.ka=[],c.l){const p=bI(c.h);(p.length!=0||c.i.length!=0)&&(T(c.ka,p),T(c.ka,c.i),c.h.i.length=0,v(c.i),c.i.length=0),c.l.ra()}}function YI(c,p,y){var R=y instanceof To?Ei(y):new To(y);if(R.g!="")p&&(R.g=p+"."+R.g),Bh(R,R.s);else{var M=a.location;R=M.protocol,p=p?p+"."+M.hostname:M.hostname,M=+M.port;var F=new To(null);R&&Uh(F,R),p&&(F.g=p),M&&Bh(F,M),y&&(F.l=y),R=F}return y=c.D,p=c.ya,y&&p&&ze(R,y,p),ze(R,"VER",c.la),Wu(c,R),R}function QI(c,p,y){if(p&&!c.J)throw Error("Can't create secondary domain capable XhrIo object.");return p=c.Ca&&!c.pa?new ct(new Bu({eb:y})):new ct(c.pa),p.Ha(c.J),p}t.isActive=function(){return!!this.l&&this.l.isActive(this)};function JI(){}t=JI.prototype,t.ua=function(){},t.ta=function(){},t.sa=function(){},t.ra=function(){},t.isActive=function(){return!0},t.Na=function(){};function Gh(){}Gh.prototype.g=function(c,p){return new jn(c,p)};function jn(c,p){tn.call(this),this.g=new BI(p),this.l=c,this.h=p&&p.messageUrlParams||null,c=p&&p.messageHeaders||null,p&&p.clientProtocolHeaderRequired&&(c?c["X-Client-Protocol"]="webchannel":c={"X-Client-Protocol":"webchannel"}),this.g.o=c,c=p&&p.initMessageHeaders||null,p&&p.messageContentType&&(c?c["X-WebChannel-Content-Type"]=p.messageContentType:c={"X-WebChannel-Content-Type":p.messageContentType}),p&&p.va&&(c?c["X-WebChannel-Client-Profile"]=p.va:c={"X-WebChannel-Client-Profile":p.va}),this.g.S=c,(c=p&&p.Sb)&&!w(c)&&(this.g.m=c),this.v=p&&p.supportsCrossDomainXhr||!1,this.u=p&&p.sendRawJson||!1,(p=p&&p.httpSessionIdParam)&&!w(p)&&(this.g.D=p,c=this.h,c!==null&&p in c&&(c=this.h,p in c&&delete c[p])),this.j=new Na(this)}_(jn,tn),jn.prototype.m=function(){this.g.l=this.j,this.v&&(this.g.J=!0),this.g.connect(this.l,this.h||void 0)},jn.prototype.close=function(){Ey(this.g)},jn.prototype.o=function(c){var p=this.g;if(typeof c=="string"){var y={};y.__data__=c,c=y}else this.u&&(y={},y.__data__=uy(c),c=y);p.i.push(new oM(p.Ya++,c)),p.G==3&&qh(p)},jn.prototype.N=function(){this.g.l=null,delete this.j,Ey(this.g),delete this.g,jn.aa.N.call(this)};function XI(c){dy.call(this),c.__headers__&&(this.headers=c.__headers__,this.statusCode=c.__status__,delete c.__headers__,delete c.__status__);var p=c.__sm__;if(p){e:{for(const y in p){c=y;break e}c=void 0}(this.i=c)&&(c=this.i,p=p!==null&&c in p?p[c]:void 0),this.data=p}else this.data=c}_(XI,dy);function ZI(){hy.call(this),this.status=1}_(ZI,hy);function Na(c){this.g=c}_(Na,JI),Na.prototype.ua=function(){mn(this.g,"a")},Na.prototype.ta=function(c){mn(this.g,new XI(c))},Na.prototype.sa=function(c){mn(this.g,new ZI)},Na.prototype.ra=function(){mn(this.g,"b")},Gh.prototype.createWebChannel=Gh.prototype.g,jn.prototype.send=jn.prototype.o,jn.prototype.open=jn.prototype.m,jn.prototype.close=jn.prototype.close,wO=function(){return new Gh},vO=function(){return Mh()},_O=So,Qv={mb:0,pb:1,qb:2,Jb:3,Ob:4,Lb:5,Mb:6,Kb:7,Ib:8,Nb:9,PROXY:10,NOPROXY:11,Gb:12,Cb:13,Db:14,Bb:15,Eb:16,Fb:17,ib:18,hb:19,jb:20},Lh.NO_ERROR=0,Lh.TIMEOUT=8,Lh.HTTP_ERROR=6,Zf=Lh,mI.COMPLETE="complete",yO=mI,cI.EventType=Ou,Ou.OPEN="a",Ou.CLOSE="b",Ou.ERROR="c",Ou.MESSAGE="d",tn.prototype.listen=tn.prototype.K,Tc=cI,gO=Bu,ct.prototype.listenOnce=ct.prototype.L,ct.prototype.getLastError=ct.prototype.Ka,ct.prototype.getLastErrorCode=ct.prototype.Ba,ct.prototype.getStatus=ct.prototype.Z,ct.prototype.getResponseJson=ct.prototype.Oa,ct.prototype.getResponseText=ct.prototype.oa,ct.prototype.send=ct.prototype.ea,ct.prototype.setWithCredentials=ct.prototype.Ha,mO=ct}).apply(typeof Sf<"u"?Sf:typeof self<"u"?self:typeof window<"u"?window:{});const Lb="@firebase/firestore";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let zt=class{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}};zt.UNAUTHENTICATED=new zt(null),zt.GOOGLE_CREDENTIALS=new zt("google-credentials-uid"),zt.FIRST_PARTY=new zt("first-party-uid"),zt.MOCK_USER=new zt("mock-user");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let wu="10.13.2";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const to=new hg("@firebase/firestore");function Ya(){return to.logLevel}function z8(t){to.setLogLevel(t)}function j(t,...e){if(to.logLevel<=me.DEBUG){const n=e.map(kE);to.debug(`Firestore (${wu}): ${t}`,...n)}}function It(t,...e){if(to.logLevel<=me.ERROR){const n=e.map(kE);to.error(`Firestore (${wu}): ${t}`,...n)}}function Fr(t,...e){if(to.logLevel<=me.WARN){const n=e.map(kE);to.warn(`Firestore (${wu}): ${t}`,...n)}}function kE(t){if(typeof t=="string")return t;try{/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/return function(n){return JSON.stringify(n)}(t)}catch{return t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function X(t="Unexpected state"){const e=`FIRESTORE (${wu}) INTERNAL ASSERTION FAILED: `+t;throw It(e),new Error(e)}function te(t,e){t||X()}function j8(t,e){t||X()}function Q(t,e){return t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const V={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class z extends Sn{constructor(e,n){super(e,n),this.code=e,this.message=n,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qt{constructor(){this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class EO{constructor(e,n){this.user=n,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class W8{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,n){e.enqueueRetryable(()=>n(zt.UNAUTHENTICATED))}shutdown(){}}class q8{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,n){this.changeListener=n,e.enqueueRetryable(()=>n(this.token.user))}shutdown(){this.changeListener=null}}class H8{constructor(e){this.t=e,this.currentUser=zt.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,n){let r=this.i;const i=l=>this.i!==r?(r=this.i,n(l)):Promise.resolve();let s=new qt;this.o=()=>{this.i++,this.currentUser=this.u(),s.resolve(),s=new qt,e.enqueueRetryable(()=>i(this.currentUser))};const o=()=>{const l=s;e.enqueueRetryable(async()=>{await l.promise,await i(this.currentUser)})},a=l=>{j("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=l,this.auth.addAuthTokenListener(this.o),o()};this.t.onInit(l=>a(l)),setTimeout(()=>{if(!this.auth){const l=this.t.getImmediate({optional:!0});l?a(l):(j("FirebaseAuthCredentialsProvider","Auth not yet detected"),s.resolve(),s=new qt)}},0),o()}getToken(){const e=this.i,n=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(n).then(r=>this.i!==e?(j("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):r?(te(typeof r.accessToken=="string"),new EO(r.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.auth.removeAuthTokenListener(this.o)}u(){const e=this.auth&&this.auth.getUid();return te(e===null||typeof e=="string"),new zt(e)}}class G8{constructor(e,n,r){this.l=e,this.h=n,this.P=r,this.type="FirstParty",this.user=zt.FIRST_PARTY,this.I=new Map}T(){return this.P?this.P():null}get headers(){this.I.set("X-Goog-AuthUser",this.l);const e=this.T();return e&&this.I.set("Authorization",e),this.h&&this.I.set("X-Goog-Iam-Authorization-Token",this.h),this.I}}class K8{constructor(e,n,r){this.l=e,this.h=n,this.P=r}getToken(){return Promise.resolve(new G8(this.l,this.h,this.P))}start(e,n){e.enqueueRetryable(()=>n(zt.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class Y8{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class Q8{constructor(e){this.A=e,this.forceRefresh=!1,this.appCheck=null,this.R=null}start(e,n){const r=s=>{s.error!=null&&j("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${s.error.message}`);const o=s.token!==this.R;return this.R=s.token,j("FirebaseAppCheckTokenProvider",`Received ${o?"new":"existing"} token.`),o?n(s.token):Promise.resolve()};this.o=s=>{e.enqueueRetryable(()=>r(s))};const i=s=>{j("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=s,this.appCheck.addTokenListener(this.o)};this.A.onInit(s=>i(s)),setTimeout(()=>{if(!this.appCheck){const s=this.A.getImmediate({optional:!0});s?i(s):j("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then(n=>n?(te(typeof n.token=="string"),this.R=n.token,new Y8(n.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.appCheck.removeTokenListener(this.o)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function J8(t){const e=typeof self<"u"&&(self.crypto||self.msCrypto),n=new Uint8Array(t);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(n);else for(let r=0;r<t;r++)n[r]=Math.floor(256*Math.random());return n}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class SO{static newId(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",n=Math.floor(256/e.length)*e.length;let r="";for(;r.length<20;){const i=J8(40);for(let s=0;s<i.length;++s)r.length<20&&i[s]<n&&(r+=e.charAt(i[s]%e.length))}return r}}function ae(t,e){return t<e?-1:t>e?1:0}function Hl(t,e,n){return t.length===e.length&&t.every((r,i)=>n(r,e[i]))}function IO(t){return t+"\0"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tt{constructor(e,n){if(this.seconds=e,this.nanoseconds=n,n<0)throw new z(V.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(n>=1e9)throw new z(V.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(e<-62135596800)throw new z(V.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new z(V.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}static now(){return tt.fromMillis(Date.now())}static fromDate(e){return tt.fromMillis(e.getTime())}static fromMillis(e){const n=Math.floor(e/1e3),r=Math.floor(1e6*(e-1e3*n));return new tt(n,r)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/1e6}_compareTo(e){return this.seconds===e.seconds?ae(this.nanoseconds,e.nanoseconds):ae(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){const e=this.seconds- -62135596800;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ne{constructor(e){this.timestamp=e}static fromTimestamp(e){return new ne(e)}static min(){return new ne(new tt(0,0))}static max(){return new ne(new tt(253402300799,999999999))}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kd{constructor(e,n,r){n===void 0?n=0:n>e.length&&X(),r===void 0?r=e.length-n:r>e.length-n&&X(),this.segments=e,this.offset=n,this.len=r}get length(){return this.len}isEqual(e){return kd.comparator(this,e)===0}child(e){const n=this.segments.slice(this.offset,this.limit());return e instanceof kd?e.forEach(r=>{n.push(r)}):n.push(e),this.construct(n)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}forEach(e){for(let n=this.offset,r=this.limit();n<r;n++)e(this.segments[n])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,n){const r=Math.min(e.length,n.length);for(let i=0;i<r;i++){const s=e.get(i),o=n.get(i);if(s<o)return-1;if(s>o)return 1}return e.length<n.length?-1:e.length>n.length?1:0}}class ye extends kd{construct(e,n,r){return new ye(e,n,r)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){const n=[];for(const r of e){if(r.indexOf("//")>=0)throw new z(V.INVALID_ARGUMENT,`Invalid segment (${r}). Paths must not contain // in them.`);n.push(...r.split("/").filter(i=>i.length>0))}return new ye(n)}static emptyPath(){return new ye([])}}const X8=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class Ze extends kd{construct(e,n,r){return new Ze(e,n,r)}static isValidIdentifier(e){return X8.test(e)}canonicalString(){return this.toArray().map(e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),Ze.isValidIdentifier(e)||(e="`"+e+"`"),e)).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)==="__name__"}static keyField(){return new Ze(["__name__"])}static fromServerFormat(e){const n=[];let r="",i=0;const s=()=>{if(r.length===0)throw new z(V.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);n.push(r),r=""};let o=!1;for(;i<e.length;){const a=e[i];if(a==="\\"){if(i+1===e.length)throw new z(V.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const l=e[i+1];if(l!=="\\"&&l!=="."&&l!=="`")throw new z(V.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);r+=l,i+=2}else a==="`"?(o=!o,i++):a!=="."||o?(r+=a,i++):(s(),i++)}if(s(),o)throw new z(V.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new Ze(n)}static emptyPath(){return new Ze([])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class K{constructor(e){this.path=e}static fromPath(e){return new K(ye.fromString(e))}static fromName(e){return new K(ye.fromString(e).popFirst(5))}static empty(){return new K(ye.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&ye.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,n){return ye.comparator(e.path,n.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new K(new ye(e.slice()))}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class am{constructor(e,n,r,i){this.indexId=e,this.collectionGroup=n,this.fields=r,this.indexState=i}}function Jv(t){return t.fields.find(e=>e.kind===2)}function Do(t){return t.fields.filter(e=>e.kind!==2)}am.UNKNOWN_ID=-1;class ep{constructor(e,n){this.fieldPath=e,this.kind=n}}class Cd{constructor(e,n){this.sequenceNumber=e,this.offset=n}static empty(){return new Cd(0,nr.min())}}function TO(t,e){const n=t.toTimestamp().seconds,r=t.toTimestamp().nanoseconds+1,i=ne.fromTimestamp(r===1e9?new tt(n+1,0):new tt(n,r));return new nr(i,K.empty(),e)}function bO(t){return new nr(t.readTime,t.key,-1)}class nr{constructor(e,n,r){this.readTime=e,this.documentKey=n,this.largestBatchId=r}static min(){return new nr(ne.min(),K.empty(),-1)}static max(){return new nr(ne.max(),K.empty(),-1)}}function CE(t,e){let n=t.readTime.compareTo(e.readTime);return n!==0?n:(n=K.comparator(t.documentKey,e.documentKey),n!==0?n:ae(t.largestBatchId,e.largestBatchId))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const RO="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class AO{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(e=>e())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function yo(t){if(t.code!==V.FAILED_PRECONDITION||t.message!==RO)throw t;j("LocalStore","Unexpectedly lost primary lease")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class L{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e(n=>{this.isDone=!0,this.result=n,this.nextCallback&&this.nextCallback(n)},n=>{this.isDone=!0,this.error=n,this.catchCallback&&this.catchCallback(n)})}catch(e){return this.next(void 0,e)}next(e,n){return this.callbackAttached&&X(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(n,this.error):this.wrapSuccess(e,this.result):new L((r,i)=>{this.nextCallback=s=>{this.wrapSuccess(e,s).next(r,i)},this.catchCallback=s=>{this.wrapFailure(n,s).next(r,i)}})}toPromise(){return new Promise((e,n)=>{this.next(e,n)})}wrapUserFunction(e){try{const n=e();return n instanceof L?n:L.resolve(n)}catch(n){return L.reject(n)}}wrapSuccess(e,n){return e?this.wrapUserFunction(()=>e(n)):L.resolve(n)}wrapFailure(e,n){return e?this.wrapUserFunction(()=>e(n)):L.reject(n)}static resolve(e){return new L((n,r)=>{n(e)})}static reject(e){return new L((n,r)=>{r(e)})}static waitFor(e){return new L((n,r)=>{let i=0,s=0,o=!1;e.forEach(a=>{++i,a.next(()=>{++s,o&&s===i&&n()},l=>r(l))}),o=!0,s===i&&n()})}static or(e){let n=L.resolve(!1);for(const r of e)n=n.next(i=>i?L.resolve(i):r());return n}static forEach(e,n){const r=[];return e.forEach((i,s)=>{r.push(n.call(this,i,s))}),this.waitFor(r)}static mapArray(e,n){return new L((r,i)=>{const s=e.length,o=new Array(s);let a=0;for(let l=0;l<s;l++){const u=l;n(e[u]).next(d=>{o[u]=d,++a,a===s&&r(o)},d=>i(d))}})}static doWhile(e,n){return new L((r,i)=>{const s=()=>{e()===!0?n().next(()=>{s()},i):r()};s()})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bg{constructor(e,n){this.action=e,this.transaction=n,this.aborted=!1,this.V=new qt,this.transaction.oncomplete=()=>{this.V.resolve()},this.transaction.onabort=()=>{n.error?this.V.reject(new Wc(e,n.error)):this.V.resolve()},this.transaction.onerror=r=>{const i=xE(r.target.error);this.V.reject(new Wc(e,i))}}static open(e,n,r,i){try{return new bg(n,e.transaction(i,r))}catch(s){throw new Wc(n,s)}}get m(){return this.V.promise}abort(e){e&&this.V.reject(e),this.aborted||(j("SimpleDb","Aborting transaction:",e?e.message:"Client-initiated abort"),this.aborted=!0,this.transaction.abort())}g(){const e=this.transaction;this.aborted||typeof e.commit!="function"||e.commit()}store(e){const n=this.transaction.objectStore(e);return new eq(n)}}class ci{constructor(e,n,r){this.name=e,this.version=n,this.p=r,ci.S(ut())===12.2&&It("Firestore persistence suffers from a bug in iOS 12.2 Safari that may cause your app to stop working. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.")}static delete(e){return j("SimpleDb","Removing database:",e),Mo(window.indexedDB.deleteDatabase(e)).toPromise()}static D(){if(!Sd())return!1;if(ci.v())return!0;const e=ut(),n=ci.S(e),r=0<n&&n<10,i=PO(e),s=0<i&&i<4.5;return!(e.indexOf("MSIE ")>0||e.indexOf("Trident/")>0||e.indexOf("Edge/")>0||r||s)}static v(){var e;return typeof process<"u"&&((e=process.__PRIVATE_env)===null||e===void 0?void 0:e.C)==="YES"}static F(e,n){return e.store(n)}static S(e){const n=e.match(/i(?:phone|pad|pod) os ([\d_]+)/i),r=n?n[1].split("_").slice(0,2).join("."):"-1";return Number(r)}async M(e){return this.db||(j("SimpleDb","Opening database:",this.name),this.db=await new Promise((n,r)=>{const i=indexedDB.open(this.name,this.version);i.onsuccess=s=>{const o=s.target.result;n(o)},i.onblocked=()=>{r(new Wc(e,"Cannot upgrade IndexedDB schema while another tab is open. Close all tabs that access Firestore and reload this page to proceed."))},i.onerror=s=>{const o=s.target.error;o.name==="VersionError"?r(new z(V.FAILED_PRECONDITION,"A newer version of the Firestore SDK was previously used and so the persisted data is not compatible with the version of the SDK you are now using. The SDK will operate with persistence disabled. If you need persistence, please re-upgrade to a newer version of the SDK or else clear the persisted IndexedDB data for your app to start fresh.")):o.name==="InvalidStateError"?r(new z(V.FAILED_PRECONDITION,"Unable to open an IndexedDB connection. This could be due to running in a private browsing session on a browser whose private browsing sessions do not support IndexedDB: "+o)):r(new Wc(e,o))},i.onupgradeneeded=s=>{j("SimpleDb",'Database "'+this.name+'" requires upgrade from version:',s.oldVersion);const o=s.target.result;this.p.O(o,i.transaction,s.oldVersion,this.version).next(()=>{j("SimpleDb","Database upgrade to version "+this.version+" complete")})}})),this.N&&(this.db.onversionchange=n=>this.N(n)),this.db}L(e){this.N=e,this.db&&(this.db.onversionchange=n=>e(n))}async runTransaction(e,n,r,i){const s=n==="readonly";let o=0;for(;;){++o;try{this.db=await this.M(e);const a=bg.open(this.db,e,s?"readonly":"readwrite",r),l=i(a).next(u=>(a.g(),u)).catch(u=>(a.abort(u),L.reject(u))).toPromise();return l.catch(()=>{}),await a.m,l}catch(a){const l=a,u=l.name!=="FirebaseError"&&o<3;if(j("SimpleDb","Transaction failed with error:",l.message,"Retrying:",u),this.close(),!u)return Promise.reject(l)}}}close(){this.db&&this.db.close(),this.db=void 0}}function PO(t){const e=t.match(/Android ([\d.]+)/i),n=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(n)}class Z8{constructor(e){this.B=e,this.k=!1,this.q=null}get isDone(){return this.k}get K(){return this.q}set cursor(e){this.B=e}done(){this.k=!0}$(e){this.q=e}delete(){return Mo(this.B.delete())}}class Wc extends z{constructor(e,n){super(V.UNAVAILABLE,`IndexedDB transaction '${e}' failed: ${n}`),this.name="IndexedDbTransactionError"}}function _o(t){return t.name==="IndexedDbTransactionError"}class eq{constructor(e){this.store=e}put(e,n){let r;return n!==void 0?(j("SimpleDb","PUT",this.store.name,e,n),r=this.store.put(n,e)):(j("SimpleDb","PUT",this.store.name,"<auto-key>",e),r=this.store.put(e)),Mo(r)}add(e){return j("SimpleDb","ADD",this.store.name,e,e),Mo(this.store.add(e))}get(e){return Mo(this.store.get(e)).next(n=>(n===void 0&&(n=null),j("SimpleDb","GET",this.store.name,e,n),n))}delete(e){return j("SimpleDb","DELETE",this.store.name,e),Mo(this.store.delete(e))}count(){return j("SimpleDb","COUNT",this.store.name),Mo(this.store.count())}U(e,n){const r=this.options(e,n),i=r.index?this.store.index(r.index):this.store;if(typeof i.getAll=="function"){const s=i.getAll(r.range);return new L((o,a)=>{s.onerror=l=>{a(l.target.error)},s.onsuccess=l=>{o(l.target.result)}})}{const s=this.cursor(r),o=[];return this.W(s,(a,l)=>{o.push(l)}).next(()=>o)}}G(e,n){const r=this.store.getAll(e,n===null?void 0:n);return new L((i,s)=>{r.onerror=o=>{s(o.target.error)},r.onsuccess=o=>{i(o.target.result)}})}j(e,n){j("SimpleDb","DELETE ALL",this.store.name);const r=this.options(e,n);r.H=!1;const i=this.cursor(r);return this.W(i,(s,o,a)=>a.delete())}J(e,n){let r;n?r=e:(r={},n=e);const i=this.cursor(r);return this.W(i,n)}Y(e){const n=this.cursor({});return new L((r,i)=>{n.onerror=s=>{const o=xE(s.target.error);i(o)},n.onsuccess=s=>{const o=s.target.result;o?e(o.primaryKey,o.value).next(a=>{a?o.continue():r()}):r()}})}W(e,n){const r=[];return new L((i,s)=>{e.onerror=o=>{s(o.target.error)},e.onsuccess=o=>{const a=o.target.result;if(!a)return void i();const l=new Z8(a),u=n(a.primaryKey,a.value,l);if(u instanceof L){const d=u.catch(h=>(l.done(),L.reject(h)));r.push(d)}l.isDone?i():l.K===null?a.continue():a.continue(l.K)}}).next(()=>L.waitFor(r))}options(e,n){let r;return e!==void 0&&(typeof e=="string"?r=e:n=e),{index:r,range:n}}cursor(e){let n="next";if(e.reverse&&(n="prev"),e.index){const r=this.store.index(e.index);return e.H?r.openKeyCursor(e.range,n):r.openCursor(e.range,n)}return this.store.openCursor(e.range,n)}}function Mo(t){return new L((e,n)=>{t.onsuccess=r=>{const i=r.target.result;e(i)},t.onerror=r=>{const i=xE(r.target.error);n(i)}})}let Vb=!1;function xE(t){const e=ci.S(ut());if(e>=12.2&&e<13){const n="An internal error was encountered in the Indexed Database server";if(t.message.indexOf(n)>=0){const r=new z("internal",`IOS_INDEXEDDB_BUG1: IndexedDb has thrown '${n}'. This is likely due to an unavoidable bug in iOS. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.`);return Vb||(Vb=!0,setTimeout(()=>{throw r},0)),r}}return t}class tq{constructor(e,n){this.asyncQueue=e,this.Z=n,this.task=null}start(){this.X(15e3)}stop(){this.task&&(this.task.cancel(),this.task=null)}get started(){return this.task!==null}X(e){j("IndexBackfiller",`Scheduled in ${e}ms`),this.task=this.asyncQueue.enqueueAfterDelay("index_backfill",e,async()=>{this.task=null;try{j("IndexBackfiller",`Documents written: ${await this.Z.ee()}`)}catch(n){_o(n)?j("IndexBackfiller","Ignoring IndexedDB error during index backfill: ",n):await yo(n)}await this.X(6e4)})}}class nq{constructor(e,n){this.localStore=e,this.persistence=n}async ee(e=50){return this.persistence.runTransaction("Backfill Indexes","readwrite-primary",n=>this.te(n,e))}te(e,n){const r=new Set;let i=n,s=!0;return L.doWhile(()=>s===!0&&i>0,()=>this.localStore.indexManager.getNextCollectionGroupToUpdate(e).next(o=>{if(o!==null&&!r.has(o))return j("IndexBackfiller",`Processing collection: ${o}`),this.ne(e,o,i).next(a=>{i-=a,r.add(o)});s=!1})).next(()=>n-i)}ne(e,n,r){return this.localStore.indexManager.getMinOffsetFromCollectionGroup(e,n).next(i=>this.localStore.localDocuments.getNextDocuments(e,n,i,r).next(s=>{const o=s.changes;return this.localStore.indexManager.updateIndexEntries(e,o).next(()=>this.re(i,s)).next(a=>(j("IndexBackfiller",`Updating offset: ${a}`),this.localStore.indexManager.updateCollectionGroup(e,n,a))).next(()=>o.size)}))}re(e,n){let r=e;return n.changes.forEach((i,s)=>{const o=bO(s);CE(o,r)>0&&(r=o)}),new nr(r.readTime,r.documentKey,Math.max(n.batchId,e.largestBatchId))}}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Dn{constructor(e,n){this.previousValue=e,n&&(n.sequenceNumberHandler=r=>this.ie(r),this.se=r=>n.writeSequenceNumber(r))}ie(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this.se&&this.se(e),e}}Dn.oe=-1;function gh(t){return t==null}function xd(t){return t===0&&1/t==-1/0}function kO(t){return typeof t=="number"&&Number.isInteger(t)&&!xd(t)&&t<=Number.MAX_SAFE_INTEGER&&t>=Number.MIN_SAFE_INTEGER}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function In(t){let e="";for(let n=0;n<t.length;n++)e.length>0&&(e=Fb(e)),e=rq(t.get(n),e);return Fb(e)}function rq(t,e){let n=e;const r=t.length;for(let i=0;i<r;i++){const s=t.charAt(i);switch(s){case"\0":n+="";break;case"":n+="";break;default:n+=s}}return n}function Fb(t){return t+""}function si(t){const e=t.length;if(te(e>=2),e===2)return te(t.charAt(0)===""&&t.charAt(1)===""),ye.emptyPath();const n=e-2,r=[];let i="";for(let s=0;s<e;){const o=t.indexOf("",s);switch((o<0||o>n)&&X(),t.charAt(o+1)){case"":const a=t.substring(s,o);let l;i.length===0?l=a:(i+=a,l=i,i=""),r.push(l);break;case"":i+=t.substring(s,o),i+="\0";break;case"":i+=t.substring(s,o+1);break;default:X()}s=o+2}return new ye(r)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ub=["userId","batchId"];/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function tp(t,e){return[t,In(e)]}function CO(t,e,n){return[t,In(e),n]}const iq={},sq=["prefixPath","collectionGroup","readTime","documentId"],oq=["prefixPath","collectionGroup","documentId"],aq=["collectionGroup","readTime","prefixPath","documentId"],lq=["canonicalId","targetId"],uq=["targetId","path"],cq=["path","targetId"],dq=["collectionId","parent"],hq=["indexId","uid"],fq=["uid","sequenceNumber"],pq=["indexId","uid","arrayValue","directionalValue","orderedDocumentKey","documentKey"],mq=["indexId","uid","orderedDocumentKey"],gq=["userId","collectionPath","documentId"],yq=["userId","collectionPath","largestBatchId"],_q=["userId","collectionGroup","largestBatchId"],xO=["mutationQueues","mutations","documentMutations","remoteDocuments","targets","owner","targetGlobal","targetDocuments","clientMetadata","remoteDocumentGlobal","collectionParents","bundles","namedQueries"],vq=[...xO,"documentOverlays"],OO=["mutationQueues","mutations","documentMutations","remoteDocumentsV14","targets","owner","targetGlobal","targetDocuments","clientMetadata","remoteDocumentGlobal","collectionParents","bundles","namedQueries","documentOverlays"],DO=OO,OE=[...DO,"indexConfiguration","indexState","indexEntries"],wq=OE,Eq=[...OE,"globals"];/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Xv extends AO{constructor(e,n){super(),this._e=e,this.currentSequenceNumber=n}}function Vt(t,e){const n=Q(t);return ci.F(n._e,e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Bb(t){let e=0;for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&e++;return e}function Ta(t,e){for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&e(n,t[n])}function NO(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $e{constructor(e,n){this.comparator=e,this.root=n||Qt.EMPTY}insert(e,n){return new $e(this.comparator,this.root.insert(e,n,this.comparator).copy(null,null,Qt.BLACK,null,null))}remove(e){return new $e(this.comparator,this.root.remove(e,this.comparator).copy(null,null,Qt.BLACK,null,null))}get(e){let n=this.root;for(;!n.isEmpty();){const r=this.comparator(e,n.key);if(r===0)return n.value;r<0?n=n.left:r>0&&(n=n.right)}return null}indexOf(e){let n=0,r=this.root;for(;!r.isEmpty();){const i=this.comparator(e,r.key);if(i===0)return n+r.left.size;i<0?r=r.left:(n+=r.left.size+1,r=r.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal((n,r)=>(e(n,r),!1))}toString(){const e=[];return this.inorderTraversal((n,r)=>(e.push(`${n}:${r}`),!1)),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new If(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new If(this.root,e,this.comparator,!1)}getReverseIterator(){return new If(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new If(this.root,e,this.comparator,!0)}}class If{constructor(e,n,r,i){this.isReverse=i,this.nodeStack=[];let s=1;for(;!e.isEmpty();)if(s=n?r(e.key,n):1,n&&i&&(s*=-1),s<0)e=this.isReverse?e.left:e.right;else{if(s===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const n={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return n}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class Qt{constructor(e,n,r,i,s){this.key=e,this.value=n,this.color=r??Qt.RED,this.left=i??Qt.EMPTY,this.right=s??Qt.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,n,r,i,s){return new Qt(e??this.key,n??this.value,r??this.color,i??this.left,s??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,n,r){let i=this;const s=r(e,i.key);return i=s<0?i.copy(null,null,null,i.left.insert(e,n,r),null):s===0?i.copy(null,n,null,null,null):i.copy(null,null,null,null,i.right.insert(e,n,r)),i.fixUp()}removeMin(){if(this.left.isEmpty())return Qt.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,n){let r,i=this;if(n(e,i.key)<0)i.left.isEmpty()||i.left.isRed()||i.left.left.isRed()||(i=i.moveRedLeft()),i=i.copy(null,null,null,i.left.remove(e,n),null);else{if(i.left.isRed()&&(i=i.rotateRight()),i.right.isEmpty()||i.right.isRed()||i.right.left.isRed()||(i=i.moveRedRight()),n(e,i.key)===0){if(i.right.isEmpty())return Qt.EMPTY;r=i.right.min(),i=i.copy(r.key,r.value,null,null,i.right.removeMin())}i=i.copy(null,null,null,null,i.right.remove(e,n))}return i.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,Qt.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,Qt.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),n=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,n)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed()||this.right.isRed())throw X();const e=this.left.check();if(e!==this.right.check())throw X();return e+(this.isRed()?0:1)}}Qt.EMPTY=null,Qt.RED=!0,Qt.BLACK=!1;Qt.EMPTY=new class{constructor(){this.size=0}get key(){throw X()}get value(){throw X()}get color(){throw X()}get left(){throw X()}get right(){throw X()}copy(e,n,r,i,s){return this}insert(e,n,r){return new Qt(e,n)}remove(e,n){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ne{constructor(e){this.comparator=e,this.data=new $e(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal((n,r)=>(e(n),!1))}forEachInRange(e,n){const r=this.data.getIteratorFrom(e[0]);for(;r.hasNext();){const i=r.getNext();if(this.comparator(i.key,e[1])>=0)return;n(i.key)}}forEachWhile(e,n){let r;for(r=n!==void 0?this.data.getIteratorFrom(n):this.data.getIterator();r.hasNext();)if(!e(r.getNext().key))return}firstAfterOrEqual(e){const n=this.data.getIteratorFrom(e);return n.hasNext()?n.getNext().key:null}getIterator(){return new $b(this.data.getIterator())}getIteratorFrom(e){return new $b(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let n=this;return n.size<e.size&&(n=e,e=this),e.forEach(r=>{n=n.add(r)}),n}isEqual(e){if(!(e instanceof Ne)||this.size!==e.size)return!1;const n=this.data.getIterator(),r=e.data.getIterator();for(;n.hasNext();){const i=n.getNext().key,s=r.getNext().key;if(this.comparator(i,s)!==0)return!1}return!0}toArray(){const e=[];return this.forEach(n=>{e.push(n)}),e}toString(){const e=[];return this.forEach(n=>e.push(n)),"SortedSet("+e.toString()+")"}copy(e){const n=new Ne(this.comparator);return n.data=e,n}}class $b{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}function ja(t){return t.hasNext()?t.getNext():void 0}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Nn{constructor(e){this.fields=e,e.sort(Ze.comparator)}static empty(){return new Nn([])}unionWith(e){let n=new Ne(Ze.comparator);for(const r of this.fields)n=n.add(r);for(const r of e)n=n.add(r);return new Nn(n.toArray())}covers(e){for(const n of this.fields)if(n.isPrefixOf(e))return!0;return!1}isEqual(e){return Hl(this.fields,e.fields,(n,r)=>n.isEqual(r))}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class MO extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Sq(){return typeof atob<"u"}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gt{constructor(e){this.binaryString=e}static fromBase64String(e){const n=function(i){try{return atob(i)}catch(s){throw typeof DOMException<"u"&&s instanceof DOMException?new MO("Invalid base64 string: "+s):s}}(e);return new gt(n)}static fromUint8Array(e){const n=function(i){let s="";for(let o=0;o<i.length;++o)s+=String.fromCharCode(i[o]);return s}(e);return new gt(n)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return function(n){return btoa(n)}(this.binaryString)}toUint8Array(){return function(n){const r=new Uint8Array(n.length);for(let i=0;i<n.length;i++)r[i]=n.charCodeAt(i);return r}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return ae(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}gt.EMPTY_BYTE_STRING=new gt("");const Iq=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function Xi(t){if(te(!!t),typeof t=="string"){let e=0;const n=Iq.exec(t);if(te(!!n),n[1]){let i=n[1];i=(i+"000000000").substr(0,9),e=Number(i)}const r=new Date(t);return{seconds:Math.floor(r.getTime()/1e3),nanos:e}}return{seconds:Je(t.seconds),nanos:Je(t.nanos)}}function Je(t){return typeof t=="number"?t:typeof t=="string"?Number(t):0}function no(t){return typeof t=="string"?gt.fromBase64String(t):gt.fromUint8Array(t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Rg(t){var e,n;return((n=(((e=t==null?void 0:t.mapValue)===null||e===void 0?void 0:e.fields)||{}).__type__)===null||n===void 0?void 0:n.stringValue)==="server_timestamp"}function DE(t){const e=t.mapValue.fields.__previous_value__;return Rg(e)?DE(e):e}function Od(t){const e=Xi(t.mapValue.fields.__local_write_time__.timestampValue);return new tt(e.seconds,e.nanos)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Tq{constructor(e,n,r,i,s,o,a,l,u){this.databaseId=e,this.appId=n,this.persistenceKey=r,this.host=i,this.ssl=s,this.forceLongPolling=o,this.autoDetectLongPolling=a,this.longPollingOptions=l,this.useFetchStreams=u}}class ro{constructor(e,n){this.projectId=e,this.database=n||"(default)"}static empty(){return new ro("","")}get isDefaultDatabase(){return this.database==="(default)"}isEqual(e){return e instanceof ro&&e.projectId===this.projectId&&e.database===this.database}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const xs={mapValue:{fields:{__type__:{stringValue:"__max__"}}}},np={nullValue:"NULL_VALUE"};function ua(t){return"nullValue"in t?0:"booleanValue"in t?1:"integerValue"in t||"doubleValue"in t?2:"timestampValue"in t?3:"stringValue"in t?5:"bytesValue"in t?6:"referenceValue"in t?7:"geoPointValue"in t?8:"arrayValue"in t?9:"mapValue"in t?Rg(t)?4:LO(t)?9007199254740991:Ag(t)?10:11:X()}function pi(t,e){if(t===e)return!0;const n=ua(t);if(n!==ua(e))return!1;switch(n){case 0:case 9007199254740991:return!0;case 1:return t.booleanValue===e.booleanValue;case 4:return Od(t).isEqual(Od(e));case 3:return function(i,s){if(typeof i.timestampValue=="string"&&typeof s.timestampValue=="string"&&i.timestampValue.length===s.timestampValue.length)return i.timestampValue===s.timestampValue;const o=Xi(i.timestampValue),a=Xi(s.timestampValue);return o.seconds===a.seconds&&o.nanos===a.nanos}(t,e);case 5:return t.stringValue===e.stringValue;case 6:return function(i,s){return no(i.bytesValue).isEqual(no(s.bytesValue))}(t,e);case 7:return t.referenceValue===e.referenceValue;case 8:return function(i,s){return Je(i.geoPointValue.latitude)===Je(s.geoPointValue.latitude)&&Je(i.geoPointValue.longitude)===Je(s.geoPointValue.longitude)}(t,e);case 2:return function(i,s){if("integerValue"in i&&"integerValue"in s)return Je(i.integerValue)===Je(s.integerValue);if("doubleValue"in i&&"doubleValue"in s){const o=Je(i.doubleValue),a=Je(s.doubleValue);return o===a?xd(o)===xd(a):isNaN(o)&&isNaN(a)}return!1}(t,e);case 9:return Hl(t.arrayValue.values||[],e.arrayValue.values||[],pi);case 10:case 11:return function(i,s){const o=i.mapValue.fields||{},a=s.mapValue.fields||{};if(Bb(o)!==Bb(a))return!1;for(const l in o)if(o.hasOwnProperty(l)&&(a[l]===void 0||!pi(o[l],a[l])))return!1;return!0}(t,e);default:return X()}}function Dd(t,e){return(t.values||[]).find(n=>pi(n,e))!==void 0}function io(t,e){if(t===e)return 0;const n=ua(t),r=ua(e);if(n!==r)return ae(n,r);switch(n){case 0:case 9007199254740991:return 0;case 1:return ae(t.booleanValue,e.booleanValue);case 2:return function(s,o){const a=Je(s.integerValue||s.doubleValue),l=Je(o.integerValue||o.doubleValue);return a<l?-1:a>l?1:a===l?0:isNaN(a)?isNaN(l)?0:-1:1}(t,e);case 3:return zb(t.timestampValue,e.timestampValue);case 4:return zb(Od(t),Od(e));case 5:return ae(t.stringValue,e.stringValue);case 6:return function(s,o){const a=no(s),l=no(o);return a.compareTo(l)}(t.bytesValue,e.bytesValue);case 7:return function(s,o){const a=s.split("/"),l=o.split("/");for(let u=0;u<a.length&&u<l.length;u++){const d=ae(a[u],l[u]);if(d!==0)return d}return ae(a.length,l.length)}(t.referenceValue,e.referenceValue);case 8:return function(s,o){const a=ae(Je(s.latitude),Je(o.latitude));return a!==0?a:ae(Je(s.longitude),Je(o.longitude))}(t.geoPointValue,e.geoPointValue);case 9:return jb(t.arrayValue,e.arrayValue);case 10:return function(s,o){var a,l,u,d;const h=s.fields||{},f=o.fields||{},g=(a=h.value)===null||a===void 0?void 0:a.arrayValue,_=(l=f.value)===null||l===void 0?void 0:l.arrayValue,v=ae(((u=g==null?void 0:g.values)===null||u===void 0?void 0:u.length)||0,((d=_==null?void 0:_.values)===null||d===void 0?void 0:d.length)||0);return v!==0?v:jb(g,_)}(t.mapValue,e.mapValue);case 11:return function(s,o){if(s===xs.mapValue&&o===xs.mapValue)return 0;if(s===xs.mapValue)return 1;if(o===xs.mapValue)return-1;const a=s.fields||{},l=Object.keys(a),u=o.fields||{},d=Object.keys(u);l.sort(),d.sort();for(let h=0;h<l.length&&h<d.length;++h){const f=ae(l[h],d[h]);if(f!==0)return f;const g=io(a[l[h]],u[d[h]]);if(g!==0)return g}return ae(l.length,d.length)}(t.mapValue,e.mapValue);default:throw X()}}function zb(t,e){if(typeof t=="string"&&typeof e=="string"&&t.length===e.length)return ae(t,e);const n=Xi(t),r=Xi(e),i=ae(n.seconds,r.seconds);return i!==0?i:ae(n.nanos,r.nanos)}function jb(t,e){const n=t.values||[],r=e.values||[];for(let i=0;i<n.length&&i<r.length;++i){const s=io(n[i],r[i]);if(s)return s}return ae(n.length,r.length)}function Gl(t){return Zv(t)}function Zv(t){return"nullValue"in t?"null":"booleanValue"in t?""+t.booleanValue:"integerValue"in t?""+t.integerValue:"doubleValue"in t?""+t.doubleValue:"timestampValue"in t?function(n){const r=Xi(n);return`time(${r.seconds},${r.nanos})`}(t.timestampValue):"stringValue"in t?t.stringValue:"bytesValue"in t?function(n){return no(n).toBase64()}(t.bytesValue):"referenceValue"in t?function(n){return K.fromName(n).toString()}(t.referenceValue):"geoPointValue"in t?function(n){return`geo(${n.latitude},${n.longitude})`}(t.geoPointValue):"arrayValue"in t?function(n){let r="[",i=!0;for(const s of n.values||[])i?i=!1:r+=",",r+=Zv(s);return r+"]"}(t.arrayValue):"mapValue"in t?function(n){const r=Object.keys(n.fields||{}).sort();let i="{",s=!0;for(const o of r)s?s=!1:i+=",",i+=`${o}:${Zv(n.fields[o])}`;return i+"}"}(t.mapValue):X()}function ca(t,e){return{referenceValue:`projects/${t.projectId}/databases/${t.database}/documents/${e.path.canonicalString()}`}}function e0(t){return!!t&&"integerValue"in t}function Nd(t){return!!t&&"arrayValue"in t}function Wb(t){return!!t&&"nullValue"in t}function qb(t){return!!t&&"doubleValue"in t&&isNaN(Number(t.doubleValue))}function rp(t){return!!t&&"mapValue"in t}function Ag(t){var e,n;return((n=(((e=t==null?void 0:t.mapValue)===null||e===void 0?void 0:e.fields)||{}).__type__)===null||n===void 0?void 0:n.stringValue)==="__vector__"}function qc(t){if(t.geoPointValue)return{geoPointValue:Object.assign({},t.geoPointValue)};if(t.timestampValue&&typeof t.timestampValue=="object")return{timestampValue:Object.assign({},t.timestampValue)};if(t.mapValue){const e={mapValue:{fields:{}}};return Ta(t.mapValue.fields,(n,r)=>e.mapValue.fields[n]=qc(r)),e}if(t.arrayValue){const e={arrayValue:{values:[]}};for(let n=0;n<(t.arrayValue.values||[]).length;++n)e.arrayValue.values[n]=qc(t.arrayValue.values[n]);return e}return Object.assign({},t)}function LO(t){return(((t.mapValue||{}).fields||{}).__type__||{}).stringValue==="__max__"}const VO={mapValue:{fields:{__type__:{stringValue:"__vector__"},value:{arrayValue:{}}}}};function bq(t){return"nullValue"in t?np:"booleanValue"in t?{booleanValue:!1}:"integerValue"in t||"doubleValue"in t?{doubleValue:NaN}:"timestampValue"in t?{timestampValue:{seconds:Number.MIN_SAFE_INTEGER}}:"stringValue"in t?{stringValue:""}:"bytesValue"in t?{bytesValue:""}:"referenceValue"in t?ca(ro.empty(),K.empty()):"geoPointValue"in t?{geoPointValue:{latitude:-90,longitude:-180}}:"arrayValue"in t?{arrayValue:{}}:"mapValue"in t?Ag(t)?VO:{mapValue:{}}:X()}function Rq(t){return"nullValue"in t?{booleanValue:!1}:"booleanValue"in t?{doubleValue:NaN}:"integerValue"in t||"doubleValue"in t?{timestampValue:{seconds:Number.MIN_SAFE_INTEGER}}:"timestampValue"in t?{stringValue:""}:"stringValue"in t?{bytesValue:""}:"bytesValue"in t?ca(ro.empty(),K.empty()):"referenceValue"in t?{geoPointValue:{latitude:-90,longitude:-180}}:"geoPointValue"in t?{arrayValue:{}}:"arrayValue"in t?VO:"mapValue"in t?Ag(t)?{mapValue:{}}:xs:X()}function Hb(t,e){const n=io(t.value,e.value);return n!==0?n:t.inclusive&&!e.inclusive?-1:!t.inclusive&&e.inclusive?1:0}function Gb(t,e){const n=io(t.value,e.value);return n!==0?n:t.inclusive&&!e.inclusive?1:!t.inclusive&&e.inclusive?-1:0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Xt{constructor(e){this.value=e}static empty(){return new Xt({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let n=this.value;for(let r=0;r<e.length-1;++r)if(n=(n.mapValue.fields||{})[e.get(r)],!rp(n))return null;return n=(n.mapValue.fields||{})[e.lastSegment()],n||null}}set(e,n){this.getFieldsMap(e.popLast())[e.lastSegment()]=qc(n)}setAll(e){let n=Ze.emptyPath(),r={},i=[];e.forEach((o,a)=>{if(!n.isImmediateParentOf(a)){const l=this.getFieldsMap(n);this.applyChanges(l,r,i),r={},i=[],n=a.popLast()}o?r[a.lastSegment()]=qc(o):i.push(a.lastSegment())});const s=this.getFieldsMap(n);this.applyChanges(s,r,i)}delete(e){const n=this.field(e.popLast());rp(n)&&n.mapValue.fields&&delete n.mapValue.fields[e.lastSegment()]}isEqual(e){return pi(this.value,e.value)}getFieldsMap(e){let n=this.value;n.mapValue.fields||(n.mapValue={fields:{}});for(let r=0;r<e.length;++r){let i=n.mapValue.fields[e.get(r)];rp(i)&&i.mapValue.fields||(i={mapValue:{fields:{}}},n.mapValue.fields[e.get(r)]=i),n=i}return n.mapValue.fields}applyChanges(e,n,r){Ta(n,(i,s)=>e[i]=s);for(const i of r)delete e[i]}clone(){return new Xt(qc(this.value))}}function FO(t){const e=[];return Ta(t.fields,(n,r)=>{const i=new Ze([n]);if(rp(r)){const s=FO(r.mapValue).fields;if(s.length===0)e.push(i);else for(const o of s)e.push(i.child(o))}else e.push(i)}),new Nn(e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class We{constructor(e,n,r,i,s,o,a){this.key=e,this.documentType=n,this.version=r,this.readTime=i,this.createTime=s,this.data=o,this.documentState=a}static newInvalidDocument(e){return new We(e,0,ne.min(),ne.min(),ne.min(),Xt.empty(),0)}static newFoundDocument(e,n,r,i){return new We(e,1,n,ne.min(),r,i,0)}static newNoDocument(e,n){return new We(e,2,n,ne.min(),ne.min(),Xt.empty(),0)}static newUnknownDocument(e,n){return new We(e,3,n,ne.min(),ne.min(),Xt.empty(),2)}convertToFoundDocument(e,n){return!this.createTime.isEqual(ne.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=n,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=Xt.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=Xt.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=ne.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof We&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new We(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class so{constructor(e,n){this.position=e,this.inclusive=n}}function Kb(t,e,n){let r=0;for(let i=0;i<t.position.length;i++){const s=e[i],o=t.position[i];if(s.field.isKeyField()?r=K.comparator(K.fromName(o.referenceValue),n.key):r=io(o,n.data.field(s.field)),s.dir==="desc"&&(r*=-1),r!==0)break}return r}function Yb(t,e){if(t===null)return e===null;if(e===null||t.inclusive!==e.inclusive||t.position.length!==e.position.length)return!1;for(let n=0;n<t.position.length;n++)if(!pi(t.position[n],e.position[n]))return!1;return!0}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Md{constructor(e,n="asc"){this.field=e,this.dir=n}}function Aq(t,e){return t.dir===e.dir&&t.field.isEqual(e.field)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class UO{}class _e extends UO{constructor(e,n,r){super(),this.field=e,this.op=n,this.value=r}static create(e,n,r){return e.isKeyField()?n==="in"||n==="not-in"?this.createKeyFieldInFilter(e,n,r):new Pq(e,n,r):n==="array-contains"?new xq(e,r):n==="in"?new qO(e,r):n==="not-in"?new Oq(e,r):n==="array-contains-any"?new Dq(e,r):new _e(e,n,r)}static createKeyFieldInFilter(e,n,r){return n==="in"?new kq(e,r):new Cq(e,r)}matches(e){const n=e.data.field(this.field);return this.op==="!="?n!==null&&this.matchesComparison(io(n,this.value)):n!==null&&ua(this.value)===ua(n)&&this.matchesComparison(io(n,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return X()}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class Oe extends UO{constructor(e,n){super(),this.filters=e,this.op=n,this.ae=null}static create(e,n){return new Oe(e,n)}matches(e){return Kl(this)?this.filters.find(n=>!n.matches(e))===void 0:this.filters.find(n=>n.matches(e))!==void 0}getFlattenedFilters(){return this.ae!==null||(this.ae=this.filters.reduce((e,n)=>e.concat(n.getFlattenedFilters()),[])),this.ae}getFilters(){return Object.assign([],this.filters)}}function Kl(t){return t.op==="and"}function t0(t){return t.op==="or"}function NE(t){return BO(t)&&Kl(t)}function BO(t){for(const e of t.filters)if(e instanceof Oe)return!1;return!0}function n0(t){if(t instanceof _e)return t.field.canonicalString()+t.op.toString()+Gl(t.value);if(NE(t))return t.filters.map(e=>n0(e)).join(",");{const e=t.filters.map(n=>n0(n)).join(",");return`${t.op}(${e})`}}function $O(t,e){return t instanceof _e?function(r,i){return i instanceof _e&&r.op===i.op&&r.field.isEqual(i.field)&&pi(r.value,i.value)}(t,e):t instanceof Oe?function(r,i){return i instanceof Oe&&r.op===i.op&&r.filters.length===i.filters.length?r.filters.reduce((s,o,a)=>s&&$O(o,i.filters[a]),!0):!1}(t,e):void X()}function zO(t,e){const n=t.filters.concat(e);return Oe.create(n,t.op)}function jO(t){return t instanceof _e?function(n){return`${n.field.canonicalString()} ${n.op} ${Gl(n.value)}`}(t):t instanceof Oe?function(n){return n.op.toString()+" {"+n.getFilters().map(jO).join(" ,")+"}"}(t):"Filter"}class Pq extends _e{constructor(e,n,r){super(e,n,r),this.key=K.fromName(r.referenceValue)}matches(e){const n=K.comparator(e.key,this.key);return this.matchesComparison(n)}}class kq extends _e{constructor(e,n){super(e,"in",n),this.keys=WO("in",n)}matches(e){return this.keys.some(n=>n.isEqual(e.key))}}class Cq extends _e{constructor(e,n){super(e,"not-in",n),this.keys=WO("not-in",n)}matches(e){return!this.keys.some(n=>n.isEqual(e.key))}}function WO(t,e){var n;return(((n=e.arrayValue)===null||n===void 0?void 0:n.values)||[]).map(r=>K.fromName(r.referenceValue))}class xq extends _e{constructor(e,n){super(e,"array-contains",n)}matches(e){const n=e.data.field(this.field);return Nd(n)&&Dd(n.arrayValue,this.value)}}class qO extends _e{constructor(e,n){super(e,"in",n)}matches(e){const n=e.data.field(this.field);return n!==null&&Dd(this.value.arrayValue,n)}}class Oq extends _e{constructor(e,n){super(e,"not-in",n)}matches(e){if(Dd(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const n=e.data.field(this.field);return n!==null&&!Dd(this.value.arrayValue,n)}}class Dq extends _e{constructor(e,n){super(e,"array-contains-any",n)}matches(e){const n=e.data.field(this.field);return!(!Nd(n)||!n.arrayValue.values)&&n.arrayValue.values.some(r=>Dd(this.value.arrayValue,r))}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Nq{constructor(e,n=null,r=[],i=[],s=null,o=null,a=null){this.path=e,this.collectionGroup=n,this.orderBy=r,this.filters=i,this.limit=s,this.startAt=o,this.endAt=a,this.ue=null}}function r0(t,e=null,n=[],r=[],i=null,s=null,o=null){return new Nq(t,e,n,r,i,s,o)}function da(t){const e=Q(t);if(e.ue===null){let n=e.path.canonicalString();e.collectionGroup!==null&&(n+="|cg:"+e.collectionGroup),n+="|f:",n+=e.filters.map(r=>n0(r)).join(","),n+="|ob:",n+=e.orderBy.map(r=>function(s){return s.field.canonicalString()+s.dir}(r)).join(","),gh(e.limit)||(n+="|l:",n+=e.limit),e.startAt&&(n+="|lb:",n+=e.startAt.inclusive?"b:":"a:",n+=e.startAt.position.map(r=>Gl(r)).join(",")),e.endAt&&(n+="|ub:",n+=e.endAt.inclusive?"a:":"b:",n+=e.endAt.position.map(r=>Gl(r)).join(",")),e.ue=n}return e.ue}function yh(t,e){if(t.limit!==e.limit||t.orderBy.length!==e.orderBy.length)return!1;for(let n=0;n<t.orderBy.length;n++)if(!Aq(t.orderBy[n],e.orderBy[n]))return!1;if(t.filters.length!==e.filters.length)return!1;for(let n=0;n<t.filters.length;n++)if(!$O(t.filters[n],e.filters[n]))return!1;return t.collectionGroup===e.collectionGroup&&!!t.path.isEqual(e.path)&&!!Yb(t.startAt,e.startAt)&&Yb(t.endAt,e.endAt)}function lm(t){return K.isDocumentKey(t.path)&&t.collectionGroup===null&&t.filters.length===0}function um(t,e){return t.filters.filter(n=>n instanceof _e&&n.field.isEqual(e))}function Qb(t,e,n){let r=np,i=!0;for(const s of um(t,e)){let o=np,a=!0;switch(s.op){case"<":case"<=":o=bq(s.value);break;case"==":case"in":case">=":o=s.value;break;case">":o=s.value,a=!1;break;case"!=":case"not-in":o=np}Hb({value:r,inclusive:i},{value:o,inclusive:a})<0&&(r=o,i=a)}if(n!==null){for(let s=0;s<t.orderBy.length;++s)if(t.orderBy[s].field.isEqual(e)){const o=n.position[s];Hb({value:r,inclusive:i},{value:o,inclusive:n.inclusive})<0&&(r=o,i=n.inclusive);break}}return{value:r,inclusive:i}}function Jb(t,e,n){let r=xs,i=!0;for(const s of um(t,e)){let o=xs,a=!0;switch(s.op){case">=":case">":o=Rq(s.value),a=!1;break;case"==":case"in":case"<=":o=s.value;break;case"<":o=s.value,a=!1;break;case"!=":case"not-in":o=xs}Gb({value:r,inclusive:i},{value:o,inclusive:a})>0&&(r=o,i=a)}if(n!==null){for(let s=0;s<t.orderBy.length;++s)if(t.orderBy[s].field.isEqual(e)){const o=n.position[s];Gb({value:r,inclusive:i},{value:o,inclusive:n.inclusive})>0&&(r=o,i=n.inclusive);break}}return{value:r,inclusive:i}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ss{constructor(e,n=null,r=[],i=[],s=null,o="F",a=null,l=null){this.path=e,this.collectionGroup=n,this.explicitOrderBy=r,this.filters=i,this.limit=s,this.limitType=o,this.startAt=a,this.endAt=l,this.ce=null,this.le=null,this.he=null,this.startAt,this.endAt}}function HO(t,e,n,r,i,s,o,a){return new ss(t,e,n,r,i,s,o,a)}function Eu(t){return new ss(t)}function Xb(t){return t.filters.length===0&&t.limit===null&&t.startAt==null&&t.endAt==null&&(t.explicitOrderBy.length===0||t.explicitOrderBy.length===1&&t.explicitOrderBy[0].field.isKeyField())}function ME(t){return t.collectionGroup!==null}function Al(t){const e=Q(t);if(e.ce===null){e.ce=[];const n=new Set;for(const s of e.explicitOrderBy)e.ce.push(s),n.add(s.field.canonicalString());const r=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(o){let a=new Ne(Ze.comparator);return o.filters.forEach(l=>{l.getFlattenedFilters().forEach(u=>{u.isInequality()&&(a=a.add(u.field))})}),a})(e).forEach(s=>{n.has(s.canonicalString())||s.isKeyField()||e.ce.push(new Md(s,r))}),n.has(Ze.keyField().canonicalString())||e.ce.push(new Md(Ze.keyField(),r))}return e.ce}function Tn(t){const e=Q(t);return e.le||(e.le=Mq(e,Al(t))),e.le}function Mq(t,e){if(t.limitType==="F")return r0(t.path,t.collectionGroup,e,t.filters,t.limit,t.startAt,t.endAt);{e=e.map(i=>{const s=i.dir==="desc"?"asc":"desc";return new Md(i.field,s)});const n=t.endAt?new so(t.endAt.position,t.endAt.inclusive):null,r=t.startAt?new so(t.startAt.position,t.startAt.inclusive):null;return r0(t.path,t.collectionGroup,e,t.filters,t.limit,n,r)}}function i0(t,e){const n=t.filters.concat([e]);return new ss(t.path,t.collectionGroup,t.explicitOrderBy.slice(),n,t.limit,t.limitType,t.startAt,t.endAt)}function cm(t,e,n){return new ss(t.path,t.collectionGroup,t.explicitOrderBy.slice(),t.filters.slice(),e,n,t.startAt,t.endAt)}function _h(t,e){return yh(Tn(t),Tn(e))&&t.limitType===e.limitType}function GO(t){return`${da(Tn(t))}|lt:${t.limitType}`}function Qa(t){return`Query(target=${function(n){let r=n.path.canonicalString();return n.collectionGroup!==null&&(r+=" collectionGroup="+n.collectionGroup),n.filters.length>0&&(r+=`, filters: [${n.filters.map(i=>jO(i)).join(", ")}]`),gh(n.limit)||(r+=", limit: "+n.limit),n.orderBy.length>0&&(r+=`, orderBy: [${n.orderBy.map(i=>function(o){return`${o.field.canonicalString()} (${o.dir})`}(i)).join(", ")}]`),n.startAt&&(r+=", startAt: ",r+=n.startAt.inclusive?"b:":"a:",r+=n.startAt.position.map(i=>Gl(i)).join(",")),n.endAt&&(r+=", endAt: ",r+=n.endAt.inclusive?"a:":"b:",r+=n.endAt.position.map(i=>Gl(i)).join(",")),`Target(${r})`}(Tn(t))}; limitType=${t.limitType})`}function vh(t,e){return e.isFoundDocument()&&function(r,i){const s=i.key.path;return r.collectionGroup!==null?i.key.hasCollectionId(r.collectionGroup)&&r.path.isPrefixOf(s):K.isDocumentKey(r.path)?r.path.isEqual(s):r.path.isImmediateParentOf(s)}(t,e)&&function(r,i){for(const s of Al(r))if(!s.field.isKeyField()&&i.data.field(s.field)===null)return!1;return!0}(t,e)&&function(r,i){for(const s of r.filters)if(!s.matches(i))return!1;return!0}(t,e)&&function(r,i){return!(r.startAt&&!function(o,a,l){const u=Kb(o,a,l);return o.inclusive?u<=0:u<0}(r.startAt,Al(r),i)||r.endAt&&!function(o,a,l){const u=Kb(o,a,l);return o.inclusive?u>=0:u>0}(r.endAt,Al(r),i))}(t,e)}function KO(t){return t.collectionGroup||(t.path.length%2==1?t.path.lastSegment():t.path.get(t.path.length-2))}function YO(t){return(e,n)=>{let r=!1;for(const i of Al(t)){const s=Lq(i,e,n);if(s!==0)return s;r=r||i.field.isKeyField()}return 0}}function Lq(t,e,n){const r=t.field.isKeyField()?K.comparator(e.key,n.key):function(s,o,a){const l=o.data.field(s),u=a.data.field(s);return l!==null&&u!==null?io(l,u):X()}(t.field,e,n);switch(t.dir){case"asc":return r;case"desc":return-1*r;default:return X()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vo{constructor(e,n){this.mapKeyFn=e,this.equalsFn=n,this.inner={},this.innerSize=0}get(e){const n=this.mapKeyFn(e),r=this.inner[n];if(r!==void 0){for(const[i,s]of r)if(this.equalsFn(i,e))return s}}has(e){return this.get(e)!==void 0}set(e,n){const r=this.mapKeyFn(e),i=this.inner[r];if(i===void 0)return this.inner[r]=[[e,n]],void this.innerSize++;for(let s=0;s<i.length;s++)if(this.equalsFn(i[s][0],e))return void(i[s]=[e,n]);i.push([e,n]),this.innerSize++}delete(e){const n=this.mapKeyFn(e),r=this.inner[n];if(r===void 0)return!1;for(let i=0;i<r.length;i++)if(this.equalsFn(r[i][0],e))return r.length===1?delete this.inner[n]:r.splice(i,1),this.innerSize--,!0;return!1}forEach(e){Ta(this.inner,(n,r)=>{for(const[i,s]of r)e(i,s)})}isEmpty(){return NO(this.inner)}size(){return this.innerSize}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Vq=new $e(K.comparator);function Mn(){return Vq}const QO=new $e(K.comparator);function bc(...t){let e=QO;for(const n of t)e=e.insert(n.key,n);return e}function JO(t){let e=QO;return t.forEach((n,r)=>e=e.insert(n,r.overlayedDocument)),e}function oi(){return Hc()}function XO(){return Hc()}function Hc(){return new vo(t=>t.toString(),(t,e)=>t.isEqual(e))}const Fq=new $e(K.comparator),Uq=new Ne(K.comparator);function ue(...t){let e=Uq;for(const n of t)e=e.add(n);return e}const Bq=new Ne(ae);function LE(){return Bq}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function VE(t,e){if(t.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:xd(e)?"-0":e}}function ZO(t){return{integerValue:""+t}}function eD(t,e){return kO(e)?ZO(e):VE(t,e)}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Pg{constructor(){this._=void 0}}function $q(t,e,n){return t instanceof Yl?function(i,s){const o={fields:{__type__:{stringValue:"server_timestamp"},__local_write_time__:{timestampValue:{seconds:i.seconds,nanos:i.nanoseconds}}}};return s&&Rg(s)&&(s=DE(s)),s&&(o.fields.__previous_value__=s),{mapValue:o}}(n,e):t instanceof ha?nD(t,e):t instanceof fa?rD(t,e):function(i,s){const o=tD(i,s),a=Zb(o)+Zb(i.Pe);return e0(o)&&e0(i.Pe)?ZO(a):VE(i.serializer,a)}(t,e)}function zq(t,e,n){return t instanceof ha?nD(t,e):t instanceof fa?rD(t,e):n}function tD(t,e){return t instanceof Ql?function(r){return e0(r)||function(s){return!!s&&"doubleValue"in s}(r)}(e)?e:{integerValue:0}:null}class Yl extends Pg{}class ha extends Pg{constructor(e){super(),this.elements=e}}function nD(t,e){const n=iD(e);for(const r of t.elements)n.some(i=>pi(i,r))||n.push(r);return{arrayValue:{values:n}}}class fa extends Pg{constructor(e){super(),this.elements=e}}function rD(t,e){let n=iD(e);for(const r of t.elements)n=n.filter(i=>!pi(i,r));return{arrayValue:{values:n}}}class Ql extends Pg{constructor(e,n){super(),this.serializer=e,this.Pe=n}}function Zb(t){return Je(t.integerValue||t.doubleValue)}function iD(t){return Nd(t)&&t.arrayValue.values?t.arrayValue.values.slice():[]}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wh{constructor(e,n){this.field=e,this.transform=n}}function jq(t,e){return t.field.isEqual(e.field)&&function(r,i){return r instanceof ha&&i instanceof ha||r instanceof fa&&i instanceof fa?Hl(r.elements,i.elements,pi):r instanceof Ql&&i instanceof Ql?pi(r.Pe,i.Pe):r instanceof Yl&&i instanceof Yl}(t.transform,e.transform)}class Wq{constructor(e,n){this.version=e,this.transformResults=n}}class et{constructor(e,n){this.updateTime=e,this.exists=n}static none(){return new et}static exists(e){return new et(void 0,e)}static updateTime(e){return new et(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function ip(t,e){return t.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(t.updateTime):t.exists===void 0||t.exists===e.isFoundDocument()}class kg{}function sD(t,e){if(!t.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return t.isNoDocument()?new Iu(t.key,et.none()):new Su(t.key,t.data,et.none());{const n=t.data,r=Xt.empty();let i=new Ne(Ze.comparator);for(let s of e.fields)if(!i.has(s)){let o=n.field(s);o===null&&s.length>1&&(s=s.popLast(),o=n.field(s)),o===null?r.delete(s):r.set(s,o),i=i.add(s)}return new os(t.key,r,new Nn(i.toArray()),et.none())}}function qq(t,e,n){t instanceof Su?function(i,s,o){const a=i.value.clone(),l=tR(i.fieldTransforms,s,o.transformResults);a.setAll(l),s.convertToFoundDocument(o.version,a).setHasCommittedMutations()}(t,e,n):t instanceof os?function(i,s,o){if(!ip(i.precondition,s))return void s.convertToUnknownDocument(o.version);const a=tR(i.fieldTransforms,s,o.transformResults),l=s.data;l.setAll(oD(i)),l.setAll(a),s.convertToFoundDocument(o.version,l).setHasCommittedMutations()}(t,e,n):function(i,s,o){s.convertToNoDocument(o.version).setHasCommittedMutations()}(0,e,n)}function Gc(t,e,n,r){return t instanceof Su?function(s,o,a,l){if(!ip(s.precondition,o))return a;const u=s.value.clone(),d=nR(s.fieldTransforms,l,o);return u.setAll(d),o.convertToFoundDocument(o.version,u).setHasLocalMutations(),null}(t,e,n,r):t instanceof os?function(s,o,a,l){if(!ip(s.precondition,o))return a;const u=nR(s.fieldTransforms,l,o),d=o.data;return d.setAll(oD(s)),d.setAll(u),o.convertToFoundDocument(o.version,d).setHasLocalMutations(),a===null?null:a.unionWith(s.fieldMask.fields).unionWith(s.fieldTransforms.map(h=>h.field))}(t,e,n,r):function(s,o,a){return ip(s.precondition,o)?(o.convertToNoDocument(o.version).setHasLocalMutations(),null):a}(t,e,n)}function Hq(t,e){let n=null;for(const r of t.fieldTransforms){const i=e.data.field(r.field),s=tD(r.transform,i||null);s!=null&&(n===null&&(n=Xt.empty()),n.set(r.field,s))}return n||null}function eR(t,e){return t.type===e.type&&!!t.key.isEqual(e.key)&&!!t.precondition.isEqual(e.precondition)&&!!function(r,i){return r===void 0&&i===void 0||!(!r||!i)&&Hl(r,i,(s,o)=>jq(s,o))}(t.fieldTransforms,e.fieldTransforms)&&(t.type===0?t.value.isEqual(e.value):t.type!==1||t.data.isEqual(e.data)&&t.fieldMask.isEqual(e.fieldMask))}class Su extends kg{constructor(e,n,r,i=[]){super(),this.key=e,this.value=n,this.precondition=r,this.fieldTransforms=i,this.type=0}getFieldMask(){return null}}class os extends kg{constructor(e,n,r,i,s=[]){super(),this.key=e,this.data=n,this.fieldMask=r,this.precondition=i,this.fieldTransforms=s,this.type=1}getFieldMask(){return this.fieldMask}}function oD(t){const e=new Map;return t.fieldMask.fields.forEach(n=>{if(!n.isEmpty()){const r=t.data.field(n);e.set(n,r)}}),e}function tR(t,e,n){const r=new Map;te(t.length===n.length);for(let i=0;i<n.length;i++){const s=t[i],o=s.transform,a=e.data.field(s.field);r.set(s.field,zq(o,a,n[i]))}return r}function nR(t,e,n){const r=new Map;for(const i of t){const s=i.transform,o=n.data.field(i.field);r.set(i.field,$q(s,o,e))}return r}class Iu extends kg{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class FE extends kg{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class UE{constructor(e,n,r,i){this.batchId=e,this.localWriteTime=n,this.baseMutations=r,this.mutations=i}applyToRemoteDocument(e,n){const r=n.mutationResults;for(let i=0;i<this.mutations.length;i++){const s=this.mutations[i];s.key.isEqual(e.key)&&qq(s,e,r[i])}}applyToLocalView(e,n){for(const r of this.baseMutations)r.key.isEqual(e.key)&&(n=Gc(r,e,n,this.localWriteTime));for(const r of this.mutations)r.key.isEqual(e.key)&&(n=Gc(r,e,n,this.localWriteTime));return n}applyToLocalDocumentSet(e,n){const r=XO();return this.mutations.forEach(i=>{const s=e.get(i.key),o=s.overlayedDocument;let a=this.applyToLocalView(o,s.mutatedFields);a=n.has(i.key)?null:a;const l=sD(o,a);l!==null&&r.set(i.key,l),o.isValidDocument()||o.convertToNoDocument(ne.min())}),r}keys(){return this.mutations.reduce((e,n)=>e.add(n.key),ue())}isEqual(e){return this.batchId===e.batchId&&Hl(this.mutations,e.mutations,(n,r)=>eR(n,r))&&Hl(this.baseMutations,e.baseMutations,(n,r)=>eR(n,r))}}class BE{constructor(e,n,r,i){this.batch=e,this.commitVersion=n,this.mutationResults=r,this.docVersions=i}static from(e,n,r){te(e.mutations.length===r.length);let i=function(){return Fq}();const s=e.mutations;for(let o=0;o<s.length;o++)i=i.insert(s[o].key,r[o].version);return new BE(e,n,r,i)}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $E{constructor(e,n){this.largestBatchId=e,this.mutation=n}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Gq{constructor(e,n){this.count=e,this.unchangedNames=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var At,Ee;function aD(t){switch(t){default:return X();case V.CANCELLED:case V.UNKNOWN:case V.DEADLINE_EXCEEDED:case V.RESOURCE_EXHAUSTED:case V.INTERNAL:case V.UNAVAILABLE:case V.UNAUTHENTICATED:return!1;case V.INVALID_ARGUMENT:case V.NOT_FOUND:case V.ALREADY_EXISTS:case V.PERMISSION_DENIED:case V.FAILED_PRECONDITION:case V.ABORTED:case V.OUT_OF_RANGE:case V.UNIMPLEMENTED:case V.DATA_LOSS:return!0}}function lD(t){if(t===void 0)return It("GRPC error has no .code"),V.UNKNOWN;switch(t){case At.OK:return V.OK;case At.CANCELLED:return V.CANCELLED;case At.UNKNOWN:return V.UNKNOWN;case At.DEADLINE_EXCEEDED:return V.DEADLINE_EXCEEDED;case At.RESOURCE_EXHAUSTED:return V.RESOURCE_EXHAUSTED;case At.INTERNAL:return V.INTERNAL;case At.UNAVAILABLE:return V.UNAVAILABLE;case At.UNAUTHENTICATED:return V.UNAUTHENTICATED;case At.INVALID_ARGUMENT:return V.INVALID_ARGUMENT;case At.NOT_FOUND:return V.NOT_FOUND;case At.ALREADY_EXISTS:return V.ALREADY_EXISTS;case At.PERMISSION_DENIED:return V.PERMISSION_DENIED;case At.FAILED_PRECONDITION:return V.FAILED_PRECONDITION;case At.ABORTED:return V.ABORTED;case At.OUT_OF_RANGE:return V.OUT_OF_RANGE;case At.UNIMPLEMENTED:return V.UNIMPLEMENTED;case At.DATA_LOSS:return V.DATA_LOSS;default:return X()}}(Ee=At||(At={}))[Ee.OK=0]="OK",Ee[Ee.CANCELLED=1]="CANCELLED",Ee[Ee.UNKNOWN=2]="UNKNOWN",Ee[Ee.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",Ee[Ee.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",Ee[Ee.NOT_FOUND=5]="NOT_FOUND",Ee[Ee.ALREADY_EXISTS=6]="ALREADY_EXISTS",Ee[Ee.PERMISSION_DENIED=7]="PERMISSION_DENIED",Ee[Ee.UNAUTHENTICATED=16]="UNAUTHENTICATED",Ee[Ee.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",Ee[Ee.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",Ee[Ee.ABORTED=10]="ABORTED",Ee[Ee.OUT_OF_RANGE=11]="OUT_OF_RANGE",Ee[Ee.UNIMPLEMENTED=12]="UNIMPLEMENTED",Ee[Ee.INTERNAL=13]="INTERNAL",Ee[Ee.UNAVAILABLE=14]="UNAVAILABLE",Ee[Ee.DATA_LOSS=15]="DATA_LOSS";/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function uD(){return new TextEncoder}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Kq=new Zo([4294967295,4294967295],0);function rR(t){const e=uD().encode(t),n=new pO;return n.update(e),new Uint8Array(n.digest())}function iR(t){const e=new DataView(t.buffer),n=e.getUint32(0,!0),r=e.getUint32(4,!0),i=e.getUint32(8,!0),s=e.getUint32(12,!0);return[new Zo([n,r],0),new Zo([i,s],0)]}class zE{constructor(e,n,r){if(this.bitmap=e,this.padding=n,this.hashCount=r,n<0||n>=8)throw new Rc(`Invalid padding: ${n}`);if(r<0)throw new Rc(`Invalid hash count: ${r}`);if(e.length>0&&this.hashCount===0)throw new Rc(`Invalid hash count: ${r}`);if(e.length===0&&n!==0)throw new Rc(`Invalid padding when bitmap length is 0: ${n}`);this.Ie=8*e.length-n,this.Te=Zo.fromNumber(this.Ie)}Ee(e,n,r){let i=e.add(n.multiply(Zo.fromNumber(r)));return i.compare(Kq)===1&&(i=new Zo([i.getBits(0),i.getBits(1)],0)),i.modulo(this.Te).toNumber()}de(e){return(this.bitmap[Math.floor(e/8)]&1<<e%8)!=0}mightContain(e){if(this.Ie===0)return!1;const n=rR(e),[r,i]=iR(n);for(let s=0;s<this.hashCount;s++){const o=this.Ee(r,i,s);if(!this.de(o))return!1}return!0}static create(e,n,r){const i=e%8==0?0:8-e%8,s=new Uint8Array(Math.ceil(e/8)),o=new zE(s,i,n);return r.forEach(a=>o.insert(a)),o}insert(e){if(this.Ie===0)return;const n=rR(e),[r,i]=iR(n);for(let s=0;s<this.hashCount;s++){const o=this.Ee(r,i,s);this.Ae(o)}}Ae(e){const n=Math.floor(e/8),r=e%8;this.bitmap[n]|=1<<r}}class Rc extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Eh{constructor(e,n,r,i,s){this.snapshotVersion=e,this.targetChanges=n,this.targetMismatches=r,this.documentUpdates=i,this.resolvedLimboDocuments=s}static createSynthesizedRemoteEventForCurrentChange(e,n,r){const i=new Map;return i.set(e,Sh.createSynthesizedTargetChangeForCurrentChange(e,n,r)),new Eh(ne.min(),i,new $e(ae),Mn(),ue())}}class Sh{constructor(e,n,r,i,s){this.resumeToken=e,this.current=n,this.addedDocuments=r,this.modifiedDocuments=i,this.removedDocuments=s}static createSynthesizedTargetChangeForCurrentChange(e,n,r){return new Sh(r,n,ue(),ue(),ue())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sp{constructor(e,n,r,i){this.Re=e,this.removedTargetIds=n,this.key=r,this.Ve=i}}class cD{constructor(e,n){this.targetId=e,this.me=n}}class dD{constructor(e,n,r=gt.EMPTY_BYTE_STRING,i=null){this.state=e,this.targetIds=n,this.resumeToken=r,this.cause=i}}class sR{constructor(){this.fe=0,this.ge=aR(),this.pe=gt.EMPTY_BYTE_STRING,this.ye=!1,this.we=!0}get current(){return this.ye}get resumeToken(){return this.pe}get Se(){return this.fe!==0}get be(){return this.we}De(e){e.approximateByteSize()>0&&(this.we=!0,this.pe=e)}ve(){let e=ue(),n=ue(),r=ue();return this.ge.forEach((i,s)=>{switch(s){case 0:e=e.add(i);break;case 2:n=n.add(i);break;case 1:r=r.add(i);break;default:X()}}),new Sh(this.pe,this.ye,e,n,r)}Ce(){this.we=!1,this.ge=aR()}Fe(e,n){this.we=!0,this.ge=this.ge.insert(e,n)}Me(e){this.we=!0,this.ge=this.ge.remove(e)}xe(){this.fe+=1}Oe(){this.fe-=1,te(this.fe>=0)}Ne(){this.we=!0,this.ye=!0}}class Yq{constructor(e){this.Le=e,this.Be=new Map,this.ke=Mn(),this.qe=oR(),this.Qe=new $e(ae)}Ke(e){for(const n of e.Re)e.Ve&&e.Ve.isFoundDocument()?this.$e(n,e.Ve):this.Ue(n,e.key,e.Ve);for(const n of e.removedTargetIds)this.Ue(n,e.key,e.Ve)}We(e){this.forEachTarget(e,n=>{const r=this.Ge(n);switch(e.state){case 0:this.ze(n)&&r.De(e.resumeToken);break;case 1:r.Oe(),r.Se||r.Ce(),r.De(e.resumeToken);break;case 2:r.Oe(),r.Se||this.removeTarget(n);break;case 3:this.ze(n)&&(r.Ne(),r.De(e.resumeToken));break;case 4:this.ze(n)&&(this.je(n),r.De(e.resumeToken));break;default:X()}})}forEachTarget(e,n){e.targetIds.length>0?e.targetIds.forEach(n):this.Be.forEach((r,i)=>{this.ze(i)&&n(i)})}He(e){const n=e.targetId,r=e.me.count,i=this.Je(n);if(i){const s=i.target;if(lm(s))if(r===0){const o=new K(s.path);this.Ue(n,o,We.newNoDocument(o,ne.min()))}else te(r===1);else{const o=this.Ye(n);if(o!==r){const a=this.Ze(e),l=a?this.Xe(a,e,o):1;if(l!==0){this.je(n);const u=l===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Qe=this.Qe.insert(n,u)}}}}}Ze(e){const n=e.me.unchangedNames;if(!n||!n.bits)return null;const{bits:{bitmap:r="",padding:i=0},hashCount:s=0}=n;let o,a;try{o=no(r).toUint8Array()}catch(l){if(l instanceof MO)return Fr("Decoding the base64 bloom filter in existence filter failed ("+l.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw l}try{a=new zE(o,i,s)}catch(l){return Fr(l instanceof Rc?"BloomFilter error: ":"Applying bloom filter failed: ",l),null}return a.Ie===0?null:a}Xe(e,n,r){return n.me.count===r-this.nt(e,n.targetId)?0:2}nt(e,n){const r=this.Le.getRemoteKeysForTarget(n);let i=0;return r.forEach(s=>{const o=this.Le.tt(),a=`projects/${o.projectId}/databases/${o.database}/documents/${s.path.canonicalString()}`;e.mightContain(a)||(this.Ue(n,s,null),i++)}),i}rt(e){const n=new Map;this.Be.forEach((s,o)=>{const a=this.Je(o);if(a){if(s.current&&lm(a.target)){const l=new K(a.target.path);this.ke.get(l)!==null||this.it(o,l)||this.Ue(o,l,We.newNoDocument(l,e))}s.be&&(n.set(o,s.ve()),s.Ce())}});let r=ue();this.qe.forEach((s,o)=>{let a=!0;o.forEachWhile(l=>{const u=this.Je(l);return!u||u.purpose==="TargetPurposeLimboResolution"||(a=!1,!1)}),a&&(r=r.add(s))}),this.ke.forEach((s,o)=>o.setReadTime(e));const i=new Eh(e,n,this.Qe,this.ke,r);return this.ke=Mn(),this.qe=oR(),this.Qe=new $e(ae),i}$e(e,n){if(!this.ze(e))return;const r=this.it(e,n.key)?2:0;this.Ge(e).Fe(n.key,r),this.ke=this.ke.insert(n.key,n),this.qe=this.qe.insert(n.key,this.st(n.key).add(e))}Ue(e,n,r){if(!this.ze(e))return;const i=this.Ge(e);this.it(e,n)?i.Fe(n,1):i.Me(n),this.qe=this.qe.insert(n,this.st(n).delete(e)),r&&(this.ke=this.ke.insert(n,r))}removeTarget(e){this.Be.delete(e)}Ye(e){const n=this.Ge(e).ve();return this.Le.getRemoteKeysForTarget(e).size+n.addedDocuments.size-n.removedDocuments.size}xe(e){this.Ge(e).xe()}Ge(e){let n=this.Be.get(e);return n||(n=new sR,this.Be.set(e,n)),n}st(e){let n=this.qe.get(e);return n||(n=new Ne(ae),this.qe=this.qe.insert(e,n)),n}ze(e){const n=this.Je(e)!==null;return n||j("WatchChangeAggregator","Detected inactive target",e),n}Je(e){const n=this.Be.get(e);return n&&n.Se?null:this.Le.ot(e)}je(e){this.Be.set(e,new sR),this.Le.getRemoteKeysForTarget(e).forEach(n=>{this.Ue(e,n,null)})}it(e,n){return this.Le.getRemoteKeysForTarget(e).has(n)}}function oR(){return new $e(K.comparator)}function aR(){return new $e(K.comparator)}const Qq={asc:"ASCENDING",desc:"DESCENDING"},Jq={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},Xq={and:"AND",or:"OR"};class Zq{constructor(e,n){this.databaseId=e,this.useProto3Json=n}}function s0(t,e){return t.useProto3Json||gh(e)?e:{value:e}}function Jl(t,e){return t.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function hD(t,e){return t.useProto3Json?e.toBase64():e.toUint8Array()}function e7(t,e){return Jl(t,e.toTimestamp())}function Tt(t){return te(!!t),ne.fromTimestamp(function(n){const r=Xi(n);return new tt(r.seconds,r.nanos)}(t))}function jE(t,e){return o0(t,e).canonicalString()}function o0(t,e){const n=function(i){return new ye(["projects",i.projectId,"databases",i.database])}(t).child("documents");return e===void 0?n:n.child(e)}function fD(t){const e=ye.fromString(t);return te(ID(e)),e}function Ld(t,e){return jE(t.databaseId,e.path)}function di(t,e){const n=fD(e);if(n.get(1)!==t.databaseId.projectId)throw new z(V.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+t.databaseId.projectId);if(n.get(3)!==t.databaseId.database)throw new z(V.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+t.databaseId.database);return new K(gD(n))}function pD(t,e){return jE(t.databaseId,e)}function mD(t){const e=fD(t);return e.length===4?ye.emptyPath():gD(e)}function a0(t){return new ye(["projects",t.databaseId.projectId,"databases",t.databaseId.database]).canonicalString()}function gD(t){return te(t.length>4&&t.get(4)==="documents"),t.popFirst(5)}function lR(t,e,n){return{name:Ld(t,e),fields:n.value.mapValue.fields}}function yD(t,e,n){const r=di(t,e.name),i=Tt(e.updateTime),s=e.createTime?Tt(e.createTime):ne.min(),o=new Xt({mapValue:{fields:e.fields}}),a=We.newFoundDocument(r,i,s,o);return n&&a.setHasCommittedMutations(),n?a.setHasCommittedMutations():a}function t7(t,e){return"found"in e?function(r,i){te(!!i.found),i.found.name,i.found.updateTime;const s=di(r,i.found.name),o=Tt(i.found.updateTime),a=i.found.createTime?Tt(i.found.createTime):ne.min(),l=new Xt({mapValue:{fields:i.found.fields}});return We.newFoundDocument(s,o,a,l)}(t,e):"missing"in e?function(r,i){te(!!i.missing),te(!!i.readTime);const s=di(r,i.missing),o=Tt(i.readTime);return We.newNoDocument(s,o)}(t,e):X()}function n7(t,e){let n;if("targetChange"in e){e.targetChange;const r=function(u){return u==="NO_CHANGE"?0:u==="ADD"?1:u==="REMOVE"?2:u==="CURRENT"?3:u==="RESET"?4:X()}(e.targetChange.targetChangeType||"NO_CHANGE"),i=e.targetChange.targetIds||[],s=function(u,d){return u.useProto3Json?(te(d===void 0||typeof d=="string"),gt.fromBase64String(d||"")):(te(d===void 0||d instanceof Buffer||d instanceof Uint8Array),gt.fromUint8Array(d||new Uint8Array))}(t,e.targetChange.resumeToken),o=e.targetChange.cause,a=o&&function(u){const d=u.code===void 0?V.UNKNOWN:lD(u.code);return new z(d,u.message||"")}(o);n=new dD(r,i,s,a||null)}else if("documentChange"in e){e.documentChange;const r=e.documentChange;r.document,r.document.name,r.document.updateTime;const i=di(t,r.document.name),s=Tt(r.document.updateTime),o=r.document.createTime?Tt(r.document.createTime):ne.min(),a=new Xt({mapValue:{fields:r.document.fields}}),l=We.newFoundDocument(i,s,o,a),u=r.targetIds||[],d=r.removedTargetIds||[];n=new sp(u,d,l.key,l)}else if("documentDelete"in e){e.documentDelete;const r=e.documentDelete;r.document;const i=di(t,r.document),s=r.readTime?Tt(r.readTime):ne.min(),o=We.newNoDocument(i,s),a=r.removedTargetIds||[];n=new sp([],a,o.key,o)}else if("documentRemove"in e){e.documentRemove;const r=e.documentRemove;r.document;const i=di(t,r.document),s=r.removedTargetIds||[];n=new sp([],s,i,null)}else{if(!("filter"in e))return X();{e.filter;const r=e.filter;r.targetId;const{count:i=0,unchangedNames:s}=r,o=new Gq(i,s),a=r.targetId;n=new cD(a,o)}}return n}function Vd(t,e){let n;if(e instanceof Su)n={update:lR(t,e.key,e.value)};else if(e instanceof Iu)n={delete:Ld(t,e.key)};else if(e instanceof os)n={update:lR(t,e.key,e.data),updateMask:l7(e.fieldMask)};else{if(!(e instanceof FE))return X();n={verify:Ld(t,e.key)}}return e.fieldTransforms.length>0&&(n.updateTransforms=e.fieldTransforms.map(r=>function(s,o){const a=o.transform;if(a instanceof Yl)return{fieldPath:o.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(a instanceof ha)return{fieldPath:o.field.canonicalString(),appendMissingElements:{values:a.elements}};if(a instanceof fa)return{fieldPath:o.field.canonicalString(),removeAllFromArray:{values:a.elements}};if(a instanceof Ql)return{fieldPath:o.field.canonicalString(),increment:a.Pe};throw X()}(0,r))),e.precondition.isNone||(n.currentDocument=function(i,s){return s.updateTime!==void 0?{updateTime:e7(i,s.updateTime)}:s.exists!==void 0?{exists:s.exists}:X()}(t,e.precondition)),n}function l0(t,e){const n=e.currentDocument?function(s){return s.updateTime!==void 0?et.updateTime(Tt(s.updateTime)):s.exists!==void 0?et.exists(s.exists):et.none()}(e.currentDocument):et.none(),r=e.updateTransforms?e.updateTransforms.map(i=>function(o,a){let l=null;if("setToServerValue"in a)te(a.setToServerValue==="REQUEST_TIME"),l=new Yl;else if("appendMissingElements"in a){const d=a.appendMissingElements.values||[];l=new ha(d)}else if("removeAllFromArray"in a){const d=a.removeAllFromArray.values||[];l=new fa(d)}else"increment"in a?l=new Ql(o,a.increment):X();const u=Ze.fromServerFormat(a.fieldPath);return new wh(u,l)}(t,i)):[];if(e.update){e.update.name;const i=di(t,e.update.name),s=new Xt({mapValue:{fields:e.update.fields}});if(e.updateMask){const o=function(l){const u=l.fieldPaths||[];return new Nn(u.map(d=>Ze.fromServerFormat(d)))}(e.updateMask);return new os(i,s,o,n,r)}return new Su(i,s,n,r)}if(e.delete){const i=di(t,e.delete);return new Iu(i,n)}if(e.verify){const i=di(t,e.verify);return new FE(i,n)}return X()}function r7(t,e){return t&&t.length>0?(te(e!==void 0),t.map(n=>function(i,s){let o=i.updateTime?Tt(i.updateTime):Tt(s);return o.isEqual(ne.min())&&(o=Tt(s)),new Wq(o,i.transformResults||[])}(n,e))):[]}function _D(t,e){return{documents:[pD(t,e.path)]}}function vD(t,e){const n={structuredQuery:{}},r=e.path;let i;e.collectionGroup!==null?(i=r,n.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(i=r.popLast(),n.structuredQuery.from=[{collectionId:r.lastSegment()}]),n.parent=pD(t,i);const s=function(u){if(u.length!==0)return SD(Oe.create(u,"and"))}(e.filters);s&&(n.structuredQuery.where=s);const o=function(u){if(u.length!==0)return u.map(d=>function(f){return{field:Ja(f.field),direction:s7(f.dir)}}(d))}(e.orderBy);o&&(n.structuredQuery.orderBy=o);const a=s0(t,e.limit);return a!==null&&(n.structuredQuery.limit=a),e.startAt&&(n.structuredQuery.startAt=function(u){return{before:u.inclusive,values:u.position}}(e.startAt)),e.endAt&&(n.structuredQuery.endAt=function(u){return{before:!u.inclusive,values:u.position}}(e.endAt)),{_t:n,parent:i}}function wD(t){let e=mD(t.parent);const n=t.structuredQuery,r=n.from?n.from.length:0;let i=null;if(r>0){te(r===1);const d=n.from[0];d.allDescendants?i=d.collectionId:e=e.child(d.collectionId)}let s=[];n.where&&(s=function(h){const f=ED(h);return f instanceof Oe&&NE(f)?f.getFilters():[f]}(n.where));let o=[];n.orderBy&&(o=function(h){return h.map(f=>function(_){return new Md(Xa(_.field),function(T){switch(T){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(_.direction))}(f))}(n.orderBy));let a=null;n.limit&&(a=function(h){let f;return f=typeof h=="object"?h.value:h,gh(f)?null:f}(n.limit));let l=null;n.startAt&&(l=function(h){const f=!!h.before,g=h.values||[];return new so(g,f)}(n.startAt));let u=null;return n.endAt&&(u=function(h){const f=!h.before,g=h.values||[];return new so(g,f)}(n.endAt)),HO(e,i,o,s,a,"F",l,u)}function i7(t,e){const n=function(i){switch(i){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return X()}}(e.purpose);return n==null?null:{"goog-listen-tags":n}}function ED(t){return t.unaryFilter!==void 0?function(n){switch(n.unaryFilter.op){case"IS_NAN":const r=Xa(n.unaryFilter.field);return _e.create(r,"==",{doubleValue:NaN});case"IS_NULL":const i=Xa(n.unaryFilter.field);return _e.create(i,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const s=Xa(n.unaryFilter.field);return _e.create(s,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const o=Xa(n.unaryFilter.field);return _e.create(o,"!=",{nullValue:"NULL_VALUE"});default:return X()}}(t):t.fieldFilter!==void 0?function(n){return _e.create(Xa(n.fieldFilter.field),function(i){switch(i){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";default:return X()}}(n.fieldFilter.op),n.fieldFilter.value)}(t):t.compositeFilter!==void 0?function(n){return Oe.create(n.compositeFilter.filters.map(r=>ED(r)),function(i){switch(i){case"AND":return"and";case"OR":return"or";default:return X()}}(n.compositeFilter.op))}(t):X()}function s7(t){return Qq[t]}function o7(t){return Jq[t]}function a7(t){return Xq[t]}function Ja(t){return{fieldPath:t.canonicalString()}}function Xa(t){return Ze.fromServerFormat(t.fieldPath)}function SD(t){return t instanceof _e?function(n){if(n.op==="=="){if(qb(n.value))return{unaryFilter:{field:Ja(n.field),op:"IS_NAN"}};if(Wb(n.value))return{unaryFilter:{field:Ja(n.field),op:"IS_NULL"}}}else if(n.op==="!="){if(qb(n.value))return{unaryFilter:{field:Ja(n.field),op:"IS_NOT_NAN"}};if(Wb(n.value))return{unaryFilter:{field:Ja(n.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:Ja(n.field),op:o7(n.op),value:n.value}}}(t):t instanceof Oe?function(n){const r=n.getFilters().map(i=>SD(i));return r.length===1?r[0]:{compositeFilter:{op:a7(n.op),filters:r}}}(t):X()}function l7(t){const e=[];return t.fields.forEach(n=>e.push(n.canonicalString())),{fieldPaths:e}}function ID(t){return t.length>=4&&t.get(0)==="projects"&&t.get(2)==="databases"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Vi{constructor(e,n,r,i,s=ne.min(),o=ne.min(),a=gt.EMPTY_BYTE_STRING,l=null){this.target=e,this.targetId=n,this.purpose=r,this.sequenceNumber=i,this.snapshotVersion=s,this.lastLimboFreeSnapshotVersion=o,this.resumeToken=a,this.expectedCount=l}withSequenceNumber(e){return new Vi(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,n){return new Vi(this.target,this.targetId,this.purpose,this.sequenceNumber,n,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new Vi(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new Vi(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class TD{constructor(e){this.ct=e}}function u7(t,e){let n;if(e.document)n=yD(t.ct,e.document,!!e.hasCommittedMutations);else if(e.noDocument){const r=K.fromSegments(e.noDocument.path),i=ma(e.noDocument.readTime);n=We.newNoDocument(r,i),e.hasCommittedMutations&&n.setHasCommittedMutations()}else{if(!e.unknownDocument)return X();{const r=K.fromSegments(e.unknownDocument.path),i=ma(e.unknownDocument.version);n=We.newUnknownDocument(r,i)}}return e.readTime&&n.setReadTime(function(i){const s=new tt(i[0],i[1]);return ne.fromTimestamp(s)}(e.readTime)),n}function uR(t,e){const n=e.key,r={prefixPath:n.getCollectionPath().popLast().toArray(),collectionGroup:n.collectionGroup,documentId:n.path.lastSegment(),readTime:dm(e.readTime),hasCommittedMutations:e.hasCommittedMutations};if(e.isFoundDocument())r.document=function(s,o){return{name:Ld(s,o.key),fields:o.data.value.mapValue.fields,updateTime:Jl(s,o.version.toTimestamp()),createTime:Jl(s,o.createTime.toTimestamp())}}(t.ct,e);else if(e.isNoDocument())r.noDocument={path:n.path.toArray(),readTime:pa(e.version)};else{if(!e.isUnknownDocument())return X();r.unknownDocument={path:n.path.toArray(),version:pa(e.version)}}return r}function dm(t){const e=t.toTimestamp();return[e.seconds,e.nanoseconds]}function pa(t){const e=t.toTimestamp();return{seconds:e.seconds,nanoseconds:e.nanoseconds}}function ma(t){const e=new tt(t.seconds,t.nanoseconds);return ne.fromTimestamp(e)}function Lo(t,e){const n=(e.baseMutations||[]).map(s=>l0(t.ct,s));for(let s=0;s<e.mutations.length-1;++s){const o=e.mutations[s];if(s+1<e.mutations.length&&e.mutations[s+1].transform!==void 0){const a=e.mutations[s+1];o.updateTransforms=a.transform.fieldTransforms,e.mutations.splice(s+1,1),++s}}const r=e.mutations.map(s=>l0(t.ct,s)),i=tt.fromMillis(e.localWriteTimeMs);return new UE(e.batchId,i,n,r)}function Ac(t){const e=ma(t.readTime),n=t.lastLimboFreeSnapshotVersion!==void 0?ma(t.lastLimboFreeSnapshotVersion):ne.min();let r;return r=function(s){return s.documents!==void 0}(t.query)?function(s){return te(s.documents.length===1),Tn(Eu(mD(s.documents[0])))}(t.query):function(s){return Tn(wD(s))}(t.query),new Vi(r,t.targetId,"TargetPurposeListen",t.lastListenSequenceNumber,e,n,gt.fromBase64String(t.resumeToken))}function bD(t,e){const n=pa(e.snapshotVersion),r=pa(e.lastLimboFreeSnapshotVersion);let i;i=lm(e.target)?_D(t.ct,e.target):vD(t.ct,e.target)._t;const s=e.resumeToken.toBase64();return{targetId:e.targetId,canonicalId:da(e.target),readTime:n,resumeToken:s,lastListenSequenceNumber:e.sequenceNumber,lastLimboFreeSnapshotVersion:r,query:i}}function WE(t){const e=wD({parent:t.parent,structuredQuery:t.structuredQuery});return t.limitType==="LAST"?cm(e,e.limit,"L"):e}function __(t,e){return new $E(e.largestBatchId,l0(t.ct,e.overlayMutation))}function cR(t,e){const n=e.path.lastSegment();return[t,In(e.path.popLast()),n]}function dR(t,e,n,r){return{indexId:t,uid:e,sequenceNumber:n,readTime:pa(r.readTime),documentKey:In(r.documentKey.path),largestBatchId:r.largestBatchId}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class c7{getBundleMetadata(e,n){return hR(e).get(n).next(r=>{if(r)return function(s){return{id:s.bundleId,createTime:ma(s.createTime),version:s.version}}(r)})}saveBundleMetadata(e,n){return hR(e).put(function(i){return{bundleId:i.id,createTime:pa(Tt(i.createTime)),version:i.version}}(n))}getNamedQuery(e,n){return fR(e).get(n).next(r=>{if(r)return function(s){return{name:s.name,query:WE(s.bundledQuery),readTime:ma(s.readTime)}}(r)})}saveNamedQuery(e,n){return fR(e).put(function(i){return{name:i.name,readTime:pa(Tt(i.readTime)),bundledQuery:i.bundledQuery}}(n))}}function hR(t){return Vt(t,"bundles")}function fR(t){return Vt(t,"namedQueries")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Cg{constructor(e,n){this.serializer=e,this.userId=n}static lt(e,n){const r=n.uid||"";return new Cg(e,r)}getOverlay(e,n){return ic(e).get(cR(this.userId,n)).next(r=>r?__(this.serializer,r):null)}getOverlays(e,n){const r=oi();return L.forEach(n,i=>this.getOverlay(e,i).next(s=>{s!==null&&r.set(i,s)})).next(()=>r)}saveOverlays(e,n,r){const i=[];return r.forEach((s,o)=>{const a=new $E(n,o);i.push(this.ht(e,a))}),L.waitFor(i)}removeOverlaysForBatchId(e,n,r){const i=new Set;n.forEach(o=>i.add(In(o.getCollectionPath())));const s=[];return i.forEach(o=>{const a=IDBKeyRange.bound([this.userId,o,r],[this.userId,o,r+1],!1,!0);s.push(ic(e).j("collectionPathOverlayIndex",a))}),L.waitFor(s)}getOverlaysForCollection(e,n,r){const i=oi(),s=In(n),o=IDBKeyRange.bound([this.userId,s,r],[this.userId,s,Number.POSITIVE_INFINITY],!0);return ic(e).U("collectionPathOverlayIndex",o).next(a=>{for(const l of a){const u=__(this.serializer,l);i.set(u.getKey(),u)}return i})}getOverlaysForCollectionGroup(e,n,r,i){const s=oi();let o;const a=IDBKeyRange.bound([this.userId,n,r],[this.userId,n,Number.POSITIVE_INFINITY],!0);return ic(e).J({index:"collectionGroupOverlayIndex",range:a},(l,u,d)=>{const h=__(this.serializer,u);s.size()<i||h.largestBatchId===o?(s.set(h.getKey(),h),o=h.largestBatchId):d.done()}).next(()=>s)}ht(e,n){return ic(e).put(function(i,s,o){const[a,l,u]=cR(s,o.mutation.key);return{userId:s,collectionPath:l,documentId:u,collectionGroup:o.mutation.key.getCollectionGroup(),largestBatchId:o.largestBatchId,overlayMutation:Vd(i.ct,o.mutation)}}(this.serializer,this.userId,n))}}function ic(t){return Vt(t,"documentOverlays")}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class d7{Pt(e){return Vt(e,"globals")}getSessionToken(e){return this.Pt(e).get("sessionToken").next(n=>{const r=n==null?void 0:n.value;return r?gt.fromUint8Array(r):gt.EMPTY_BYTE_STRING})}setSessionToken(e,n){return this.Pt(e).put({name:"sessionToken",value:n.toUint8Array()})}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Vo{constructor(){}It(e,n){this.Tt(e,n),n.Et()}Tt(e,n){if("nullValue"in e)this.dt(n,5);else if("booleanValue"in e)this.dt(n,10),n.At(e.booleanValue?1:0);else if("integerValue"in e)this.dt(n,15),n.At(Je(e.integerValue));else if("doubleValue"in e){const r=Je(e.doubleValue);isNaN(r)?this.dt(n,13):(this.dt(n,15),xd(r)?n.At(0):n.At(r))}else if("timestampValue"in e){let r=e.timestampValue;this.dt(n,20),typeof r=="string"&&(r=Xi(r)),n.Rt(`${r.seconds||""}`),n.At(r.nanos||0)}else if("stringValue"in e)this.Vt(e.stringValue,n),this.ft(n);else if("bytesValue"in e)this.dt(n,30),n.gt(no(e.bytesValue)),this.ft(n);else if("referenceValue"in e)this.yt(e.referenceValue,n);else if("geoPointValue"in e){const r=e.geoPointValue;this.dt(n,45),n.At(r.latitude||0),n.At(r.longitude||0)}else"mapValue"in e?LO(e)?this.dt(n,Number.MAX_SAFE_INTEGER):Ag(e)?this.wt(e.mapValue,n):(this.St(e.mapValue,n),this.ft(n)):"arrayValue"in e?(this.bt(e.arrayValue,n),this.ft(n)):X()}Vt(e,n){this.dt(n,25),this.Dt(e,n)}Dt(e,n){n.Rt(e)}St(e,n){const r=e.fields||{};this.dt(n,55);for(const i of Object.keys(r))this.Vt(i,n),this.Tt(r[i],n)}wt(e,n){var r,i;const s=e.fields||{};this.dt(n,53);const o="value",a=((i=(r=s[o].arrayValue)===null||r===void 0?void 0:r.values)===null||i===void 0?void 0:i.length)||0;this.dt(n,15),n.At(Je(a)),this.Vt(o,n),this.Tt(s[o],n)}bt(e,n){const r=e.values||[];this.dt(n,50);for(const i of r)this.Tt(i,n)}yt(e,n){this.dt(n,37),K.fromName(e).path.forEach(r=>{this.dt(n,60),this.Dt(r,n)})}dt(e,n){e.At(n)}ft(e){e.At(2)}}Vo.vt=new Vo;function h7(t){if(t===0)return 8;let e=0;return!(t>>4)&&(e+=4,t<<=4),!(t>>6)&&(e+=2,t<<=2),!(t>>7)&&(e+=1),e}function pR(t){const e=64-function(r){let i=0;for(let s=0;s<8;++s){const o=h7(255&r[s]);if(i+=o,o!==8)break}return i}(t);return Math.ceil(e/8)}class f7{constructor(){this.buffer=new Uint8Array(1024),this.position=0}Ct(e){const n=e[Symbol.iterator]();let r=n.next();for(;!r.done;)this.Ft(r.value),r=n.next();this.Mt()}xt(e){const n=e[Symbol.iterator]();let r=n.next();for(;!r.done;)this.Ot(r.value),r=n.next();this.Nt()}Lt(e){for(const n of e){const r=n.charCodeAt(0);if(r<128)this.Ft(r);else if(r<2048)this.Ft(960|r>>>6),this.Ft(128|63&r);else if(n<"\uD800"||"\uDBFF"<n)this.Ft(480|r>>>12),this.Ft(128|63&r>>>6),this.Ft(128|63&r);else{const i=n.codePointAt(0);this.Ft(240|i>>>18),this.Ft(128|63&i>>>12),this.Ft(128|63&i>>>6),this.Ft(128|63&i)}}this.Mt()}Bt(e){for(const n of e){const r=n.charCodeAt(0);if(r<128)this.Ot(r);else if(r<2048)this.Ot(960|r>>>6),this.Ot(128|63&r);else if(n<"\uD800"||"\uDBFF"<n)this.Ot(480|r>>>12),this.Ot(128|63&r>>>6),this.Ot(128|63&r);else{const i=n.codePointAt(0);this.Ot(240|i>>>18),this.Ot(128|63&i>>>12),this.Ot(128|63&i>>>6),this.Ot(128|63&i)}}this.Nt()}kt(e){const n=this.qt(e),r=pR(n);this.Qt(1+r),this.buffer[this.position++]=255&r;for(let i=n.length-r;i<n.length;++i)this.buffer[this.position++]=255&n[i]}Kt(e){const n=this.qt(e),r=pR(n);this.Qt(1+r),this.buffer[this.position++]=~(255&r);for(let i=n.length-r;i<n.length;++i)this.buffer[this.position++]=~(255&n[i])}$t(){this.Ut(255),this.Ut(255)}Wt(){this.Gt(255),this.Gt(255)}reset(){this.position=0}seed(e){this.Qt(e.length),this.buffer.set(e,this.position),this.position+=e.length}zt(){return this.buffer.slice(0,this.position)}qt(e){const n=function(s){const o=new DataView(new ArrayBuffer(8));return o.setFloat64(0,s,!1),new Uint8Array(o.buffer)}(e),r=(128&n[0])!=0;n[0]^=r?255:128;for(let i=1;i<n.length;++i)n[i]^=r?255:0;return n}Ft(e){const n=255&e;n===0?(this.Ut(0),this.Ut(255)):n===255?(this.Ut(255),this.Ut(0)):this.Ut(n)}Ot(e){const n=255&e;n===0?(this.Gt(0),this.Gt(255)):n===255?(this.Gt(255),this.Gt(0)):this.Gt(e)}Mt(){this.Ut(0),this.Ut(1)}Nt(){this.Gt(0),this.Gt(1)}Ut(e){this.Qt(1),this.buffer[this.position++]=e}Gt(e){this.Qt(1),this.buffer[this.position++]=~e}Qt(e){const n=e+this.position;if(n<=this.buffer.length)return;let r=2*this.buffer.length;r<n&&(r=n);const i=new Uint8Array(r);i.set(this.buffer),this.buffer=i}}class p7{constructor(e){this.jt=e}gt(e){this.jt.Ct(e)}Rt(e){this.jt.Lt(e)}At(e){this.jt.kt(e)}Et(){this.jt.$t()}}class m7{constructor(e){this.jt=e}gt(e){this.jt.xt(e)}Rt(e){this.jt.Bt(e)}At(e){this.jt.Kt(e)}Et(){this.jt.Wt()}}class sc{constructor(){this.jt=new f7,this.Ht=new p7(this.jt),this.Jt=new m7(this.jt)}seed(e){this.jt.seed(e)}Yt(e){return e===0?this.Ht:this.Jt}zt(){return this.jt.zt()}reset(){this.jt.reset()}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Fo{constructor(e,n,r,i){this.indexId=e,this.documentKey=n,this.arrayValue=r,this.directionalValue=i}Zt(){const e=this.directionalValue.length,n=e===0||this.directionalValue[e-1]===255?e+1:e,r=new Uint8Array(n);return r.set(this.directionalValue,0),n!==e?r.set([0],this.directionalValue.length):++r[r.length-1],new Fo(this.indexId,this.documentKey,this.arrayValue,r)}}function _s(t,e){let n=t.indexId-e.indexId;return n!==0?n:(n=mR(t.arrayValue,e.arrayValue),n!==0?n:(n=mR(t.directionalValue,e.directionalValue),n!==0?n:K.comparator(t.documentKey,e.documentKey)))}function mR(t,e){for(let n=0;n<t.length&&n<e.length;++n){const r=t[n]-e[n];if(r!==0)return r}return t.length-e.length}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gR{constructor(e){this.Xt=new Ne((n,r)=>Ze.comparator(n.field,r.field)),this.collectionId=e.collectionGroup!=null?e.collectionGroup:e.path.lastSegment(),this.en=e.orderBy,this.tn=[];for(const n of e.filters){const r=n;r.isInequality()?this.Xt=this.Xt.add(r):this.tn.push(r)}}get nn(){return this.Xt.size>1}rn(e){if(te(e.collectionGroup===this.collectionId),this.nn)return!1;const n=Jv(e);if(n!==void 0&&!this.sn(n))return!1;const r=Do(e);let i=new Set,s=0,o=0;for(;s<r.length&&this.sn(r[s]);++s)i=i.add(r[s].fieldPath.canonicalString());if(s===r.length)return!0;if(this.Xt.size>0){const a=this.Xt.getIterator().getNext();if(!i.has(a.field.canonicalString())){const l=r[s];if(!this.on(a,l)||!this._n(this.en[o++],l))return!1}++s}for(;s<r.length;++s){const a=r[s];if(o>=this.en.length||!this._n(this.en[o++],a))return!1}return!0}an(){if(this.nn)return null;let e=new Ne(Ze.comparator);const n=[];for(const r of this.tn)if(!r.field.isKeyField())if(r.op==="array-contains"||r.op==="array-contains-any")n.push(new ep(r.field,2));else{if(e.has(r.field))continue;e=e.add(r.field),n.push(new ep(r.field,0))}for(const r of this.en)r.field.isKeyField()||e.has(r.field)||(e=e.add(r.field),n.push(new ep(r.field,r.dir==="asc"?0:1)));return new am(am.UNKNOWN_ID,this.collectionId,n,Cd.empty())}sn(e){for(const n of this.tn)if(this.on(n,e))return!0;return!1}on(e,n){if(e===void 0||!e.field.isEqual(n.fieldPath))return!1;const r=e.op==="array-contains"||e.op==="array-contains-any";return n.kind===2===r}_n(e,n){return!!e.field.isEqual(n.fieldPath)&&(n.kind===0&&e.dir==="asc"||n.kind===1&&e.dir==="desc")}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function RD(t){var e,n;if(te(t instanceof _e||t instanceof Oe),t instanceof _e){if(t instanceof qO){const i=((n=(e=t.value.arrayValue)===null||e===void 0?void 0:e.values)===null||n===void 0?void 0:n.map(s=>_e.create(t.field,"==",s)))||[];return Oe.create(i,"or")}return t}const r=t.filters.map(i=>RD(i));return Oe.create(r,t.op)}function g7(t){if(t.getFilters().length===0)return[];const e=d0(RD(t));return te(AD(e)),u0(e)||c0(e)?[e]:e.getFilters()}function u0(t){return t instanceof _e}function c0(t){return t instanceof Oe&&NE(t)}function AD(t){return u0(t)||c0(t)||function(n){if(n instanceof Oe&&t0(n)){for(const r of n.getFilters())if(!u0(r)&&!c0(r))return!1;return!0}return!1}(t)}function d0(t){if(te(t instanceof _e||t instanceof Oe),t instanceof _e)return t;if(t.filters.length===1)return d0(t.filters[0]);const e=t.filters.map(r=>d0(r));let n=Oe.create(e,t.op);return n=hm(n),AD(n)?n:(te(n instanceof Oe),te(Kl(n)),te(n.filters.length>1),n.filters.reduce((r,i)=>qE(r,i)))}function qE(t,e){let n;return te(t instanceof _e||t instanceof Oe),te(e instanceof _e||e instanceof Oe),n=t instanceof _e?e instanceof _e?function(i,s){return Oe.create([i,s],"and")}(t,e):yR(t,e):e instanceof _e?yR(e,t):function(i,s){if(te(i.filters.length>0&&s.filters.length>0),Kl(i)&&Kl(s))return zO(i,s.getFilters());const o=t0(i)?i:s,a=t0(i)?s:i,l=o.filters.map(u=>qE(u,a));return Oe.create(l,"or")}(t,e),hm(n)}function yR(t,e){if(Kl(e))return zO(e,t.getFilters());{const n=e.filters.map(r=>qE(t,r));return Oe.create(n,"or")}}function hm(t){if(te(t instanceof _e||t instanceof Oe),t instanceof _e)return t;const e=t.getFilters();if(e.length===1)return hm(e[0]);if(BO(t))return t;const n=e.map(i=>hm(i)),r=[];return n.forEach(i=>{i instanceof _e?r.push(i):i instanceof Oe&&(i.op===t.op?r.push(...i.filters):r.push(i))}),r.length===1?r[0]:Oe.create(r,t.op)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class y7{constructor(){this.un=new HE}addToCollectionParentIndex(e,n){return this.un.add(n),L.resolve()}getCollectionParents(e,n){return L.resolve(this.un.getEntries(n))}addFieldIndex(e,n){return L.resolve()}deleteFieldIndex(e,n){return L.resolve()}deleteAllFieldIndexes(e){return L.resolve()}createTargetIndexes(e,n){return L.resolve()}getDocumentsMatchingTarget(e,n){return L.resolve(null)}getIndexType(e,n){return L.resolve(0)}getFieldIndexes(e,n){return L.resolve([])}getNextCollectionGroupToUpdate(e){return L.resolve(null)}getMinOffset(e,n){return L.resolve(nr.min())}getMinOffsetFromCollectionGroup(e,n){return L.resolve(nr.min())}updateCollectionGroup(e,n,r){return L.resolve()}updateIndexEntries(e,n){return L.resolve()}}class HE{constructor(){this.index={}}add(e){const n=e.lastSegment(),r=e.popLast(),i=this.index[n]||new Ne(ye.comparator),s=!i.has(r);return this.index[n]=i.add(r),s}has(e){const n=e.lastSegment(),r=e.popLast(),i=this.index[n];return i&&i.has(r)}getEntries(e){return(this.index[e]||new Ne(ye.comparator)).toArray()}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Tf=new Uint8Array(0);class _7{constructor(e,n){this.databaseId=n,this.cn=new HE,this.ln=new vo(r=>da(r),(r,i)=>yh(r,i)),this.uid=e.uid||""}addToCollectionParentIndex(e,n){if(!this.cn.has(n)){const r=n.lastSegment(),i=n.popLast();e.addOnCommittedListener(()=>{this.cn.add(n)});const s={collectionId:r,parent:In(i)};return _R(e).put(s)}return L.resolve()}getCollectionParents(e,n){const r=[],i=IDBKeyRange.bound([n,""],[IO(n),""],!1,!0);return _R(e).U(i).next(s=>{for(const o of s){if(o.collectionId!==n)break;r.push(si(o.parent))}return r})}addFieldIndex(e,n){const r=oc(e),i=function(a){return{indexId:a.indexId,collectionGroup:a.collectionGroup,fields:a.fields.map(l=>[l.fieldPath.canonicalString(),l.kind])}}(n);delete i.indexId;const s=r.add(i);if(n.indexState){const o=qa(e);return s.next(a=>{o.put(dR(a,this.uid,n.indexState.sequenceNumber,n.indexState.offset))})}return s.next()}deleteFieldIndex(e,n){const r=oc(e),i=qa(e),s=Wa(e);return r.delete(n.indexId).next(()=>i.delete(IDBKeyRange.bound([n.indexId],[n.indexId+1],!1,!0))).next(()=>s.delete(IDBKeyRange.bound([n.indexId],[n.indexId+1],!1,!0)))}deleteAllFieldIndexes(e){const n=oc(e),r=Wa(e),i=qa(e);return n.j().next(()=>r.j()).next(()=>i.j())}createTargetIndexes(e,n){return L.forEach(this.hn(n),r=>this.getIndexType(e,r).next(i=>{if(i===0||i===1){const s=new gR(r).an();if(s!=null)return this.addFieldIndex(e,s)}}))}getDocumentsMatchingTarget(e,n){const r=Wa(e);let i=!0;const s=new Map;return L.forEach(this.hn(n),o=>this.Pn(e,o).next(a=>{i&&(i=!!a),s.set(o,a)})).next(()=>{if(i){let o=ue();const a=[];return L.forEach(s,(l,u)=>{j("IndexedDbIndexManager",`Using index ${function(E){return`id=${E.indexId}|cg=${E.collectionGroup}|f=${E.fields.map(O=>`${O.fieldPath}:${O.kind}`).join(",")}`}(l)} to execute ${da(n)}`);const d=function(E,O){const C=Jv(O);if(C===void 0)return null;for(const N of um(E,C.fieldPath))switch(N.op){case"array-contains-any":return N.value.arrayValue.values||[];case"array-contains":return[N.value]}return null}(u,l),h=function(E,O){const C=new Map;for(const N of Do(O))for(const b of um(E,N.fieldPath))switch(b.op){case"==":case"in":C.set(N.fieldPath.canonicalString(),b.value);break;case"not-in":case"!=":return C.set(N.fieldPath.canonicalString(),b.value),Array.from(C.values())}return null}(u,l),f=function(E,O){const C=[];let N=!0;for(const b of Do(O)){const S=b.kind===0?Qb(E,b.fieldPath,E.startAt):Jb(E,b.fieldPath,E.startAt);C.push(S.value),N&&(N=S.inclusive)}return new so(C,N)}(u,l),g=function(E,O){const C=[];let N=!0;for(const b of Do(O)){const S=b.kind===0?Jb(E,b.fieldPath,E.endAt):Qb(E,b.fieldPath,E.endAt);C.push(S.value),N&&(N=S.inclusive)}return new so(C,N)}(u,l),_=this.In(l,u,f),v=this.In(l,u,g),T=this.Tn(l,u,h),I=this.En(l.indexId,d,_,f.inclusive,v,g.inclusive,T);return L.forEach(I,w=>r.G(w,n.limit).next(E=>{E.forEach(O=>{const C=K.fromSegments(O.documentKey);o.has(C)||(o=o.add(C),a.push(C))})}))}).next(()=>a)}return L.resolve(null)})}hn(e){let n=this.ln.get(e);return n||(e.filters.length===0?n=[e]:n=g7(Oe.create(e.filters,"and")).map(r=>r0(e.path,e.collectionGroup,e.orderBy,r.getFilters(),e.limit,e.startAt,e.endAt)),this.ln.set(e,n),n)}En(e,n,r,i,s,o,a){const l=(n!=null?n.length:1)*Math.max(r.length,s.length),u=l/(n!=null?n.length:1),d=[];for(let h=0;h<l;++h){const f=n?this.dn(n[h/u]):Tf,g=this.An(e,f,r[h%u],i),_=this.Rn(e,f,s[h%u],o),v=a.map(T=>this.An(e,f,T,!0));d.push(...this.createRange(g,_,v))}return d}An(e,n,r,i){const s=new Fo(e,K.empty(),n,r);return i?s:s.Zt()}Rn(e,n,r,i){const s=new Fo(e,K.empty(),n,r);return i?s.Zt():s}Pn(e,n){const r=new gR(n),i=n.collectionGroup!=null?n.collectionGroup:n.path.lastSegment();return this.getFieldIndexes(e,i).next(s=>{let o=null;for(const a of s)r.rn(a)&&(!o||a.fields.length>o.fields.length)&&(o=a);return o})}getIndexType(e,n){let r=2;const i=this.hn(n);return L.forEach(i,s=>this.Pn(e,s).next(o=>{o?r!==0&&o.fields.length<function(l){let u=new Ne(Ze.comparator),d=!1;for(const h of l.filters)for(const f of h.getFlattenedFilters())f.field.isKeyField()||(f.op==="array-contains"||f.op==="array-contains-any"?d=!0:u=u.add(f.field));for(const h of l.orderBy)h.field.isKeyField()||(u=u.add(h.field));return u.size+(d?1:0)}(s)&&(r=1):r=0})).next(()=>function(o){return o.limit!==null}(n)&&i.length>1&&r===2?1:r)}Vn(e,n){const r=new sc;for(const i of Do(e)){const s=n.data.field(i.fieldPath);if(s==null)return null;const o=r.Yt(i.kind);Vo.vt.It(s,o)}return r.zt()}dn(e){const n=new sc;return Vo.vt.It(e,n.Yt(0)),n.zt()}mn(e,n){const r=new sc;return Vo.vt.It(ca(this.databaseId,n),r.Yt(function(s){const o=Do(s);return o.length===0?0:o[o.length-1].kind}(e))),r.zt()}Tn(e,n,r){if(r===null)return[];let i=[];i.push(new sc);let s=0;for(const o of Do(e)){const a=r[s++];for(const l of i)if(this.fn(n,o.fieldPath)&&Nd(a))i=this.gn(i,o,a);else{const u=l.Yt(o.kind);Vo.vt.It(a,u)}}return this.pn(i)}In(e,n,r){return this.Tn(e,n,r.position)}pn(e){const n=[];for(let r=0;r<e.length;++r)n[r]=e[r].zt();return n}gn(e,n,r){const i=[...e],s=[];for(const o of r.arrayValue.values||[])for(const a of i){const l=new sc;l.seed(a.zt()),Vo.vt.It(o,l.Yt(n.kind)),s.push(l)}return s}fn(e,n){return!!e.filters.find(r=>r instanceof _e&&r.field.isEqual(n)&&(r.op==="in"||r.op==="not-in"))}getFieldIndexes(e,n){const r=oc(e),i=qa(e);return(n?r.U("collectionGroupIndex",IDBKeyRange.bound(n,n)):r.U()).next(s=>{const o=[];return L.forEach(s,a=>i.get([a.indexId,this.uid]).next(l=>{o.push(function(d,h){const f=h?new Cd(h.sequenceNumber,new nr(ma(h.readTime),new K(si(h.documentKey)),h.largestBatchId)):Cd.empty(),g=d.fields.map(([_,v])=>new ep(Ze.fromServerFormat(_),v));return new am(d.indexId,d.collectionGroup,g,f)}(a,l))})).next(()=>o)})}getNextCollectionGroupToUpdate(e){return this.getFieldIndexes(e).next(n=>n.length===0?null:(n.sort((r,i)=>{const s=r.indexState.sequenceNumber-i.indexState.sequenceNumber;return s!==0?s:ae(r.collectionGroup,i.collectionGroup)}),n[0].collectionGroup))}updateCollectionGroup(e,n,r){const i=oc(e),s=qa(e);return this.yn(e).next(o=>i.U("collectionGroupIndex",IDBKeyRange.bound(n,n)).next(a=>L.forEach(a,l=>s.put(dR(l.indexId,this.uid,o,r)))))}updateIndexEntries(e,n){const r=new Map;return L.forEach(n,(i,s)=>{const o=r.get(i.collectionGroup);return(o?L.resolve(o):this.getFieldIndexes(e,i.collectionGroup)).next(a=>(r.set(i.collectionGroup,a),L.forEach(a,l=>this.wn(e,i,l).next(u=>{const d=this.Sn(s,l);return u.isEqual(d)?L.resolve():this.bn(e,s,l,u,d)}))))})}Dn(e,n,r,i){return Wa(e).put({indexId:i.indexId,uid:this.uid,arrayValue:i.arrayValue,directionalValue:i.directionalValue,orderedDocumentKey:this.mn(r,n.key),documentKey:n.key.path.toArray()})}vn(e,n,r,i){return Wa(e).delete([i.indexId,this.uid,i.arrayValue,i.directionalValue,this.mn(r,n.key),n.key.path.toArray()])}wn(e,n,r){const i=Wa(e);let s=new Ne(_s);return i.J({index:"documentKeyIndex",range:IDBKeyRange.only([r.indexId,this.uid,this.mn(r,n)])},(o,a)=>{s=s.add(new Fo(r.indexId,n,a.arrayValue,a.directionalValue))}).next(()=>s)}Sn(e,n){let r=new Ne(_s);const i=this.Vn(n,e);if(i==null)return r;const s=Jv(n);if(s!=null){const o=e.data.field(s.fieldPath);if(Nd(o))for(const a of o.arrayValue.values||[])r=r.add(new Fo(n.indexId,e.key,this.dn(a),i))}else r=r.add(new Fo(n.indexId,e.key,Tf,i));return r}bn(e,n,r,i,s){j("IndexedDbIndexManager","Updating index entries for document '%s'",n.key);const o=[];return function(l,u,d,h,f){const g=l.getIterator(),_=u.getIterator();let v=ja(g),T=ja(_);for(;v||T;){let I=!1,w=!1;if(v&&T){const E=d(v,T);E<0?w=!0:E>0&&(I=!0)}else v!=null?w=!0:I=!0;I?(h(T),T=ja(_)):w?(f(v),v=ja(g)):(v=ja(g),T=ja(_))}}(i,s,_s,a=>{o.push(this.Dn(e,n,r,a))},a=>{o.push(this.vn(e,n,r,a))}),L.waitFor(o)}yn(e){let n=1;return qa(e).J({index:"sequenceNumberIndex",reverse:!0,range:IDBKeyRange.upperBound([this.uid,Number.MAX_SAFE_INTEGER])},(r,i,s)=>{s.done(),n=i.sequenceNumber+1}).next(()=>n)}createRange(e,n,r){r=r.sort((o,a)=>_s(o,a)).filter((o,a,l)=>!a||_s(o,l[a-1])!==0);const i=[];i.push(e);for(const o of r){const a=_s(o,e),l=_s(o,n);if(a===0)i[0]=e.Zt();else if(a>0&&l<0)i.push(o),i.push(o.Zt());else if(l>0)break}i.push(n);const s=[];for(let o=0;o<i.length;o+=2){if(this.Cn(i[o],i[o+1]))return[];const a=[i[o].indexId,this.uid,i[o].arrayValue,i[o].directionalValue,Tf,[]],l=[i[o+1].indexId,this.uid,i[o+1].arrayValue,i[o+1].directionalValue,Tf,[]];s.push(IDBKeyRange.bound(a,l))}return s}Cn(e,n){return _s(e,n)>0}getMinOffsetFromCollectionGroup(e,n){return this.getFieldIndexes(e,n).next(vR)}getMinOffset(e,n){return L.mapArray(this.hn(n),r=>this.Pn(e,r).next(i=>i||X())).next(vR)}}function _R(t){return Vt(t,"collectionParents")}function Wa(t){return Vt(t,"indexEntries")}function oc(t){return Vt(t,"indexConfiguration")}function qa(t){return Vt(t,"indexState")}function vR(t){te(t.length!==0);let e=t[0].indexState.offset,n=e.largestBatchId;for(let r=1;r<t.length;r++){const i=t[r].indexState.offset;CE(i,e)<0&&(e=i),n<i.largestBatchId&&(n=i.largestBatchId)}return new nr(e.readTime,e.documentKey,n)}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const wR={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0};class kn{constructor(e,n,r){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=n,this.maximumSequenceNumbersToCollect=r}static withCacheSize(e){return new kn(e,kn.DEFAULT_COLLECTION_PERCENTILE,kn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function PD(t,e,n){const r=t.store("mutations"),i=t.store("documentMutations"),s=[],o=IDBKeyRange.only(n.batchId);let a=0;const l=r.J({range:o},(d,h,f)=>(a++,f.delete()));s.push(l.next(()=>{te(a===1)}));const u=[];for(const d of n.mutations){const h=CO(e,d.key.path,n.batchId);s.push(i.delete(h)),u.push(d.key)}return L.waitFor(s).next(()=>u)}function fm(t){if(!t)return 0;let e;if(t.document)e=t.document;else if(t.unknownDocument)e=t.unknownDocument;else{if(!t.noDocument)throw X();e=t.noDocument}return JSON.stringify(e).length}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */kn.DEFAULT_COLLECTION_PERCENTILE=10,kn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,kn.DEFAULT=new kn(41943040,kn.DEFAULT_COLLECTION_PERCENTILE,kn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),kn.DISABLED=new kn(-1,0,0);class xg{constructor(e,n,r,i){this.userId=e,this.serializer=n,this.indexManager=r,this.referenceDelegate=i,this.Fn={}}static lt(e,n,r,i){te(e.uid!=="");const s=e.isAuthenticated()?e.uid:"";return new xg(s,n,r,i)}checkEmpty(e){let n=!0;const r=IDBKeyRange.bound([this.userId,Number.NEGATIVE_INFINITY],[this.userId,Number.POSITIVE_INFINITY]);return vs(e).J({index:"userMutationsIndex",range:r},(i,s,o)=>{n=!1,o.done()}).next(()=>n)}addMutationBatch(e,n,r,i){const s=Za(e),o=vs(e);return o.add({}).next(a=>{te(typeof a=="number");const l=new UE(a,n,r,i),u=function(g,_,v){const T=v.baseMutations.map(w=>Vd(g.ct,w)),I=v.mutations.map(w=>Vd(g.ct,w));return{userId:_,batchId:v.batchId,localWriteTimeMs:v.localWriteTime.toMillis(),baseMutations:T,mutations:I}}(this.serializer,this.userId,l),d=[];let h=new Ne((f,g)=>ae(f.canonicalString(),g.canonicalString()));for(const f of i){const g=CO(this.userId,f.key.path,a);h=h.add(f.key.path.popLast()),d.push(o.put(u)),d.push(s.put(g,iq))}return h.forEach(f=>{d.push(this.indexManager.addToCollectionParentIndex(e,f))}),e.addOnCommittedListener(()=>{this.Fn[a]=l.keys()}),L.waitFor(d).next(()=>l)})}lookupMutationBatch(e,n){return vs(e).get(n).next(r=>r?(te(r.userId===this.userId),Lo(this.serializer,r)):null)}Mn(e,n){return this.Fn[n]?L.resolve(this.Fn[n]):this.lookupMutationBatch(e,n).next(r=>{if(r){const i=r.keys();return this.Fn[n]=i,i}return null})}getNextMutationBatchAfterBatchId(e,n){const r=n+1,i=IDBKeyRange.lowerBound([this.userId,r]);let s=null;return vs(e).J({index:"userMutationsIndex",range:i},(o,a,l)=>{a.userId===this.userId&&(te(a.batchId>=r),s=Lo(this.serializer,a)),l.done()}).next(()=>s)}getHighestUnacknowledgedBatchId(e){const n=IDBKeyRange.upperBound([this.userId,Number.POSITIVE_INFINITY]);let r=-1;return vs(e).J({index:"userMutationsIndex",range:n,reverse:!0},(i,s,o)=>{r=s.batchId,o.done()}).next(()=>r)}getAllMutationBatches(e){const n=IDBKeyRange.bound([this.userId,-1],[this.userId,Number.POSITIVE_INFINITY]);return vs(e).U("userMutationsIndex",n).next(r=>r.map(i=>Lo(this.serializer,i)))}getAllMutationBatchesAffectingDocumentKey(e,n){const r=tp(this.userId,n.path),i=IDBKeyRange.lowerBound(r),s=[];return Za(e).J({range:i},(o,a,l)=>{const[u,d,h]=o,f=si(d);if(u===this.userId&&n.path.isEqual(f))return vs(e).get(h).next(g=>{if(!g)throw X();te(g.userId===this.userId),s.push(Lo(this.serializer,g))});l.done()}).next(()=>s)}getAllMutationBatchesAffectingDocumentKeys(e,n){let r=new Ne(ae);const i=[];return n.forEach(s=>{const o=tp(this.userId,s.path),a=IDBKeyRange.lowerBound(o),l=Za(e).J({range:a},(u,d,h)=>{const[f,g,_]=u,v=si(g);f===this.userId&&s.path.isEqual(v)?r=r.add(_):h.done()});i.push(l)}),L.waitFor(i).next(()=>this.xn(e,r))}getAllMutationBatchesAffectingQuery(e,n){const r=n.path,i=r.length+1,s=tp(this.userId,r),o=IDBKeyRange.lowerBound(s);let a=new Ne(ae);return Za(e).J({range:o},(l,u,d)=>{const[h,f,g]=l,_=si(f);h===this.userId&&r.isPrefixOf(_)?_.length===i&&(a=a.add(g)):d.done()}).next(()=>this.xn(e,a))}xn(e,n){const r=[],i=[];return n.forEach(s=>{i.push(vs(e).get(s).next(o=>{if(o===null)throw X();te(o.userId===this.userId),r.push(Lo(this.serializer,o))}))}),L.waitFor(i).next(()=>r)}removeMutationBatch(e,n){return PD(e._e,this.userId,n).next(r=>(e.addOnCommittedListener(()=>{this.On(n.batchId)}),L.forEach(r,i=>this.referenceDelegate.markPotentiallyOrphaned(e,i))))}On(e){delete this.Fn[e]}performConsistencyCheck(e){return this.checkEmpty(e).next(n=>{if(!n)return L.resolve();const r=IDBKeyRange.lowerBound(function(o){return[o]}(this.userId)),i=[];return Za(e).J({range:r},(s,o,a)=>{if(s[0]===this.userId){const l=si(s[1]);i.push(l)}else a.done()}).next(()=>{te(i.length===0)})})}containsKey(e,n){return kD(e,this.userId,n)}Nn(e){return CD(e).get(this.userId).next(n=>n||{userId:this.userId,lastAcknowledgedBatchId:-1,lastStreamToken:""})}}function kD(t,e,n){const r=tp(e,n.path),i=r[1],s=IDBKeyRange.lowerBound(r);let o=!1;return Za(t).J({range:s,H:!0},(a,l,u)=>{const[d,h,f]=a;d===e&&h===i&&(o=!0),u.done()}).next(()=>o)}function vs(t){return Vt(t,"mutations")}function Za(t){return Vt(t,"documentMutations")}function CD(t){return Vt(t,"mutationQueues")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ga{constructor(e){this.Ln=e}next(){return this.Ln+=2,this.Ln}static Bn(){return new ga(0)}static kn(){return new ga(-1)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class v7{constructor(e,n){this.referenceDelegate=e,this.serializer=n}allocateTargetId(e){return this.qn(e).next(n=>{const r=new ga(n.highestTargetId);return n.highestTargetId=r.next(),this.Qn(e,n).next(()=>n.highestTargetId)})}getLastRemoteSnapshotVersion(e){return this.qn(e).next(n=>ne.fromTimestamp(new tt(n.lastRemoteSnapshotVersion.seconds,n.lastRemoteSnapshotVersion.nanoseconds)))}getHighestSequenceNumber(e){return this.qn(e).next(n=>n.highestListenSequenceNumber)}setTargetsMetadata(e,n,r){return this.qn(e).next(i=>(i.highestListenSequenceNumber=n,r&&(i.lastRemoteSnapshotVersion=r.toTimestamp()),n>i.highestListenSequenceNumber&&(i.highestListenSequenceNumber=n),this.Qn(e,i)))}addTargetData(e,n){return this.Kn(e,n).next(()=>this.qn(e).next(r=>(r.targetCount+=1,this.$n(n,r),this.Qn(e,r))))}updateTargetData(e,n){return this.Kn(e,n)}removeTargetData(e,n){return this.removeMatchingKeysForTargetId(e,n.targetId).next(()=>Ha(e).delete(n.targetId)).next(()=>this.qn(e)).next(r=>(te(r.targetCount>0),r.targetCount-=1,this.Qn(e,r)))}removeTargets(e,n,r){let i=0;const s=[];return Ha(e).J((o,a)=>{const l=Ac(a);l.sequenceNumber<=n&&r.get(l.targetId)===null&&(i++,s.push(this.removeTargetData(e,l)))}).next(()=>L.waitFor(s)).next(()=>i)}forEachTarget(e,n){return Ha(e).J((r,i)=>{const s=Ac(i);n(s)})}qn(e){return ER(e).get("targetGlobalKey").next(n=>(te(n!==null),n))}Qn(e,n){return ER(e).put("targetGlobalKey",n)}Kn(e,n){return Ha(e).put(bD(this.serializer,n))}$n(e,n){let r=!1;return e.targetId>n.highestTargetId&&(n.highestTargetId=e.targetId,r=!0),e.sequenceNumber>n.highestListenSequenceNumber&&(n.highestListenSequenceNumber=e.sequenceNumber,r=!0),r}getTargetCount(e){return this.qn(e).next(n=>n.targetCount)}getTargetData(e,n){const r=da(n),i=IDBKeyRange.bound([r,Number.NEGATIVE_INFINITY],[r,Number.POSITIVE_INFINITY]);let s=null;return Ha(e).J({range:i,index:"queryTargetsIndex"},(o,a,l)=>{const u=Ac(a);yh(n,u.target)&&(s=u,l.done())}).next(()=>s)}addMatchingKeys(e,n,r){const i=[],s=Rs(e);return n.forEach(o=>{const a=In(o.path);i.push(s.put({targetId:r,path:a})),i.push(this.referenceDelegate.addReference(e,r,o))}),L.waitFor(i)}removeMatchingKeys(e,n,r){const i=Rs(e);return L.forEach(n,s=>{const o=In(s.path);return L.waitFor([i.delete([r,o]),this.referenceDelegate.removeReference(e,r,s)])})}removeMatchingKeysForTargetId(e,n){const r=Rs(e),i=IDBKeyRange.bound([n],[n+1],!1,!0);return r.delete(i)}getMatchingKeysForTargetId(e,n){const r=IDBKeyRange.bound([n],[n+1],!1,!0),i=Rs(e);let s=ue();return i.J({range:r,H:!0},(o,a,l)=>{const u=si(o[1]),d=new K(u);s=s.add(d)}).next(()=>s)}containsKey(e,n){const r=In(n.path),i=IDBKeyRange.bound([r],[IO(r)],!1,!0);let s=0;return Rs(e).J({index:"documentTargetsIndex",H:!0,range:i},([o,a],l,u)=>{o!==0&&(s++,u.done())}).next(()=>s>0)}ot(e,n){return Ha(e).get(n).next(r=>r?Ac(r):null)}}function Ha(t){return Vt(t,"targets")}function ER(t){return Vt(t,"targetGlobal")}function Rs(t){return Vt(t,"targetDocuments")}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function SR([t,e],[n,r]){const i=ae(t,n);return i===0?ae(e,r):i}class w7{constructor(e){this.Un=e,this.buffer=new Ne(SR),this.Wn=0}Gn(){return++this.Wn}zn(e){const n=[e,this.Gn()];if(this.buffer.size<this.Un)this.buffer=this.buffer.add(n);else{const r=this.buffer.last();SR(n,r)<0&&(this.buffer=this.buffer.delete(r).add(n))}}get maxValue(){return this.buffer.last()[0]}}class E7{constructor(e,n,r){this.garbageCollector=e,this.asyncQueue=n,this.localStore=r,this.jn=null}start(){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.Hn(6e4)}stop(){this.jn&&(this.jn.cancel(),this.jn=null)}get started(){return this.jn!==null}Hn(e){j("LruGarbageCollector",`Garbage collection scheduled in ${e}ms`),this.jn=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",e,async()=>{this.jn=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(n){_o(n)?j("LruGarbageCollector","Ignoring IndexedDB error during garbage collection: ",n):await yo(n)}await this.Hn(3e5)})}}class S7{constructor(e,n){this.Jn=e,this.params=n}calculateTargetCount(e,n){return this.Jn.Yn(e).next(r=>Math.floor(n/100*r))}nthSequenceNumber(e,n){if(n===0)return L.resolve(Dn.oe);const r=new w7(n);return this.Jn.forEachTarget(e,i=>r.zn(i.sequenceNumber)).next(()=>this.Jn.Zn(e,i=>r.zn(i))).next(()=>r.maxValue)}removeTargets(e,n,r){return this.Jn.removeTargets(e,n,r)}removeOrphanedDocuments(e,n){return this.Jn.removeOrphanedDocuments(e,n)}collect(e,n){return this.params.cacheSizeCollectionThreshold===-1?(j("LruGarbageCollector","Garbage collection skipped; disabled"),L.resolve(wR)):this.getCacheSize(e).next(r=>r<this.params.cacheSizeCollectionThreshold?(j("LruGarbageCollector",`Garbage collection skipped; Cache size ${r} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),wR):this.Xn(e,n))}getCacheSize(e){return this.Jn.getCacheSize(e)}Xn(e,n){let r,i,s,o,a,l,u;const d=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next(h=>(h>this.params.maximumSequenceNumbersToCollect?(j("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${h}`),i=this.params.maximumSequenceNumbersToCollect):i=h,o=Date.now(),this.nthSequenceNumber(e,i))).next(h=>(r=h,a=Date.now(),this.removeTargets(e,r,n))).next(h=>(s=h,l=Date.now(),this.removeOrphanedDocuments(e,r))).next(h=>(u=Date.now(),Ya()<=me.DEBUG&&j("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in ${o-d}ms
	Determined least recently used ${i} in `+(a-o)+`ms
	Removed ${s} targets in `+(l-a)+`ms
	Removed ${h} documents in `+(u-l)+`ms
Total Duration: ${u-d}ms`),L.resolve({didRun:!0,sequenceNumbersCollected:i,targetsRemoved:s,documentsRemoved:h})))}}function I7(t,e){return new S7(t,e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class T7{constructor(e,n){this.db=e,this.garbageCollector=I7(this,n)}Yn(e){const n=this.er(e);return this.db.getTargetCache().getTargetCount(e).next(r=>n.next(i=>r+i))}er(e){let n=0;return this.Zn(e,r=>{n++}).next(()=>n)}forEachTarget(e,n){return this.db.getTargetCache().forEachTarget(e,n)}Zn(e,n){return this.tr(e,(r,i)=>n(i))}addReference(e,n,r){return bf(e,r)}removeReference(e,n,r){return bf(e,r)}removeTargets(e,n,r){return this.db.getTargetCache().removeTargets(e,n,r)}markPotentiallyOrphaned(e,n){return bf(e,n)}nr(e,n){return function(i,s){let o=!1;return CD(i).Y(a=>kD(i,a,s).next(l=>(l&&(o=!0),L.resolve(!l)))).next(()=>o)}(e,n)}removeOrphanedDocuments(e,n){const r=this.db.getRemoteDocumentCache().newChangeBuffer(),i=[];let s=0;return this.tr(e,(o,a)=>{if(a<=n){const l=this.nr(e,o).next(u=>{if(!u)return s++,r.getEntry(e,o).next(()=>(r.removeEntry(o,ne.min()),Rs(e).delete(function(h){return[0,In(h.path)]}(o))))});i.push(l)}}).next(()=>L.waitFor(i)).next(()=>r.apply(e)).next(()=>s)}removeTarget(e,n){const r=n.withSequenceNumber(e.currentSequenceNumber);return this.db.getTargetCache().updateTargetData(e,r)}updateLimboDocument(e,n){return bf(e,n)}tr(e,n){const r=Rs(e);let i,s=Dn.oe;return r.J({index:"documentTargetsIndex"},([o,a],{path:l,sequenceNumber:u})=>{o===0?(s!==Dn.oe&&n(new K(si(i)),s),s=u,i=l):s=Dn.oe}).next(()=>{s!==Dn.oe&&n(new K(si(i)),s)})}getCacheSize(e){return this.db.getRemoteDocumentCache().getSize(e)}}function bf(t,e){return Rs(t).put(function(r,i){return{targetId:0,path:In(r.path),sequenceNumber:i}}(e,t.currentSequenceNumber))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xD{constructor(){this.changes=new vo(e=>e.toString(),(e,n)=>e.isEqual(n)),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,n){this.assertNotApplied(),this.changes.set(e,We.newInvalidDocument(e).setReadTime(n))}getEntry(e,n){this.assertNotApplied();const r=this.changes.get(n);return r!==void 0?L.resolve(r):this.getFromCache(e,n)}getEntries(e,n){return this.getAllFromCache(e,n)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class b7{constructor(e){this.serializer=e}setIndexManager(e){this.indexManager=e}addEntry(e,n,r){return Ao(e).put(r)}removeEntry(e,n,r){return Ao(e).delete(function(s,o){const a=s.path.toArray();return[a.slice(0,a.length-2),a[a.length-2],dm(o),a[a.length-1]]}(n,r))}updateMetadata(e,n){return this.getMetadata(e).next(r=>(r.byteSize+=n,this.rr(e,r)))}getEntry(e,n){let r=We.newInvalidDocument(n);return Ao(e).J({index:"documentKeyIndex",range:IDBKeyRange.only(ac(n))},(i,s)=>{r=this.ir(n,s)}).next(()=>r)}sr(e,n){let r={size:0,document:We.newInvalidDocument(n)};return Ao(e).J({index:"documentKeyIndex",range:IDBKeyRange.only(ac(n))},(i,s)=>{r={document:this.ir(n,s),size:fm(s)}}).next(()=>r)}getEntries(e,n){let r=Mn();return this._r(e,n,(i,s)=>{const o=this.ir(i,s);r=r.insert(i,o)}).next(()=>r)}ar(e,n){let r=Mn(),i=new $e(K.comparator);return this._r(e,n,(s,o)=>{const a=this.ir(s,o);r=r.insert(s,a),i=i.insert(s,fm(o))}).next(()=>({documents:r,ur:i}))}_r(e,n,r){if(n.isEmpty())return L.resolve();let i=new Ne(bR);n.forEach(l=>i=i.add(l));const s=IDBKeyRange.bound(ac(i.first()),ac(i.last())),o=i.getIterator();let a=o.getNext();return Ao(e).J({index:"documentKeyIndex",range:s},(l,u,d)=>{const h=K.fromSegments([...u.prefixPath,u.collectionGroup,u.documentId]);for(;a&&bR(a,h)<0;)r(a,null),a=o.getNext();a&&a.isEqual(h)&&(r(a,u),a=o.hasNext()?o.getNext():null),a?d.$(ac(a)):d.done()}).next(()=>{for(;a;)r(a,null),a=o.hasNext()?o.getNext():null})}getDocumentsMatchingQuery(e,n,r,i,s){const o=n.path,a=[o.popLast().toArray(),o.lastSegment(),dm(r.readTime),r.documentKey.path.isEmpty()?"":r.documentKey.path.lastSegment()],l=[o.popLast().toArray(),o.lastSegment(),[Number.MAX_SAFE_INTEGER,Number.MAX_SAFE_INTEGER],""];return Ao(e).U(IDBKeyRange.bound(a,l,!0)).next(u=>{s==null||s.incrementDocumentReadCount(u.length);let d=Mn();for(const h of u){const f=this.ir(K.fromSegments(h.prefixPath.concat(h.collectionGroup,h.documentId)),h);f.isFoundDocument()&&(vh(n,f)||i.has(f.key))&&(d=d.insert(f.key,f))}return d})}getAllFromCollectionGroup(e,n,r,i){let s=Mn();const o=TR(n,r),a=TR(n,nr.max());return Ao(e).J({index:"collectionGroupIndex",range:IDBKeyRange.bound(o,a,!0)},(l,u,d)=>{const h=this.ir(K.fromSegments(u.prefixPath.concat(u.collectionGroup,u.documentId)),u);s=s.insert(h.key,h),s.size===i&&d.done()}).next(()=>s)}newChangeBuffer(e){return new R7(this,!!e&&e.trackRemovals)}getSize(e){return this.getMetadata(e).next(n=>n.byteSize)}getMetadata(e){return IR(e).get("remoteDocumentGlobalKey").next(n=>(te(!!n),n))}rr(e,n){return IR(e).put("remoteDocumentGlobalKey",n)}ir(e,n){if(n){const r=u7(this.serializer,n);if(!(r.isNoDocument()&&r.version.isEqual(ne.min())))return r}return We.newInvalidDocument(e)}}function OD(t){return new b7(t)}class R7 extends xD{constructor(e,n){super(),this.cr=e,this.trackRemovals=n,this.lr=new vo(r=>r.toString(),(r,i)=>r.isEqual(i))}applyChanges(e){const n=[];let r=0,i=new Ne((s,o)=>ae(s.canonicalString(),o.canonicalString()));return this.changes.forEach((s,o)=>{const a=this.lr.get(s);if(n.push(this.cr.removeEntry(e,s,a.readTime)),o.isValidDocument()){const l=uR(this.cr.serializer,o);i=i.add(s.path.popLast());const u=fm(l);r+=u-a.size,n.push(this.cr.addEntry(e,s,l))}else if(r-=a.size,this.trackRemovals){const l=uR(this.cr.serializer,o.convertToNoDocument(ne.min()));n.push(this.cr.addEntry(e,s,l))}}),i.forEach(s=>{n.push(this.cr.indexManager.addToCollectionParentIndex(e,s))}),n.push(this.cr.updateMetadata(e,r)),L.waitFor(n)}getFromCache(e,n){return this.cr.sr(e,n).next(r=>(this.lr.set(n,{size:r.size,readTime:r.document.readTime}),r.document))}getAllFromCache(e,n){return this.cr.ar(e,n).next(({documents:r,ur:i})=>(i.forEach((s,o)=>{this.lr.set(s,{size:o,readTime:r.get(s).readTime})}),r))}}function IR(t){return Vt(t,"remoteDocumentGlobal")}function Ao(t){return Vt(t,"remoteDocumentsV14")}function ac(t){const e=t.path.toArray();return[e.slice(0,e.length-2),e[e.length-2],e[e.length-1]]}function TR(t,e){const n=e.documentKey.path.toArray();return[t,dm(e.readTime),n.slice(0,n.length-2),n.length>0?n[n.length-1]:""]}function bR(t,e){const n=t.path.toArray(),r=e.path.toArray();let i=0;for(let s=0;s<n.length-2&&s<r.length-2;++s)if(i=ae(n[s],r[s]),i)return i;return i=ae(n.length,r.length),i||(i=ae(n[n.length-2],r[r.length-2]),i||ae(n[n.length-1],r[r.length-1]))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class A7{constructor(e,n){this.overlayedDocument=e,this.mutatedFields=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class DD{constructor(e,n,r,i){this.remoteDocumentCache=e,this.mutationQueue=n,this.documentOverlayCache=r,this.indexManager=i}getDocument(e,n){let r=null;return this.documentOverlayCache.getOverlay(e,n).next(i=>(r=i,this.remoteDocumentCache.getEntry(e,n))).next(i=>(r!==null&&Gc(r.mutation,i,Nn.empty(),tt.now()),i))}getDocuments(e,n){return this.remoteDocumentCache.getEntries(e,n).next(r=>this.getLocalViewOfDocuments(e,r,ue()).next(()=>r))}getLocalViewOfDocuments(e,n,r=ue()){const i=oi();return this.populateOverlays(e,i,n).next(()=>this.computeViews(e,n,i,r).next(s=>{let o=bc();return s.forEach((a,l)=>{o=o.insert(a,l.overlayedDocument)}),o}))}getOverlayedDocuments(e,n){const r=oi();return this.populateOverlays(e,r,n).next(()=>this.computeViews(e,n,r,ue()))}populateOverlays(e,n,r){const i=[];return r.forEach(s=>{n.has(s)||i.push(s)}),this.documentOverlayCache.getOverlays(e,i).next(s=>{s.forEach((o,a)=>{n.set(o,a)})})}computeViews(e,n,r,i){let s=Mn();const o=Hc(),a=function(){return Hc()}();return n.forEach((l,u)=>{const d=r.get(u.key);i.has(u.key)&&(d===void 0||d.mutation instanceof os)?s=s.insert(u.key,u):d!==void 0?(o.set(u.key,d.mutation.getFieldMask()),Gc(d.mutation,u,d.mutation.getFieldMask(),tt.now())):o.set(u.key,Nn.empty())}),this.recalculateAndSaveOverlays(e,s).next(l=>(l.forEach((u,d)=>o.set(u,d)),n.forEach((u,d)=>{var h;return a.set(u,new A7(d,(h=o.get(u))!==null&&h!==void 0?h:null))}),a))}recalculateAndSaveOverlays(e,n){const r=Hc();let i=new $e((o,a)=>o-a),s=ue();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,n).next(o=>{for(const a of o)a.keys().forEach(l=>{const u=n.get(l);if(u===null)return;let d=r.get(l)||Nn.empty();d=a.applyToLocalView(u,d),r.set(l,d);const h=(i.get(a.batchId)||ue()).add(l);i=i.insert(a.batchId,h)})}).next(()=>{const o=[],a=i.getReverseIterator();for(;a.hasNext();){const l=a.getNext(),u=l.key,d=l.value,h=XO();d.forEach(f=>{if(!s.has(f)){const g=sD(n.get(f),r.get(f));g!==null&&h.set(f,g),s=s.add(f)}}),o.push(this.documentOverlayCache.saveOverlays(e,u,h))}return L.waitFor(o)}).next(()=>r)}recalculateAndSaveOverlaysForDocumentKeys(e,n){return this.remoteDocumentCache.getEntries(e,n).next(r=>this.recalculateAndSaveOverlays(e,r))}getDocumentsMatchingQuery(e,n,r,i){return function(o){return K.isDocumentKey(o.path)&&o.collectionGroup===null&&o.filters.length===0}(n)?this.getDocumentsMatchingDocumentQuery(e,n.path):ME(n)?this.getDocumentsMatchingCollectionGroupQuery(e,n,r,i):this.getDocumentsMatchingCollectionQuery(e,n,r,i)}getNextDocuments(e,n,r,i){return this.remoteDocumentCache.getAllFromCollectionGroup(e,n,r,i).next(s=>{const o=i-s.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,n,r.largestBatchId,i-s.size):L.resolve(oi());let a=-1,l=s;return o.next(u=>L.forEach(u,(d,h)=>(a<h.largestBatchId&&(a=h.largestBatchId),s.get(d)?L.resolve():this.remoteDocumentCache.getEntry(e,d).next(f=>{l=l.insert(d,f)}))).next(()=>this.populateOverlays(e,u,s)).next(()=>this.computeViews(e,l,u,ue())).next(d=>({batchId:a,changes:JO(d)})))})}getDocumentsMatchingDocumentQuery(e,n){return this.getDocument(e,new K(n)).next(r=>{let i=bc();return r.isFoundDocument()&&(i=i.insert(r.key,r)),i})}getDocumentsMatchingCollectionGroupQuery(e,n,r,i){const s=n.collectionGroup;let o=bc();return this.indexManager.getCollectionParents(e,s).next(a=>L.forEach(a,l=>{const u=function(h,f){return new ss(f,null,h.explicitOrderBy.slice(),h.filters.slice(),h.limit,h.limitType,h.startAt,h.endAt)}(n,l.child(s));return this.getDocumentsMatchingCollectionQuery(e,u,r,i).next(d=>{d.forEach((h,f)=>{o=o.insert(h,f)})})}).next(()=>o))}getDocumentsMatchingCollectionQuery(e,n,r,i){let s;return this.documentOverlayCache.getOverlaysForCollection(e,n.path,r.largestBatchId).next(o=>(s=o,this.remoteDocumentCache.getDocumentsMatchingQuery(e,n,r,s,i))).next(o=>{s.forEach((l,u)=>{const d=u.getKey();o.get(d)===null&&(o=o.insert(d,We.newInvalidDocument(d)))});let a=bc();return o.forEach((l,u)=>{const d=s.get(l);d!==void 0&&Gc(d.mutation,u,Nn.empty(),tt.now()),vh(n,u)&&(a=a.insert(l,u))}),a})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class P7{constructor(e){this.serializer=e,this.hr=new Map,this.Pr=new Map}getBundleMetadata(e,n){return L.resolve(this.hr.get(n))}saveBundleMetadata(e,n){return this.hr.set(n.id,function(i){return{id:i.id,version:i.version,createTime:Tt(i.createTime)}}(n)),L.resolve()}getNamedQuery(e,n){return L.resolve(this.Pr.get(n))}saveNamedQuery(e,n){return this.Pr.set(n.name,function(i){return{name:i.name,query:WE(i.bundledQuery),readTime:Tt(i.readTime)}}(n)),L.resolve()}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class k7{constructor(){this.overlays=new $e(K.comparator),this.Ir=new Map}getOverlay(e,n){return L.resolve(this.overlays.get(n))}getOverlays(e,n){const r=oi();return L.forEach(n,i=>this.getOverlay(e,i).next(s=>{s!==null&&r.set(i,s)})).next(()=>r)}saveOverlays(e,n,r){return r.forEach((i,s)=>{this.ht(e,n,s)}),L.resolve()}removeOverlaysForBatchId(e,n,r){const i=this.Ir.get(r);return i!==void 0&&(i.forEach(s=>this.overlays=this.overlays.remove(s)),this.Ir.delete(r)),L.resolve()}getOverlaysForCollection(e,n,r){const i=oi(),s=n.length+1,o=new K(n.child("")),a=this.overlays.getIteratorFrom(o);for(;a.hasNext();){const l=a.getNext().value,u=l.getKey();if(!n.isPrefixOf(u.path))break;u.path.length===s&&l.largestBatchId>r&&i.set(l.getKey(),l)}return L.resolve(i)}getOverlaysForCollectionGroup(e,n,r,i){let s=new $e((u,d)=>u-d);const o=this.overlays.getIterator();for(;o.hasNext();){const u=o.getNext().value;if(u.getKey().getCollectionGroup()===n&&u.largestBatchId>r){let d=s.get(u.largestBatchId);d===null&&(d=oi(),s=s.insert(u.largestBatchId,d)),d.set(u.getKey(),u)}}const a=oi(),l=s.getIterator();for(;l.hasNext()&&(l.getNext().value.forEach((u,d)=>a.set(u,d)),!(a.size()>=i)););return L.resolve(a)}ht(e,n,r){const i=this.overlays.get(r.key);if(i!==null){const o=this.Ir.get(i.largestBatchId).delete(r.key);this.Ir.set(i.largestBatchId,o)}this.overlays=this.overlays.insert(r.key,new $E(n,r));let s=this.Ir.get(n);s===void 0&&(s=ue(),this.Ir.set(n,s)),this.Ir.set(n,s.add(r.key))}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class C7{constructor(){this.sessionToken=gt.EMPTY_BYTE_STRING}getSessionToken(e){return L.resolve(this.sessionToken)}setSessionToken(e,n){return this.sessionToken=n,L.resolve()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class GE{constructor(){this.Tr=new Ne(Bt.Er),this.dr=new Ne(Bt.Ar)}isEmpty(){return this.Tr.isEmpty()}addReference(e,n){const r=new Bt(e,n);this.Tr=this.Tr.add(r),this.dr=this.dr.add(r)}Rr(e,n){e.forEach(r=>this.addReference(r,n))}removeReference(e,n){this.Vr(new Bt(e,n))}mr(e,n){e.forEach(r=>this.removeReference(r,n))}gr(e){const n=new K(new ye([])),r=new Bt(n,e),i=new Bt(n,e+1),s=[];return this.dr.forEachInRange([r,i],o=>{this.Vr(o),s.push(o.key)}),s}pr(){this.Tr.forEach(e=>this.Vr(e))}Vr(e){this.Tr=this.Tr.delete(e),this.dr=this.dr.delete(e)}yr(e){const n=new K(new ye([])),r=new Bt(n,e),i=new Bt(n,e+1);let s=ue();return this.dr.forEachInRange([r,i],o=>{s=s.add(o.key)}),s}containsKey(e){const n=new Bt(e,0),r=this.Tr.firstAfterOrEqual(n);return r!==null&&e.isEqual(r.key)}}class Bt{constructor(e,n){this.key=e,this.wr=n}static Er(e,n){return K.comparator(e.key,n.key)||ae(e.wr,n.wr)}static Ar(e,n){return ae(e.wr,n.wr)||K.comparator(e.key,n.key)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class x7{constructor(e,n){this.indexManager=e,this.referenceDelegate=n,this.mutationQueue=[],this.Sr=1,this.br=new Ne(Bt.Er)}checkEmpty(e){return L.resolve(this.mutationQueue.length===0)}addMutationBatch(e,n,r,i){const s=this.Sr;this.Sr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const o=new UE(s,n,r,i);this.mutationQueue.push(o);for(const a of i)this.br=this.br.add(new Bt(a.key,s)),this.indexManager.addToCollectionParentIndex(e,a.key.path.popLast());return L.resolve(o)}lookupMutationBatch(e,n){return L.resolve(this.Dr(n))}getNextMutationBatchAfterBatchId(e,n){const r=n+1,i=this.vr(r),s=i<0?0:i;return L.resolve(this.mutationQueue.length>s?this.mutationQueue[s]:null)}getHighestUnacknowledgedBatchId(){return L.resolve(this.mutationQueue.length===0?-1:this.Sr-1)}getAllMutationBatches(e){return L.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,n){const r=new Bt(n,0),i=new Bt(n,Number.POSITIVE_INFINITY),s=[];return this.br.forEachInRange([r,i],o=>{const a=this.Dr(o.wr);s.push(a)}),L.resolve(s)}getAllMutationBatchesAffectingDocumentKeys(e,n){let r=new Ne(ae);return n.forEach(i=>{const s=new Bt(i,0),o=new Bt(i,Number.POSITIVE_INFINITY);this.br.forEachInRange([s,o],a=>{r=r.add(a.wr)})}),L.resolve(this.Cr(r))}getAllMutationBatchesAffectingQuery(e,n){const r=n.path,i=r.length+1;let s=r;K.isDocumentKey(s)||(s=s.child(""));const o=new Bt(new K(s),0);let a=new Ne(ae);return this.br.forEachWhile(l=>{const u=l.key.path;return!!r.isPrefixOf(u)&&(u.length===i&&(a=a.add(l.wr)),!0)},o),L.resolve(this.Cr(a))}Cr(e){const n=[];return e.forEach(r=>{const i=this.Dr(r);i!==null&&n.push(i)}),n}removeMutationBatch(e,n){te(this.Fr(n.batchId,"removed")===0),this.mutationQueue.shift();let r=this.br;return L.forEach(n.mutations,i=>{const s=new Bt(i.key,n.batchId);return r=r.delete(s),this.referenceDelegate.markPotentiallyOrphaned(e,i.key)}).next(()=>{this.br=r})}On(e){}containsKey(e,n){const r=new Bt(n,0),i=this.br.firstAfterOrEqual(r);return L.resolve(n.isEqual(i&&i.key))}performConsistencyCheck(e){return this.mutationQueue.length,L.resolve()}Fr(e,n){return this.vr(e)}vr(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}Dr(e){const n=this.vr(e);return n<0||n>=this.mutationQueue.length?null:this.mutationQueue[n]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class O7{constructor(e){this.Mr=e,this.docs=function(){return new $e(K.comparator)}(),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,n){const r=n.key,i=this.docs.get(r),s=i?i.size:0,o=this.Mr(n);return this.docs=this.docs.insert(r,{document:n.mutableCopy(),size:o}),this.size+=o-s,this.indexManager.addToCollectionParentIndex(e,r.path.popLast())}removeEntry(e){const n=this.docs.get(e);n&&(this.docs=this.docs.remove(e),this.size-=n.size)}getEntry(e,n){const r=this.docs.get(n);return L.resolve(r?r.document.mutableCopy():We.newInvalidDocument(n))}getEntries(e,n){let r=Mn();return n.forEach(i=>{const s=this.docs.get(i);r=r.insert(i,s?s.document.mutableCopy():We.newInvalidDocument(i))}),L.resolve(r)}getDocumentsMatchingQuery(e,n,r,i){let s=Mn();const o=n.path,a=new K(o.child("")),l=this.docs.getIteratorFrom(a);for(;l.hasNext();){const{key:u,value:{document:d}}=l.getNext();if(!o.isPrefixOf(u.path))break;u.path.length>o.length+1||CE(bO(d),r)<=0||(i.has(d.key)||vh(n,d))&&(s=s.insert(d.key,d.mutableCopy()))}return L.resolve(s)}getAllFromCollectionGroup(e,n,r,i){X()}Or(e,n){return L.forEach(this.docs,r=>n(r))}newChangeBuffer(e){return new D7(this)}getSize(e){return L.resolve(this.size)}}class D7 extends xD{constructor(e){super(),this.cr=e}applyChanges(e){const n=[];return this.changes.forEach((r,i)=>{i.isValidDocument()?n.push(this.cr.addEntry(e,i)):this.cr.removeEntry(r)}),L.waitFor(n)}getFromCache(e,n){return this.cr.getEntry(e,n)}getAllFromCache(e,n){return this.cr.getEntries(e,n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class N7{constructor(e){this.persistence=e,this.Nr=new vo(n=>da(n),yh),this.lastRemoteSnapshotVersion=ne.min(),this.highestTargetId=0,this.Lr=0,this.Br=new GE,this.targetCount=0,this.kr=ga.Bn()}forEachTarget(e,n){return this.Nr.forEach((r,i)=>n(i)),L.resolve()}getLastRemoteSnapshotVersion(e){return L.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return L.resolve(this.Lr)}allocateTargetId(e){return this.highestTargetId=this.kr.next(),L.resolve(this.highestTargetId)}setTargetsMetadata(e,n,r){return r&&(this.lastRemoteSnapshotVersion=r),n>this.Lr&&(this.Lr=n),L.resolve()}Kn(e){this.Nr.set(e.target,e);const n=e.targetId;n>this.highestTargetId&&(this.kr=new ga(n),this.highestTargetId=n),e.sequenceNumber>this.Lr&&(this.Lr=e.sequenceNumber)}addTargetData(e,n){return this.Kn(n),this.targetCount+=1,L.resolve()}updateTargetData(e,n){return this.Kn(n),L.resolve()}removeTargetData(e,n){return this.Nr.delete(n.target),this.Br.gr(n.targetId),this.targetCount-=1,L.resolve()}removeTargets(e,n,r){let i=0;const s=[];return this.Nr.forEach((o,a)=>{a.sequenceNumber<=n&&r.get(a.targetId)===null&&(this.Nr.delete(o),s.push(this.removeMatchingKeysForTargetId(e,a.targetId)),i++)}),L.waitFor(s).next(()=>i)}getTargetCount(e){return L.resolve(this.targetCount)}getTargetData(e,n){const r=this.Nr.get(n)||null;return L.resolve(r)}addMatchingKeys(e,n,r){return this.Br.Rr(n,r),L.resolve()}removeMatchingKeys(e,n,r){this.Br.mr(n,r);const i=this.persistence.referenceDelegate,s=[];return i&&n.forEach(o=>{s.push(i.markPotentiallyOrphaned(e,o))}),L.waitFor(s)}removeMatchingKeysForTargetId(e,n){return this.Br.gr(n),L.resolve()}getMatchingKeysForTargetId(e,n){const r=this.Br.yr(n);return L.resolve(r)}containsKey(e,n){return L.resolve(this.Br.containsKey(n))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ND{constructor(e,n){this.qr={},this.overlays={},this.Qr=new Dn(0),this.Kr=!1,this.Kr=!0,this.$r=new C7,this.referenceDelegate=e(this),this.Ur=new N7(this),this.indexManager=new y7,this.remoteDocumentCache=function(i){return new O7(i)}(r=>this.referenceDelegate.Wr(r)),this.serializer=new TD(n),this.Gr=new P7(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.Kr=!1,Promise.resolve()}get started(){return this.Kr}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let n=this.overlays[e.toKey()];return n||(n=new k7,this.overlays[e.toKey()]=n),n}getMutationQueue(e,n){let r=this.qr[e.toKey()];return r||(r=new x7(n,this.referenceDelegate),this.qr[e.toKey()]=r),r}getGlobalsCache(){return this.$r}getTargetCache(){return this.Ur}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Gr}runTransaction(e,n,r){j("MemoryPersistence","Starting transaction:",e);const i=new M7(this.Qr.next());return this.referenceDelegate.zr(),r(i).next(s=>this.referenceDelegate.jr(i).next(()=>s)).toPromise().then(s=>(i.raiseOnCommittedEvent(),s))}Hr(e,n){return L.or(Object.values(this.qr).map(r=>()=>r.containsKey(e,n)))}}class M7 extends AO{constructor(e){super(),this.currentSequenceNumber=e}}class Og{constructor(e){this.persistence=e,this.Jr=new GE,this.Yr=null}static Zr(e){return new Og(e)}get Xr(){if(this.Yr)return this.Yr;throw X()}addReference(e,n,r){return this.Jr.addReference(r,n),this.Xr.delete(r.toString()),L.resolve()}removeReference(e,n,r){return this.Jr.removeReference(r,n),this.Xr.add(r.toString()),L.resolve()}markPotentiallyOrphaned(e,n){return this.Xr.add(n.toString()),L.resolve()}removeTarget(e,n){this.Jr.gr(n.targetId).forEach(i=>this.Xr.add(i.toString()));const r=this.persistence.getTargetCache();return r.getMatchingKeysForTargetId(e,n.targetId).next(i=>{i.forEach(s=>this.Xr.add(s.toString()))}).next(()=>r.removeTargetData(e,n))}zr(){this.Yr=new Set}jr(e){const n=this.persistence.getRemoteDocumentCache().newChangeBuffer();return L.forEach(this.Xr,r=>{const i=K.fromPath(r);return this.ei(e,i).next(s=>{s||n.removeEntry(i,ne.min())})}).next(()=>(this.Yr=null,n.apply(e)))}updateLimboDocument(e,n){return this.ei(e,n).next(r=>{r?this.Xr.delete(n.toString()):this.Xr.add(n.toString())})}Wr(e){return 0}ei(e,n){return L.or([()=>L.resolve(this.Jr.containsKey(n)),()=>this.persistence.getTargetCache().containsKey(e,n),()=>this.persistence.Hr(e,n)])}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class L7{constructor(e){this.serializer=e}O(e,n,r,i){const s=new bg("createOrUpgrade",n);r<1&&i>=1&&(function(l){l.createObjectStore("owner")}(e),function(l){l.createObjectStore("mutationQueues",{keyPath:"userId"}),l.createObjectStore("mutations",{keyPath:"batchId",autoIncrement:!0}).createIndex("userMutationsIndex",Ub,{unique:!0}),l.createObjectStore("documentMutations")}(e),RR(e),function(l){l.createObjectStore("remoteDocuments")}(e));let o=L.resolve();return r<3&&i>=3&&(r!==0&&(function(l){l.deleteObjectStore("targetDocuments"),l.deleteObjectStore("targets"),l.deleteObjectStore("targetGlobal")}(e),RR(e)),o=o.next(()=>function(l){const u=l.store("targetGlobal"),d={highestTargetId:0,highestListenSequenceNumber:0,lastRemoteSnapshotVersion:ne.min().toTimestamp(),targetCount:0};return u.put("targetGlobalKey",d)}(s))),r<4&&i>=4&&(r!==0&&(o=o.next(()=>function(l,u){return u.store("mutations").U().next(d=>{l.deleteObjectStore("mutations"),l.createObjectStore("mutations",{keyPath:"batchId",autoIncrement:!0}).createIndex("userMutationsIndex",Ub,{unique:!0});const h=u.store("mutations"),f=d.map(g=>h.put(g));return L.waitFor(f)})}(e,s))),o=o.next(()=>{(function(l){l.createObjectStore("clientMetadata",{keyPath:"clientId"})})(e)})),r<5&&i>=5&&(o=o.next(()=>this.ni(s))),r<6&&i>=6&&(o=o.next(()=>(function(l){l.createObjectStore("remoteDocumentGlobal")}(e),this.ri(s)))),r<7&&i>=7&&(o=o.next(()=>this.ii(s))),r<8&&i>=8&&(o=o.next(()=>this.si(e,s))),r<9&&i>=9&&(o=o.next(()=>{(function(l){l.objectStoreNames.contains("remoteDocumentChanges")&&l.deleteObjectStore("remoteDocumentChanges")})(e)})),r<10&&i>=10&&(o=o.next(()=>this.oi(s))),r<11&&i>=11&&(o=o.next(()=>{(function(l){l.createObjectStore("bundles",{keyPath:"bundleId"})})(e),function(l){l.createObjectStore("namedQueries",{keyPath:"name"})}(e)})),r<12&&i>=12&&(o=o.next(()=>{(function(l){const u=l.createObjectStore("documentOverlays",{keyPath:gq});u.createIndex("collectionPathOverlayIndex",yq,{unique:!1}),u.createIndex("collectionGroupOverlayIndex",_q,{unique:!1})})(e)})),r<13&&i>=13&&(o=o.next(()=>function(l){const u=l.createObjectStore("remoteDocumentsV14",{keyPath:sq});u.createIndex("documentKeyIndex",oq),u.createIndex("collectionGroupIndex",aq)}(e)).next(()=>this._i(e,s)).next(()=>e.deleteObjectStore("remoteDocuments"))),r<14&&i>=14&&(o=o.next(()=>this.ai(e,s))),r<15&&i>=15&&(o=o.next(()=>function(l){l.createObjectStore("indexConfiguration",{keyPath:"indexId",autoIncrement:!0}).createIndex("collectionGroupIndex","collectionGroup",{unique:!1}),l.createObjectStore("indexState",{keyPath:hq}).createIndex("sequenceNumberIndex",fq,{unique:!1}),l.createObjectStore("indexEntries",{keyPath:pq}).createIndex("documentKeyIndex",mq,{unique:!1})}(e))),r<16&&i>=16&&(o=o.next(()=>{n.objectStore("indexState").clear()}).next(()=>{n.objectStore("indexEntries").clear()})),r<17&&i>=17&&(o=o.next(()=>{(function(l){l.createObjectStore("globals",{keyPath:"name"})})(e)})),o}ri(e){let n=0;return e.store("remoteDocuments").J((r,i)=>{n+=fm(i)}).next(()=>{const r={byteSize:n};return e.store("remoteDocumentGlobal").put("remoteDocumentGlobalKey",r)})}ni(e){const n=e.store("mutationQueues"),r=e.store("mutations");return n.U().next(i=>L.forEach(i,s=>{const o=IDBKeyRange.bound([s.userId,-1],[s.userId,s.lastAcknowledgedBatchId]);return r.U("userMutationsIndex",o).next(a=>L.forEach(a,l=>{te(l.userId===s.userId);const u=Lo(this.serializer,l);return PD(e,s.userId,u).next(()=>{})}))}))}ii(e){const n=e.store("targetDocuments"),r=e.store("remoteDocuments");return e.store("targetGlobal").get("targetGlobalKey").next(i=>{const s=[];return r.J((o,a)=>{const l=new ye(o),u=function(h){return[0,In(h)]}(l);s.push(n.get(u).next(d=>d?L.resolve():(h=>n.put({targetId:0,path:In(h),sequenceNumber:i.highestListenSequenceNumber}))(l)))}).next(()=>L.waitFor(s))})}si(e,n){e.createObjectStore("collectionParents",{keyPath:dq});const r=n.store("collectionParents"),i=new HE,s=o=>{if(i.add(o)){const a=o.lastSegment(),l=o.popLast();return r.put({collectionId:a,parent:In(l)})}};return n.store("remoteDocuments").J({H:!0},(o,a)=>{const l=new ye(o);return s(l.popLast())}).next(()=>n.store("documentMutations").J({H:!0},([o,a,l],u)=>{const d=si(a);return s(d.popLast())}))}oi(e){const n=e.store("targets");return n.J((r,i)=>{const s=Ac(i),o=bD(this.serializer,s);return n.put(o)})}_i(e,n){const r=n.store("remoteDocuments"),i=[];return r.J((s,o)=>{const a=n.store("remoteDocumentsV14"),l=function(h){return h.document?new K(ye.fromString(h.document.name).popFirst(5)):h.noDocument?K.fromSegments(h.noDocument.path):h.unknownDocument?K.fromSegments(h.unknownDocument.path):X()}(o).path.toArray(),u={prefixPath:l.slice(0,l.length-2),collectionGroup:l[l.length-2],documentId:l[l.length-1],readTime:o.readTime||[0,0],unknownDocument:o.unknownDocument,noDocument:o.noDocument,document:o.document,hasCommittedMutations:!!o.hasCommittedMutations};i.push(a.put(u))}).next(()=>L.waitFor(i))}ai(e,n){const r=n.store("mutations"),i=OD(this.serializer),s=new ND(Og.Zr,this.serializer.ct);return r.U().next(o=>{const a=new Map;return o.forEach(l=>{var u;let d=(u=a.get(l.userId))!==null&&u!==void 0?u:ue();Lo(this.serializer,l).keys().forEach(h=>d=d.add(h)),a.set(l.userId,d)}),L.forEach(a,(l,u)=>{const d=new zt(u),h=Cg.lt(this.serializer,d),f=s.getIndexManager(d),g=xg.lt(d,this.serializer,f,s.referenceDelegate);return new DD(i,g,h,f).recalculateAndSaveOverlaysForDocumentKeys(new Xv(n,Dn.oe),l).next()})})}}function RR(t){t.createObjectStore("targetDocuments",{keyPath:uq}).createIndex("documentTargetsIndex",cq,{unique:!0}),t.createObjectStore("targets",{keyPath:"targetId"}).createIndex("queryTargetsIndex",lq,{unique:!0}),t.createObjectStore("targetGlobal")}const v_="Failed to obtain exclusive access to the persistence layer. To allow shared access, multi-tab synchronization has to be enabled in all tabs. If you are using `experimentalForceOwningTab:true`, make sure that only one tab has persistence enabled at any given time.";class KE{constructor(e,n,r,i,s,o,a,l,u,d,h=17){if(this.allowTabSynchronization=e,this.persistenceKey=n,this.clientId=r,this.ui=s,this.window=o,this.document=a,this.ci=u,this.li=d,this.hi=h,this.Qr=null,this.Kr=!1,this.isPrimary=!1,this.networkEnabled=!0,this.Pi=null,this.inForeground=!1,this.Ii=null,this.Ti=null,this.Ei=Number.NEGATIVE_INFINITY,this.di=f=>Promise.resolve(),!KE.D())throw new z(V.UNIMPLEMENTED,"This platform is either missing IndexedDB or is known to have an incomplete implementation. Offline persistence has been disabled.");this.referenceDelegate=new T7(this,i),this.Ai=n+"main",this.serializer=new TD(l),this.Ri=new ci(this.Ai,this.hi,new L7(this.serializer)),this.$r=new d7,this.Ur=new v7(this.referenceDelegate,this.serializer),this.remoteDocumentCache=OD(this.serializer),this.Gr=new c7,this.window&&this.window.localStorage?this.Vi=this.window.localStorage:(this.Vi=null,d===!1&&It("IndexedDbPersistence","LocalStorage is unavailable. As a result, persistence may not work reliably. In particular enablePersistence() could fail immediately after refreshing the page."))}start(){return this.mi().then(()=>{if(!this.isPrimary&&!this.allowTabSynchronization)throw new z(V.FAILED_PRECONDITION,v_);return this.fi(),this.gi(),this.pi(),this.runTransaction("getHighestListenSequenceNumber","readonly",e=>this.Ur.getHighestSequenceNumber(e))}).then(e=>{this.Qr=new Dn(e,this.ci)}).then(()=>{this.Kr=!0}).catch(e=>(this.Ri&&this.Ri.close(),Promise.reject(e)))}yi(e){return this.di=async n=>{if(this.started)return e(n)},e(this.isPrimary)}setDatabaseDeletedListener(e){this.Ri.L(async n=>{n.newVersion===null&&await e()})}setNetworkEnabled(e){this.networkEnabled!==e&&(this.networkEnabled=e,this.ui.enqueueAndForget(async()=>{this.started&&await this.mi()}))}mi(){return this.runTransaction("updateClientMetadataAndTryBecomePrimary","readwrite",e=>Rf(e).put({clientId:this.clientId,updateTimeMs:Date.now(),networkEnabled:this.networkEnabled,inForeground:this.inForeground}).next(()=>{if(this.isPrimary)return this.wi(e).next(n=>{n||(this.isPrimary=!1,this.ui.enqueueRetryable(()=>this.di(!1)))})}).next(()=>this.Si(e)).next(n=>this.isPrimary&&!n?this.bi(e).next(()=>!1):!!n&&this.Di(e).next(()=>!0))).catch(e=>{if(_o(e))return j("IndexedDbPersistence","Failed to extend owner lease: ",e),this.isPrimary;if(!this.allowTabSynchronization)throw e;return j("IndexedDbPersistence","Releasing owner lease after error during lease refresh",e),!1}).then(e=>{this.isPrimary!==e&&this.ui.enqueueRetryable(()=>this.di(e)),this.isPrimary=e})}wi(e){return lc(e).get("owner").next(n=>L.resolve(this.vi(n)))}Ci(e){return Rf(e).delete(this.clientId)}async Fi(){if(this.isPrimary&&!this.Mi(this.Ei,18e5)){this.Ei=Date.now();const e=await this.runTransaction("maybeGarbageCollectMultiClientState","readwrite-primary",n=>{const r=Vt(n,"clientMetadata");return r.U().next(i=>{const s=this.xi(i,18e5),o=i.filter(a=>s.indexOf(a)===-1);return L.forEach(o,a=>r.delete(a.clientId)).next(()=>o)})}).catch(()=>[]);if(this.Vi)for(const n of e)this.Vi.removeItem(this.Oi(n.clientId))}}pi(){this.Ti=this.ui.enqueueAfterDelay("client_metadata_refresh",4e3,()=>this.mi().then(()=>this.Fi()).then(()=>this.pi()))}vi(e){return!!e&&e.ownerId===this.clientId}Si(e){return this.li?L.resolve(!0):lc(e).get("owner").next(n=>{if(n!==null&&this.Mi(n.leaseTimestampMs,5e3)&&!this.Ni(n.ownerId)){if(this.vi(n)&&this.networkEnabled)return!0;if(!this.vi(n)){if(!n.allowTabSynchronization)throw new z(V.FAILED_PRECONDITION,v_);return!1}}return!(!this.networkEnabled||!this.inForeground)||Rf(e).U().next(r=>this.xi(r,5e3).find(i=>{if(this.clientId!==i.clientId){const s=!this.networkEnabled&&i.networkEnabled,o=!this.inForeground&&i.inForeground,a=this.networkEnabled===i.networkEnabled;if(s||o&&a)return!0}return!1})===void 0)}).next(n=>(this.isPrimary!==n&&j("IndexedDbPersistence",`Client ${n?"is":"is not"} eligible for a primary lease.`),n))}async shutdown(){this.Kr=!1,this.Li(),this.Ti&&(this.Ti.cancel(),this.Ti=null),this.Bi(),this.ki(),await this.Ri.runTransaction("shutdown","readwrite",["owner","clientMetadata"],e=>{const n=new Xv(e,Dn.oe);return this.bi(n).next(()=>this.Ci(n))}),this.Ri.close(),this.qi()}xi(e,n){return e.filter(r=>this.Mi(r.updateTimeMs,n)&&!this.Ni(r.clientId))}Qi(){return this.runTransaction("getActiveClients","readonly",e=>Rf(e).U().next(n=>this.xi(n,18e5).map(r=>r.clientId)))}get started(){return this.Kr}getGlobalsCache(){return this.$r}getMutationQueue(e,n){return xg.lt(e,this.serializer,n,this.referenceDelegate)}getTargetCache(){return this.Ur}getRemoteDocumentCache(){return this.remoteDocumentCache}getIndexManager(e){return new _7(e,this.serializer.ct.databaseId)}getDocumentOverlayCache(e){return Cg.lt(this.serializer,e)}getBundleCache(){return this.Gr}runTransaction(e,n,r){j("IndexedDbPersistence","Starting transaction:",e);const i=n==="readonly"?"readonly":"readwrite",s=function(l){return l===17?Eq:l===16?wq:l===15?OE:l===14?DO:l===13?OO:l===12?vq:l===11?xO:void X()}(this.hi);let o;return this.Ri.runTransaction(e,i,s,a=>(o=new Xv(a,this.Qr?this.Qr.next():Dn.oe),n==="readwrite-primary"?this.wi(o).next(l=>!!l||this.Si(o)).next(l=>{if(!l)throw It(`Failed to obtain primary lease for action '${e}'.`),this.isPrimary=!1,this.ui.enqueueRetryable(()=>this.di(!1)),new z(V.FAILED_PRECONDITION,RO);return r(o)}).next(l=>this.Di(o).next(()=>l)):this.Ki(o).next(()=>r(o)))).then(a=>(o.raiseOnCommittedEvent(),a))}Ki(e){return lc(e).get("owner").next(n=>{if(n!==null&&this.Mi(n.leaseTimestampMs,5e3)&&!this.Ni(n.ownerId)&&!this.vi(n)&&!(this.li||this.allowTabSynchronization&&n.allowTabSynchronization))throw new z(V.FAILED_PRECONDITION,v_)})}Di(e){const n={ownerId:this.clientId,allowTabSynchronization:this.allowTabSynchronization,leaseTimestampMs:Date.now()};return lc(e).put("owner",n)}static D(){return ci.D()}bi(e){const n=lc(e);return n.get("owner").next(r=>this.vi(r)?(j("IndexedDbPersistence","Releasing primary lease."),n.delete("owner")):L.resolve())}Mi(e,n){const r=Date.now();return!(e<r-n)&&(!(e>r)||(It(`Detected an update time that is in the future: ${e} > ${r}`),!1))}fi(){this.document!==null&&typeof this.document.addEventListener=="function"&&(this.Ii=()=>{this.ui.enqueueAndForget(()=>(this.inForeground=this.document.visibilityState==="visible",this.mi()))},this.document.addEventListener("visibilitychange",this.Ii),this.inForeground=this.document.visibilityState==="visible")}Bi(){this.Ii&&(this.document.removeEventListener("visibilitychange",this.Ii),this.Ii=null)}gi(){var e;typeof((e=this.window)===null||e===void 0?void 0:e.addEventListener)=="function"&&(this.Pi=()=>{this.Li();const n=/(?:Version|Mobile)\/1[456]/;sx()&&(navigator.appVersion.match(n)||navigator.userAgent.match(n))&&this.ui.enterRestrictedMode(!0),this.ui.enqueueAndForget(()=>this.shutdown())},this.window.addEventListener("pagehide",this.Pi))}ki(){this.Pi&&(this.window.removeEventListener("pagehide",this.Pi),this.Pi=null)}Ni(e){var n;try{const r=((n=this.Vi)===null||n===void 0?void 0:n.getItem(this.Oi(e)))!==null;return j("IndexedDbPersistence",`Client '${e}' ${r?"is":"is not"} zombied in LocalStorage`),r}catch(r){return It("IndexedDbPersistence","Failed to get zombied client id.",r),!1}}Li(){if(this.Vi)try{this.Vi.setItem(this.Oi(this.clientId),String(Date.now()))}catch(e){It("Failed to set zombie client id.",e)}}qi(){if(this.Vi)try{this.Vi.removeItem(this.Oi(this.clientId))}catch{}}Oi(e){return`firestore_zombie_${this.persistenceKey}_${e}`}}function lc(t){return Vt(t,"owner")}function Rf(t){return Vt(t,"clientMetadata")}function YE(t,e){let n=t.projectId;return t.isDefaultDatabase||(n+="."+t.database),"firestore/"+e+"/"+n+"/"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class QE{constructor(e,n,r,i){this.targetId=e,this.fromCache=n,this.$i=r,this.Ui=i}static Wi(e,n){let r=ue(),i=ue();for(const s of n.docChanges)switch(s.type){case 0:r=r.add(s.doc.key);break;case 1:i=i.add(s.doc.key)}return new QE(e,n.fromCache,r,i)}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class V7{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class MD{constructor(){this.Gi=!1,this.zi=!1,this.ji=100,this.Hi=function(){return sx()?8:PO(ut())>0?6:4}()}initialize(e,n){this.Ji=e,this.indexManager=n,this.Gi=!0}getDocumentsMatchingQuery(e,n,r,i){const s={result:null};return this.Yi(e,n).next(o=>{s.result=o}).next(()=>{if(!s.result)return this.Zi(e,n,i,r).next(o=>{s.result=o})}).next(()=>{if(s.result)return;const o=new V7;return this.Xi(e,n,o).next(a=>{if(s.result=a,this.zi)return this.es(e,n,o,a.size)})}).next(()=>s.result)}es(e,n,r,i){return r.documentReadCount<this.ji?(Ya()<=me.DEBUG&&j("QueryEngine","SDK will not create cache indexes for query:",Qa(n),"since it only creates cache indexes for collection contains","more than or equal to",this.ji,"documents"),L.resolve()):(Ya()<=me.DEBUG&&j("QueryEngine","Query:",Qa(n),"scans",r.documentReadCount,"local documents and returns",i,"documents as results."),r.documentReadCount>this.Hi*i?(Ya()<=me.DEBUG&&j("QueryEngine","The SDK decides to create cache indexes for query:",Qa(n),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,Tn(n))):L.resolve())}Yi(e,n){if(Xb(n))return L.resolve(null);let r=Tn(n);return this.indexManager.getIndexType(e,r).next(i=>i===0?null:(n.limit!==null&&i===1&&(n=cm(n,null,"F"),r=Tn(n)),this.indexManager.getDocumentsMatchingTarget(e,r).next(s=>{const o=ue(...s);return this.Ji.getDocuments(e,o).next(a=>this.indexManager.getMinOffset(e,r).next(l=>{const u=this.ts(n,a);return this.ns(n,u,o,l.readTime)?this.Yi(e,cm(n,null,"F")):this.rs(e,u,n,l)}))})))}Zi(e,n,r,i){return Xb(n)||i.isEqual(ne.min())?L.resolve(null):this.Ji.getDocuments(e,r).next(s=>{const o=this.ts(n,s);return this.ns(n,o,r,i)?L.resolve(null):(Ya()<=me.DEBUG&&j("QueryEngine","Re-using previous result from %s to execute query: %s",i.toString(),Qa(n)),this.rs(e,o,n,TO(i,-1)).next(a=>a))})}ts(e,n){let r=new Ne(YO(e));return n.forEach((i,s)=>{vh(e,s)&&(r=r.add(s))}),r}ns(e,n,r,i){if(e.limit===null)return!1;if(r.size!==n.size)return!0;const s=e.limitType==="F"?n.last():n.first();return!!s&&(s.hasPendingWrites||s.version.compareTo(i)>0)}Xi(e,n,r){return Ya()<=me.DEBUG&&j("QueryEngine","Using full collection scan to execute query:",Qa(n)),this.Ji.getDocumentsMatchingQuery(e,n,nr.min(),r)}rs(e,n,r,i){return this.Ji.getDocumentsMatchingQuery(e,r,i).next(s=>(n.forEach(o=>{s=s.insert(o.key,o)}),s))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class F7{constructor(e,n,r,i){this.persistence=e,this.ss=n,this.serializer=i,this.os=new $e(ae),this._s=new vo(s=>da(s),yh),this.us=new Map,this.cs=e.getRemoteDocumentCache(),this.Ur=e.getTargetCache(),this.Gr=e.getBundleCache(),this.ls(r)}ls(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new DD(this.cs,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.cs.setIndexManager(this.indexManager),this.ss.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",n=>e.collect(n,this.os))}}function LD(t,e,n,r){return new F7(t,e,n,r)}async function VD(t,e){const n=Q(t);return await n.persistence.runTransaction("Handle user change","readonly",r=>{let i;return n.mutationQueue.getAllMutationBatches(r).next(s=>(i=s,n.ls(e),n.mutationQueue.getAllMutationBatches(r))).next(s=>{const o=[],a=[];let l=ue();for(const u of i){o.push(u.batchId);for(const d of u.mutations)l=l.add(d.key)}for(const u of s){a.push(u.batchId);for(const d of u.mutations)l=l.add(d.key)}return n.localDocuments.getDocuments(r,l).next(u=>({hs:u,removedBatchIds:o,addedBatchIds:a}))})})}function U7(t,e){const n=Q(t);return n.persistence.runTransaction("Acknowledge batch","readwrite-primary",r=>{const i=e.batch.keys(),s=n.cs.newChangeBuffer({trackRemovals:!0});return function(a,l,u,d){const h=u.batch,f=h.keys();let g=L.resolve();return f.forEach(_=>{g=g.next(()=>d.getEntry(l,_)).next(v=>{const T=u.docVersions.get(_);te(T!==null),v.version.compareTo(T)<0&&(h.applyToRemoteDocument(v,u),v.isValidDocument()&&(v.setReadTime(u.commitVersion),d.addEntry(v)))})}),g.next(()=>a.mutationQueue.removeMutationBatch(l,h))}(n,r,e,s).next(()=>s.apply(r)).next(()=>n.mutationQueue.performConsistencyCheck(r)).next(()=>n.documentOverlayCache.removeOverlaysForBatchId(r,i,e.batch.batchId)).next(()=>n.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(r,function(a){let l=ue();for(let u=0;u<a.mutationResults.length;++u)a.mutationResults[u].transformResults.length>0&&(l=l.add(a.batch.mutations[u].key));return l}(e))).next(()=>n.localDocuments.getDocuments(r,i))})}function FD(t){const e=Q(t);return e.persistence.runTransaction("Get last remote snapshot version","readonly",n=>e.Ur.getLastRemoteSnapshotVersion(n))}function B7(t,e){const n=Q(t),r=e.snapshotVersion;let i=n.os;return n.persistence.runTransaction("Apply remote event","readwrite-primary",s=>{const o=n.cs.newChangeBuffer({trackRemovals:!0});i=n.os;const a=[];e.targetChanges.forEach((d,h)=>{const f=i.get(h);if(!f)return;a.push(n.Ur.removeMatchingKeys(s,d.removedDocuments,h).next(()=>n.Ur.addMatchingKeys(s,d.addedDocuments,h)));let g=f.withSequenceNumber(s.currentSequenceNumber);e.targetMismatches.get(h)!==null?g=g.withResumeToken(gt.EMPTY_BYTE_STRING,ne.min()).withLastLimboFreeSnapshotVersion(ne.min()):d.resumeToken.approximateByteSize()>0&&(g=g.withResumeToken(d.resumeToken,r)),i=i.insert(h,g),function(v,T,I){return v.resumeToken.approximateByteSize()===0||T.snapshotVersion.toMicroseconds()-v.snapshotVersion.toMicroseconds()>=3e8?!0:I.addedDocuments.size+I.modifiedDocuments.size+I.removedDocuments.size>0}(f,g,d)&&a.push(n.Ur.updateTargetData(s,g))});let l=Mn(),u=ue();if(e.documentUpdates.forEach(d=>{e.resolvedLimboDocuments.has(d)&&a.push(n.persistence.referenceDelegate.updateLimboDocument(s,d))}),a.push(UD(s,o,e.documentUpdates).next(d=>{l=d.Ps,u=d.Is})),!r.isEqual(ne.min())){const d=n.Ur.getLastRemoteSnapshotVersion(s).next(h=>n.Ur.setTargetsMetadata(s,s.currentSequenceNumber,r));a.push(d)}return L.waitFor(a).next(()=>o.apply(s)).next(()=>n.localDocuments.getLocalViewOfDocuments(s,l,u)).next(()=>l)}).then(s=>(n.os=i,s))}function UD(t,e,n){let r=ue(),i=ue();return n.forEach(s=>r=r.add(s)),e.getEntries(t,r).next(s=>{let o=Mn();return n.forEach((a,l)=>{const u=s.get(a);l.isFoundDocument()!==u.isFoundDocument()&&(i=i.add(a)),l.isNoDocument()&&l.version.isEqual(ne.min())?(e.removeEntry(a,l.readTime),o=o.insert(a,l)):!u.isValidDocument()||l.version.compareTo(u.version)>0||l.version.compareTo(u.version)===0&&u.hasPendingWrites?(e.addEntry(l),o=o.insert(a,l)):j("LocalStore","Ignoring outdated watch update for ",a,". Current version:",u.version," Watch version:",l.version)}),{Ps:o,Is:i}})}function $7(t,e){const n=Q(t);return n.persistence.runTransaction("Get next mutation batch","readonly",r=>(e===void 0&&(e=-1),n.mutationQueue.getNextMutationBatchAfterBatchId(r,e)))}function Xl(t,e){const n=Q(t);return n.persistence.runTransaction("Allocate target","readwrite",r=>{let i;return n.Ur.getTargetData(r,e).next(s=>s?(i=s,L.resolve(i)):n.Ur.allocateTargetId(r).next(o=>(i=new Vi(e,o,"TargetPurposeListen",r.currentSequenceNumber),n.Ur.addTargetData(r,i).next(()=>i))))}).then(r=>{const i=n.os.get(r.targetId);return(i===null||r.snapshotVersion.compareTo(i.snapshotVersion)>0)&&(n.os=n.os.insert(r.targetId,r),n._s.set(e,r.targetId)),r})}async function Zl(t,e,n){const r=Q(t),i=r.os.get(e),s=n?"readwrite":"readwrite-primary";try{n||await r.persistence.runTransaction("Release target",s,o=>r.persistence.referenceDelegate.removeTarget(o,i))}catch(o){if(!_o(o))throw o;j("LocalStore",`Failed to update sequence numbers for target ${e}: ${o}`)}r.os=r.os.remove(e),r._s.delete(i.target)}function pm(t,e,n){const r=Q(t);let i=ne.min(),s=ue();return r.persistence.runTransaction("Execute query","readwrite",o=>function(l,u,d){const h=Q(l),f=h._s.get(d);return f!==void 0?L.resolve(h.os.get(f)):h.Ur.getTargetData(u,d)}(r,o,Tn(e)).next(a=>{if(a)return i=a.lastLimboFreeSnapshotVersion,r.Ur.getMatchingKeysForTargetId(o,a.targetId).next(l=>{s=l})}).next(()=>r.ss.getDocumentsMatchingQuery(o,e,n?i:ne.min(),n?s:ue())).next(a=>(zD(r,KO(e),a),{documents:a,Ts:s})))}function BD(t,e){const n=Q(t),r=Q(n.Ur),i=n.os.get(e);return i?Promise.resolve(i.target):n.persistence.runTransaction("Get target data","readonly",s=>r.ot(s,e).next(o=>o?o.target:null))}function $D(t,e){const n=Q(t),r=n.us.get(e)||ne.min();return n.persistence.runTransaction("Get new document changes","readonly",i=>n.cs.getAllFromCollectionGroup(i,e,TO(r,-1),Number.MAX_SAFE_INTEGER)).then(i=>(zD(n,e,i),i))}function zD(t,e,n){let r=t.us.get(e)||ne.min();n.forEach((i,s)=>{s.readTime.compareTo(r)>0&&(r=s.readTime)}),t.us.set(e,r)}async function z7(t,e,n,r){const i=Q(t);let s=ue(),o=Mn();for(const u of n){const d=e.Es(u.metadata.name);u.document&&(s=s.add(d));const h=e.ds(u);h.setReadTime(e.As(u.metadata.readTime)),o=o.insert(d,h)}const a=i.cs.newChangeBuffer({trackRemovals:!0}),l=await Xl(i,function(d){return Tn(Eu(ye.fromString(`__bundle__/docs/${d}`)))}(r));return i.persistence.runTransaction("Apply bundle documents","readwrite",u=>UD(u,a,o).next(d=>(a.apply(u),d)).next(d=>i.Ur.removeMatchingKeysForTargetId(u,l.targetId).next(()=>i.Ur.addMatchingKeys(u,s,l.targetId)).next(()=>i.localDocuments.getLocalViewOfDocuments(u,d.Ps,d.Is)).next(()=>d.Ps)))}async function j7(t,e,n=ue()){const r=await Xl(t,Tn(WE(e.bundledQuery))),i=Q(t);return i.persistence.runTransaction("Save named query","readwrite",s=>{const o=Tt(e.readTime);if(r.snapshotVersion.compareTo(o)>=0)return i.Gr.saveNamedQuery(s,e);const a=r.withResumeToken(gt.EMPTY_BYTE_STRING,o);return i.os=i.os.insert(a.targetId,a),i.Ur.updateTargetData(s,a).next(()=>i.Ur.removeMatchingKeysForTargetId(s,r.targetId)).next(()=>i.Ur.addMatchingKeys(s,n,r.targetId)).next(()=>i.Gr.saveNamedQuery(s,e))})}function AR(t,e){return`firestore_clients_${t}_${e}`}function PR(t,e,n){let r=`firestore_mutations_${t}_${n}`;return e.isAuthenticated()&&(r+=`_${e.uid}`),r}function w_(t,e){return`firestore_targets_${t}_${e}`}class mm{constructor(e,n,r,i){this.user=e,this.batchId=n,this.state=r,this.error=i}static Rs(e,n,r){const i=JSON.parse(r);let s,o=typeof i=="object"&&["pending","acknowledged","rejected"].indexOf(i.state)!==-1&&(i.error===void 0||typeof i.error=="object");return o&&i.error&&(o=typeof i.error.message=="string"&&typeof i.error.code=="string",o&&(s=new z(i.error.code,i.error.message))),o?new mm(e,n,i.state,s):(It("SharedClientState",`Failed to parse mutation state for ID '${n}': ${r}`),null)}Vs(){const e={state:this.state,updateTimeMs:Date.now()};return this.error&&(e.error={code:this.error.code,message:this.error.message}),JSON.stringify(e)}}class Kc{constructor(e,n,r){this.targetId=e,this.state=n,this.error=r}static Rs(e,n){const r=JSON.parse(n);let i,s=typeof r=="object"&&["not-current","current","rejected"].indexOf(r.state)!==-1&&(r.error===void 0||typeof r.error=="object");return s&&r.error&&(s=typeof r.error.message=="string"&&typeof r.error.code=="string",s&&(i=new z(r.error.code,r.error.message))),s?new Kc(e,r.state,i):(It("SharedClientState",`Failed to parse target state for ID '${e}': ${n}`),null)}Vs(){const e={state:this.state,updateTimeMs:Date.now()};return this.error&&(e.error={code:this.error.code,message:this.error.message}),JSON.stringify(e)}}class gm{constructor(e,n){this.clientId=e,this.activeTargetIds=n}static Rs(e,n){const r=JSON.parse(n);let i=typeof r=="object"&&r.activeTargetIds instanceof Array,s=LE();for(let o=0;i&&o<r.activeTargetIds.length;++o)i=kO(r.activeTargetIds[o]),s=s.add(r.activeTargetIds[o]);return i?new gm(e,s):(It("SharedClientState",`Failed to parse client data for instance '${e}': ${n}`),null)}}class JE{constructor(e,n){this.clientId=e,this.onlineState=n}static Rs(e){const n=JSON.parse(e);return typeof n=="object"&&["Unknown","Online","Offline"].indexOf(n.onlineState)!==-1&&typeof n.clientId=="string"?new JE(n.clientId,n.onlineState):(It("SharedClientState",`Failed to parse online state: ${e}`),null)}}class h0{constructor(){this.activeTargetIds=LE()}fs(e){this.activeTargetIds=this.activeTargetIds.add(e)}gs(e){this.activeTargetIds=this.activeTargetIds.delete(e)}Vs(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class E_{constructor(e,n,r,i,s){this.window=e,this.ui=n,this.persistenceKey=r,this.ps=i,this.syncEngine=null,this.onlineStateHandler=null,this.sequenceNumberHandler=null,this.ys=this.ws.bind(this),this.Ss=new $e(ae),this.started=!1,this.bs=[];const o=r.replace(/[.*+?^${}()|[\]\\]/g,"\\$&");this.storage=this.window.localStorage,this.currentUser=s,this.Ds=AR(this.persistenceKey,this.ps),this.vs=function(l){return`firestore_sequence_number_${l}`}(this.persistenceKey),this.Ss=this.Ss.insert(this.ps,new h0),this.Cs=new RegExp(`^firestore_clients_${o}_([^_]*)$`),this.Fs=new RegExp(`^firestore_mutations_${o}_(\\d+)(?:_(.*))?$`),this.Ms=new RegExp(`^firestore_targets_${o}_(\\d+)$`),this.xs=function(l){return`firestore_online_state_${l}`}(this.persistenceKey),this.Os=function(l){return`firestore_bundle_loaded_v2_${l}`}(this.persistenceKey),this.window.addEventListener("storage",this.ys)}static D(e){return!(!e||!e.localStorage)}async start(){const e=await this.syncEngine.Qi();for(const r of e){if(r===this.ps)continue;const i=this.getItem(AR(this.persistenceKey,r));if(i){const s=gm.Rs(r,i);s&&(this.Ss=this.Ss.insert(s.clientId,s))}}this.Ns();const n=this.storage.getItem(this.xs);if(n){const r=this.Ls(n);r&&this.Bs(r)}for(const r of this.bs)this.ws(r);this.bs=[],this.window.addEventListener("pagehide",()=>this.shutdown()),this.started=!0}writeSequenceNumber(e){this.setItem(this.vs,JSON.stringify(e))}getAllActiveQueryTargets(){return this.ks(this.Ss)}isActiveQueryTarget(e){let n=!1;return this.Ss.forEach((r,i)=>{i.activeTargetIds.has(e)&&(n=!0)}),n}addPendingMutation(e){this.qs(e,"pending")}updateMutationState(e,n,r){this.qs(e,n,r),this.Qs(e)}addLocalQueryTarget(e,n=!0){let r="not-current";if(this.isActiveQueryTarget(e)){const i=this.storage.getItem(w_(this.persistenceKey,e));if(i){const s=Kc.Rs(e,i);s&&(r=s.state)}}return n&&this.Ks.fs(e),this.Ns(),r}removeLocalQueryTarget(e){this.Ks.gs(e),this.Ns()}isLocalQueryTarget(e){return this.Ks.activeTargetIds.has(e)}clearQueryState(e){this.removeItem(w_(this.persistenceKey,e))}updateQueryState(e,n,r){this.$s(e,n,r)}handleUserChange(e,n,r){n.forEach(i=>{this.Qs(i)}),this.currentUser=e,r.forEach(i=>{this.addPendingMutation(i)})}setOnlineState(e){this.Us(e)}notifyBundleLoaded(e){this.Ws(e)}shutdown(){this.started&&(this.window.removeEventListener("storage",this.ys),this.removeItem(this.Ds),this.started=!1)}getItem(e){const n=this.storage.getItem(e);return j("SharedClientState","READ",e,n),n}setItem(e,n){j("SharedClientState","SET",e,n),this.storage.setItem(e,n)}removeItem(e){j("SharedClientState","REMOVE",e),this.storage.removeItem(e)}ws(e){const n=e;if(n.storageArea===this.storage){if(j("SharedClientState","EVENT",n.key,n.newValue),n.key===this.Ds)return void It("Received WebStorage notification for local change. Another client might have garbage-collected our state");this.ui.enqueueRetryable(async()=>{if(this.started){if(n.key!==null){if(this.Cs.test(n.key)){if(n.newValue==null){const r=this.Gs(n.key);return this.zs(r,null)}{const r=this.js(n.key,n.newValue);if(r)return this.zs(r.clientId,r)}}else if(this.Fs.test(n.key)){if(n.newValue!==null){const r=this.Hs(n.key,n.newValue);if(r)return this.Js(r)}}else if(this.Ms.test(n.key)){if(n.newValue!==null){const r=this.Ys(n.key,n.newValue);if(r)return this.Zs(r)}}else if(n.key===this.xs){if(n.newValue!==null){const r=this.Ls(n.newValue);if(r)return this.Bs(r)}}else if(n.key===this.vs){const r=function(s){let o=Dn.oe;if(s!=null)try{const a=JSON.parse(s);te(typeof a=="number"),o=a}catch(a){It("SharedClientState","Failed to read sequence number from WebStorage",a)}return o}(n.newValue);r!==Dn.oe&&this.sequenceNumberHandler(r)}else if(n.key===this.Os){const r=this.Xs(n.newValue);await Promise.all(r.map(i=>this.syncEngine.eo(i)))}}}else this.bs.push(n)})}}get Ks(){return this.Ss.get(this.ps)}Ns(){this.setItem(this.Ds,this.Ks.Vs())}qs(e,n,r){const i=new mm(this.currentUser,e,n,r),s=PR(this.persistenceKey,this.currentUser,e);this.setItem(s,i.Vs())}Qs(e){const n=PR(this.persistenceKey,this.currentUser,e);this.removeItem(n)}Us(e){const n={clientId:this.ps,onlineState:e};this.storage.setItem(this.xs,JSON.stringify(n))}$s(e,n,r){const i=w_(this.persistenceKey,e),s=new Kc(e,n,r);this.setItem(i,s.Vs())}Ws(e){const n=JSON.stringify(Array.from(e));this.setItem(this.Os,n)}Gs(e){const n=this.Cs.exec(e);return n?n[1]:null}js(e,n){const r=this.Gs(e);return gm.Rs(r,n)}Hs(e,n){const r=this.Fs.exec(e),i=Number(r[1]),s=r[2]!==void 0?r[2]:null;return mm.Rs(new zt(s),i,n)}Ys(e,n){const r=this.Ms.exec(e),i=Number(r[1]);return Kc.Rs(i,n)}Ls(e){return JE.Rs(e)}Xs(e){return JSON.parse(e)}async Js(e){if(e.user.uid===this.currentUser.uid)return this.syncEngine.no(e.batchId,e.state,e.error);j("SharedClientState",`Ignoring mutation for non-active user ${e.user.uid}`)}Zs(e){return this.syncEngine.ro(e.targetId,e.state,e.error)}zs(e,n){const r=n?this.Ss.insert(e,n):this.Ss.remove(e),i=this.ks(this.Ss),s=this.ks(r),o=[],a=[];return s.forEach(l=>{i.has(l)||o.push(l)}),i.forEach(l=>{s.has(l)||a.push(l)}),this.syncEngine.io(o,a).then(()=>{this.Ss=r})}Bs(e){this.Ss.get(e.clientId)&&this.onlineStateHandler(e.onlineState)}ks(e){let n=LE();return e.forEach((r,i)=>{n=n.unionWith(i.activeTargetIds)}),n}}class jD{constructor(){this.so=new h0,this.oo={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,n,r){}addLocalQueryTarget(e,n=!0){return n&&this.so.fs(e),this.oo[e]||"not-current"}updateQueryState(e,n,r){this.oo[e]=n}removeLocalQueryTarget(e){this.so.gs(e)}isLocalQueryTarget(e){return this.so.activeTargetIds.has(e)}clearQueryState(e){delete this.oo[e]}getAllActiveQueryTargets(){return this.so.activeTargetIds}isActiveQueryTarget(e){return this.so.activeTargetIds.has(e)}start(){return this.so=new h0,Promise.resolve()}handleUserChange(e,n,r){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class W7{_o(e){}shutdown(){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kR{constructor(){this.ao=()=>this.uo(),this.co=()=>this.lo(),this.ho=[],this.Po()}_o(e){this.ho.push(e)}shutdown(){window.removeEventListener("online",this.ao),window.removeEventListener("offline",this.co)}Po(){window.addEventListener("online",this.ao),window.addEventListener("offline",this.co)}uo(){j("ConnectivityMonitor","Network connectivity changed: AVAILABLE");for(const e of this.ho)e(0)}lo(){j("ConnectivityMonitor","Network connectivity changed: UNAVAILABLE");for(const e of this.ho)e(1)}static D(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Af=null;function S_(){return Af===null?Af=function(){return 268435456+Math.round(2147483648*Math.random())}():Af++,"0x"+Af.toString(16)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const q7={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class H7{constructor(e){this.Io=e.Io,this.To=e.To}Eo(e){this.Ao=e}Ro(e){this.Vo=e}mo(e){this.fo=e}onMessage(e){this.po=e}close(){this.To()}send(e){this.Io(e)}yo(){this.Ao()}wo(){this.Vo()}So(e){this.fo(e)}bo(e){this.po(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const an="WebChannelConnection";class G7 extends class{constructor(n){this.databaseInfo=n,this.databaseId=n.databaseId;const r=n.ssl?"https":"http",i=encodeURIComponent(this.databaseId.projectId),s=encodeURIComponent(this.databaseId.database);this.Do=r+"://"+n.host,this.vo=`projects/${i}/databases/${s}`,this.Co=this.databaseId.database==="(default)"?`project_id=${i}`:`project_id=${i}&database_id=${s}`}get Fo(){return!1}Mo(n,r,i,s,o){const a=S_(),l=this.xo(n,r.toUriEncodedString());j("RestConnection",`Sending RPC '${n}' ${a}:`,l,i);const u={"google-cloud-resource-prefix":this.vo,"x-goog-request-params":this.Co};return this.Oo(u,s,o),this.No(n,l,u,i).then(d=>(j("RestConnection",`Received RPC '${n}' ${a}: `,d),d),d=>{throw Fr("RestConnection",`RPC '${n}' ${a} failed with error: `,d,"url: ",l,"request:",i),d})}Lo(n,r,i,s,o,a){return this.Mo(n,r,i,s,o)}Oo(n,r,i){n["X-Goog-Api-Client"]=function(){return"gl-js/ fire/"+wu}(),n["Content-Type"]="text/plain",this.databaseInfo.appId&&(n["X-Firebase-GMPID"]=this.databaseInfo.appId),r&&r.headers.forEach((s,o)=>n[o]=s),i&&i.headers.forEach((s,o)=>n[o]=s)}xo(n,r){const i=q7[n];return`${this.Do}/v1/${r}:${i}`}terminate(){}}{constructor(e){super(e),this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}No(e,n,r,i){const s=S_();return new Promise((o,a)=>{const l=new mO;l.setWithCredentials(!0),l.listenOnce(yO.COMPLETE,()=>{try{switch(l.getLastErrorCode()){case Zf.NO_ERROR:const d=l.getResponseJson();j(an,`XHR for RPC '${e}' ${s} received:`,JSON.stringify(d)),o(d);break;case Zf.TIMEOUT:j(an,`RPC '${e}' ${s} timed out`),a(new z(V.DEADLINE_EXCEEDED,"Request time out"));break;case Zf.HTTP_ERROR:const h=l.getStatus();if(j(an,`RPC '${e}' ${s} failed with status:`,h,"response text:",l.getResponseText()),h>0){let f=l.getResponseJson();Array.isArray(f)&&(f=f[0]);const g=f==null?void 0:f.error;if(g&&g.status&&g.message){const _=function(T){const I=T.toLowerCase().replace(/_/g,"-");return Object.values(V).indexOf(I)>=0?I:V.UNKNOWN}(g.status);a(new z(_,g.message))}else a(new z(V.UNKNOWN,"Server responded with status "+l.getStatus()))}else a(new z(V.UNAVAILABLE,"Connection failed."));break;default:X()}}finally{j(an,`RPC '${e}' ${s} completed.`)}});const u=JSON.stringify(i);j(an,`RPC '${e}' ${s} sending request:`,i),l.send(n,"POST",u,r,15)})}Bo(e,n,r){const i=S_(),s=[this.Do,"/","google.firestore.v1.Firestore","/",e,"/channel"],o=wO(),a=vO(),l={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},u=this.longPollingOptions.timeoutSeconds;u!==void 0&&(l.longPollingTimeout=Math.round(1e3*u)),this.useFetchStreams&&(l.xmlHttpFactory=new gO({})),this.Oo(l.initMessageHeaders,n,r),l.encodeInitMessageHeaders=!0;const d=s.join("");j(an,`Creating RPC '${e}' stream ${i}: ${d}`,l);const h=o.createWebChannel(d,l);let f=!1,g=!1;const _=new H7({Io:T=>{g?j(an,`Not sending because RPC '${e}' stream ${i} is closed:`,T):(f||(j(an,`Opening RPC '${e}' stream ${i} transport.`),h.open(),f=!0),j(an,`RPC '${e}' stream ${i} sending:`,T),h.send(T))},To:()=>h.close()}),v=(T,I,w)=>{T.listen(I,E=>{try{w(E)}catch(O){setTimeout(()=>{throw O},0)}})};return v(h,Tc.EventType.OPEN,()=>{g||(j(an,`RPC '${e}' stream ${i} transport opened.`),_.yo())}),v(h,Tc.EventType.CLOSE,()=>{g||(g=!0,j(an,`RPC '${e}' stream ${i} transport closed`),_.So())}),v(h,Tc.EventType.ERROR,T=>{g||(g=!0,Fr(an,`RPC '${e}' stream ${i} transport errored:`,T),_.So(new z(V.UNAVAILABLE,"The operation could not be completed")))}),v(h,Tc.EventType.MESSAGE,T=>{var I;if(!g){const w=T.data[0];te(!!w);const E=w,O=E.error||((I=E[0])===null||I===void 0?void 0:I.error);if(O){j(an,`RPC '${e}' stream ${i} received error:`,O);const C=O.status;let N=function(m){const A=At[m];if(A!==void 0)return lD(A)}(C),b=O.message;N===void 0&&(N=V.INTERNAL,b="Unknown error status: "+C+" with message "+O.message),g=!0,_.So(new z(N,b)),h.close()}else j(an,`RPC '${e}' stream ${i} received:`,w),_.bo(w)}}),v(a,_O.STAT_EVENT,T=>{T.stat===Qv.PROXY?j(an,`RPC '${e}' stream ${i} detected buffering proxy`):T.stat===Qv.NOPROXY&&j(an,`RPC '${e}' stream ${i} detected no buffering proxy`)}),setTimeout(()=>{_.wo()},0),_}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function WD(){return typeof window<"u"?window:null}function op(){return typeof document<"u"?document:null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ih(t){return new Zq(t,!0)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class XE{constructor(e,n,r=1e3,i=1.5,s=6e4){this.ui=e,this.timerId=n,this.ko=r,this.qo=i,this.Qo=s,this.Ko=0,this.$o=null,this.Uo=Date.now(),this.reset()}reset(){this.Ko=0}Wo(){this.Ko=this.Qo}Go(e){this.cancel();const n=Math.floor(this.Ko+this.zo()),r=Math.max(0,Date.now()-this.Uo),i=Math.max(0,n-r);i>0&&j("ExponentialBackoff",`Backing off for ${i} ms (base delay: ${this.Ko} ms, delay with jitter: ${n} ms, last attempt: ${r} ms ago)`),this.$o=this.ui.enqueueAfterDelay(this.timerId,i,()=>(this.Uo=Date.now(),e())),this.Ko*=this.qo,this.Ko<this.ko&&(this.Ko=this.ko),this.Ko>this.Qo&&(this.Ko=this.Qo)}jo(){this.$o!==null&&(this.$o.skipDelay(),this.$o=null)}cancel(){this.$o!==null&&(this.$o.cancel(),this.$o=null)}zo(){return(Math.random()-.5)*this.Ko}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qD{constructor(e,n,r,i,s,o,a,l){this.ui=e,this.Ho=r,this.Jo=i,this.connection=s,this.authCredentialsProvider=o,this.appCheckCredentialsProvider=a,this.listener=l,this.state=0,this.Yo=0,this.Zo=null,this.Xo=null,this.stream=null,this.e_=0,this.t_=new XE(e,n)}n_(){return this.state===1||this.state===5||this.r_()}r_(){return this.state===2||this.state===3}start(){this.e_=0,this.state!==4?this.auth():this.i_()}async stop(){this.n_()&&await this.close(0)}s_(){this.state=0,this.t_.reset()}o_(){this.r_()&&this.Zo===null&&(this.Zo=this.ui.enqueueAfterDelay(this.Ho,6e4,()=>this.__()))}a_(e){this.u_(),this.stream.send(e)}async __(){if(this.r_())return this.close(0)}u_(){this.Zo&&(this.Zo.cancel(),this.Zo=null)}c_(){this.Xo&&(this.Xo.cancel(),this.Xo=null)}async close(e,n){this.u_(),this.c_(),this.t_.cancel(),this.Yo++,e!==4?this.t_.reset():n&&n.code===V.RESOURCE_EXHAUSTED?(It(n.toString()),It("Using maximum backoff delay to prevent overloading the backend."),this.t_.Wo()):n&&n.code===V.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.l_(),this.stream.close(),this.stream=null),this.state=e,await this.listener.mo(n)}l_(){}auth(){this.state=1;const e=this.h_(this.Yo),n=this.Yo;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([r,i])=>{this.Yo===n&&this.P_(r,i)},r=>{e(()=>{const i=new z(V.UNKNOWN,"Fetching auth token failed: "+r.message);return this.I_(i)})})}P_(e,n){const r=this.h_(this.Yo);this.stream=this.T_(e,n),this.stream.Eo(()=>{r(()=>this.listener.Eo())}),this.stream.Ro(()=>{r(()=>(this.state=2,this.Xo=this.ui.enqueueAfterDelay(this.Jo,1e4,()=>(this.r_()&&(this.state=3),Promise.resolve())),this.listener.Ro()))}),this.stream.mo(i=>{r(()=>this.I_(i))}),this.stream.onMessage(i=>{r(()=>++this.e_==1?this.E_(i):this.onNext(i))})}i_(){this.state=5,this.t_.Go(async()=>{this.state=0,this.start()})}I_(e){return j("PersistentStream",`close with error: ${e}`),this.stream=null,this.close(4,e)}h_(e){return n=>{this.ui.enqueueAndForget(()=>this.Yo===e?n():(j("PersistentStream","stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class K7 extends qD{constructor(e,n,r,i,s,o){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",n,r,i,o),this.serializer=s}T_(e,n){return this.connection.Bo("Listen",e,n)}E_(e){return this.onNext(e)}onNext(e){this.t_.reset();const n=n7(this.serializer,e),r=function(s){if(!("targetChange"in s))return ne.min();const o=s.targetChange;return o.targetIds&&o.targetIds.length?ne.min():o.readTime?Tt(o.readTime):ne.min()}(e);return this.listener.d_(n,r)}A_(e){const n={};n.database=a0(this.serializer),n.addTarget=function(s,o){let a;const l=o.target;if(a=lm(l)?{documents:_D(s,l)}:{query:vD(s,l)._t},a.targetId=o.targetId,o.resumeToken.approximateByteSize()>0){a.resumeToken=hD(s,o.resumeToken);const u=s0(s,o.expectedCount);u!==null&&(a.expectedCount=u)}else if(o.snapshotVersion.compareTo(ne.min())>0){a.readTime=Jl(s,o.snapshotVersion.toTimestamp());const u=s0(s,o.expectedCount);u!==null&&(a.expectedCount=u)}return a}(this.serializer,e);const r=i7(this.serializer,e);r&&(n.labels=r),this.a_(n)}R_(e){const n={};n.database=a0(this.serializer),n.removeTarget=e,this.a_(n)}}class Y7 extends qD{constructor(e,n,r,i,s,o){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",n,r,i,o),this.serializer=s}get V_(){return this.e_>0}start(){this.lastStreamToken=void 0,super.start()}l_(){this.V_&&this.m_([])}T_(e,n){return this.connection.Bo("Write",e,n)}E_(e){return te(!!e.streamToken),this.lastStreamToken=e.streamToken,te(!e.writeResults||e.writeResults.length===0),this.listener.f_()}onNext(e){te(!!e.streamToken),this.lastStreamToken=e.streamToken,this.t_.reset();const n=r7(e.writeResults,e.commitTime),r=Tt(e.commitTime);return this.listener.g_(r,n)}p_(){const e={};e.database=a0(this.serializer),this.a_(e)}m_(e){const n={streamToken:this.lastStreamToken,writes:e.map(r=>Vd(this.serializer,r))};this.a_(n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Q7 extends class{}{constructor(e,n,r,i){super(),this.authCredentials=e,this.appCheckCredentials=n,this.connection=r,this.serializer=i,this.y_=!1}w_(){if(this.y_)throw new z(V.FAILED_PRECONDITION,"The client has already been terminated.")}Mo(e,n,r,i){return this.w_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([s,o])=>this.connection.Mo(e,o0(n,r),i,s,o)).catch(s=>{throw s.name==="FirebaseError"?(s.code===V.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),s):new z(V.UNKNOWN,s.toString())})}Lo(e,n,r,i,s){return this.w_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([o,a])=>this.connection.Lo(e,o0(n,r),i,o,a,s)).catch(o=>{throw o.name==="FirebaseError"?(o.code===V.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),o):new z(V.UNKNOWN,o.toString())})}terminate(){this.y_=!0,this.connection.terminate()}}class J7{constructor(e,n){this.asyncQueue=e,this.onlineStateHandler=n,this.state="Unknown",this.S_=0,this.b_=null,this.D_=!0}v_(){this.S_===0&&(this.C_("Unknown"),this.b_=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this.b_=null,this.F_("Backend didn't respond within 10 seconds."),this.C_("Offline"),Promise.resolve())))}M_(e){this.state==="Online"?this.C_("Unknown"):(this.S_++,this.S_>=1&&(this.x_(),this.F_(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.C_("Offline")))}set(e){this.x_(),this.S_=0,e==="Online"&&(this.D_=!1),this.C_(e)}C_(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}F_(e){const n=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.D_?(It(n),this.D_=!1):j("OnlineStateTracker",n)}x_(){this.b_!==null&&(this.b_.cancel(),this.b_=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class X7{constructor(e,n,r,i,s){this.localStore=e,this.datastore=n,this.asyncQueue=r,this.remoteSyncer={},this.O_=[],this.N_=new Map,this.L_=new Set,this.B_=[],this.k_=s,this.k_._o(o=>{r.enqueueAndForget(async()=>{wo(this)&&(j("RemoteStore","Restarting streams for network reachability change."),await async function(l){const u=Q(l);u.L_.add(4),await Tu(u),u.q_.set("Unknown"),u.L_.delete(4),await Th(u)}(this))})}),this.q_=new J7(r,i)}}async function Th(t){if(wo(t))for(const e of t.B_)await e(!0)}async function Tu(t){for(const e of t.B_)await e(!1)}function Dg(t,e){const n=Q(t);n.N_.has(e.targetId)||(n.N_.set(e.targetId,e),tS(n)?eS(n):Ru(n).r_()&&ZE(n,e))}function eu(t,e){const n=Q(t),r=Ru(n);n.N_.delete(e),r.r_()&&HD(n,e),n.N_.size===0&&(r.r_()?r.o_():wo(n)&&n.q_.set("Unknown"))}function ZE(t,e){if(t.Q_.xe(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(ne.min())>0){const n=t.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(n)}Ru(t).A_(e)}function HD(t,e){t.Q_.xe(e),Ru(t).R_(e)}function eS(t){t.Q_=new Yq({getRemoteKeysForTarget:e=>t.remoteSyncer.getRemoteKeysForTarget(e),ot:e=>t.N_.get(e)||null,tt:()=>t.datastore.serializer.databaseId}),Ru(t).start(),t.q_.v_()}function tS(t){return wo(t)&&!Ru(t).n_()&&t.N_.size>0}function wo(t){return Q(t).L_.size===0}function GD(t){t.Q_=void 0}async function Z7(t){t.q_.set("Online")}async function eH(t){t.N_.forEach((e,n)=>{ZE(t,e)})}async function tH(t,e){GD(t),tS(t)?(t.q_.M_(e),eS(t)):t.q_.set("Unknown")}async function nH(t,e,n){if(t.q_.set("Online"),e instanceof dD&&e.state===2&&e.cause)try{await async function(i,s){const o=s.cause;for(const a of s.targetIds)i.N_.has(a)&&(await i.remoteSyncer.rejectListen(a,o),i.N_.delete(a),i.Q_.removeTarget(a))}(t,e)}catch(r){j("RemoteStore","Failed to remove targets %s: %s ",e.targetIds.join(","),r),await ym(t,r)}else if(e instanceof sp?t.Q_.Ke(e):e instanceof cD?t.Q_.He(e):t.Q_.We(e),!n.isEqual(ne.min()))try{const r=await FD(t.localStore);n.compareTo(r)>=0&&await function(s,o){const a=s.Q_.rt(o);return a.targetChanges.forEach((l,u)=>{if(l.resumeToken.approximateByteSize()>0){const d=s.N_.get(u);d&&s.N_.set(u,d.withResumeToken(l.resumeToken,o))}}),a.targetMismatches.forEach((l,u)=>{const d=s.N_.get(l);if(!d)return;s.N_.set(l,d.withResumeToken(gt.EMPTY_BYTE_STRING,d.snapshotVersion)),HD(s,l);const h=new Vi(d.target,l,u,d.sequenceNumber);ZE(s,h)}),s.remoteSyncer.applyRemoteEvent(a)}(t,n)}catch(r){j("RemoteStore","Failed to raise snapshot:",r),await ym(t,r)}}async function ym(t,e,n){if(!_o(e))throw e;t.L_.add(1),await Tu(t),t.q_.set("Offline"),n||(n=()=>FD(t.localStore)),t.asyncQueue.enqueueRetryable(async()=>{j("RemoteStore","Retrying IndexedDB access"),await n(),t.L_.delete(1),await Th(t)})}function KD(t,e){return e().catch(n=>ym(t,n,e))}async function bu(t){const e=Q(t),n=oo(e);let r=e.O_.length>0?e.O_[e.O_.length-1].batchId:-1;for(;rH(e);)try{const i=await $7(e.localStore,r);if(i===null){e.O_.length===0&&n.o_();break}r=i.batchId,iH(e,i)}catch(i){await ym(e,i)}YD(e)&&QD(e)}function rH(t){return wo(t)&&t.O_.length<10}function iH(t,e){t.O_.push(e);const n=oo(t);n.r_()&&n.V_&&n.m_(e.mutations)}function YD(t){return wo(t)&&!oo(t).n_()&&t.O_.length>0}function QD(t){oo(t).start()}async function sH(t){oo(t).p_()}async function oH(t){const e=oo(t);for(const n of t.O_)e.m_(n.mutations)}async function aH(t,e,n){const r=t.O_.shift(),i=BE.from(r,e,n);await KD(t,()=>t.remoteSyncer.applySuccessfulWrite(i)),await bu(t)}async function lH(t,e){e&&oo(t).V_&&await async function(r,i){if(function(o){return aD(o)&&o!==V.ABORTED}(i.code)){const s=r.O_.shift();oo(r).s_(),await KD(r,()=>r.remoteSyncer.rejectFailedWrite(s.batchId,i)),await bu(r)}}(t,e),YD(t)&&QD(t)}async function CR(t,e){const n=Q(t);n.asyncQueue.verifyOperationInProgress(),j("RemoteStore","RemoteStore received new credentials");const r=wo(n);n.L_.add(3),await Tu(n),r&&n.q_.set("Unknown"),await n.remoteSyncer.handleCredentialChange(e),n.L_.delete(3),await Th(n)}async function f0(t,e){const n=Q(t);e?(n.L_.delete(2),await Th(n)):e||(n.L_.add(2),await Tu(n),n.q_.set("Unknown"))}function Ru(t){return t.K_||(t.K_=function(n,r,i){const s=Q(n);return s.w_(),new K7(r,s.connection,s.authCredentials,s.appCheckCredentials,s.serializer,i)}(t.datastore,t.asyncQueue,{Eo:Z7.bind(null,t),Ro:eH.bind(null,t),mo:tH.bind(null,t),d_:nH.bind(null,t)}),t.B_.push(async e=>{e?(t.K_.s_(),tS(t)?eS(t):t.q_.set("Unknown")):(await t.K_.stop(),GD(t))})),t.K_}function oo(t){return t.U_||(t.U_=function(n,r,i){const s=Q(n);return s.w_(),new Y7(r,s.connection,s.authCredentials,s.appCheckCredentials,s.serializer,i)}(t.datastore,t.asyncQueue,{Eo:()=>Promise.resolve(),Ro:sH.bind(null,t),mo:lH.bind(null,t),f_:oH.bind(null,t),g_:aH.bind(null,t)}),t.B_.push(async e=>{e?(t.U_.s_(),await bu(t)):(await t.U_.stop(),t.O_.length>0&&(j("RemoteStore",`Stopping write stream with ${t.O_.length} pending writes`),t.O_=[]))})),t.U_}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nS{constructor(e,n,r,i,s){this.asyncQueue=e,this.timerId=n,this.targetTimeMs=r,this.op=i,this.removalCallback=s,this.deferred=new qt,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(o=>{})}get promise(){return this.deferred.promise}static createAndSchedule(e,n,r,i,s){const o=Date.now()+r,a=new nS(e,n,o,i,s);return a.start(r),a}start(e){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new z(V.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then(e=>this.deferred.resolve(e))):Promise.resolve())}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function Au(t,e){if(It("AsyncQueue",`${e}: ${t}`),_o(t))return new z(V.UNAVAILABLE,`${e}: ${t}`);throw t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Pl{constructor(e){this.comparator=e?(n,r)=>e(n,r)||K.comparator(n.key,r.key):(n,r)=>K.comparator(n.key,r.key),this.keyedMap=bc(),this.sortedSet=new $e(this.comparator)}static emptySet(e){return new Pl(e.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const n=this.keyedMap.get(e);return n?this.sortedSet.indexOf(n):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal((n,r)=>(e(n),!1))}add(e){const n=this.delete(e.key);return n.copy(n.keyedMap.insert(e.key,e),n.sortedSet.insert(e,null))}delete(e){const n=this.get(e);return n?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(n)):this}isEqual(e){if(!(e instanceof Pl)||this.size!==e.size)return!1;const n=this.sortedSet.getIterator(),r=e.sortedSet.getIterator();for(;n.hasNext();){const i=n.getNext().key,s=r.getNext().key;if(!i.isEqual(s))return!1}return!0}toString(){const e=[];return this.forEach(n=>{e.push(n.toString())}),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(e,n){const r=new Pl;return r.comparator=this.comparator,r.keyedMap=e,r.sortedSet=n,r}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xR{constructor(){this.W_=new $e(K.comparator)}track(e){const n=e.doc.key,r=this.W_.get(n);r?e.type!==0&&r.type===3?this.W_=this.W_.insert(n,e):e.type===3&&r.type!==1?this.W_=this.W_.insert(n,{type:r.type,doc:e.doc}):e.type===2&&r.type===2?this.W_=this.W_.insert(n,{type:2,doc:e.doc}):e.type===2&&r.type===0?this.W_=this.W_.insert(n,{type:0,doc:e.doc}):e.type===1&&r.type===0?this.W_=this.W_.remove(n):e.type===1&&r.type===2?this.W_=this.W_.insert(n,{type:1,doc:r.doc}):e.type===0&&r.type===1?this.W_=this.W_.insert(n,{type:2,doc:e.doc}):X():this.W_=this.W_.insert(n,e)}G_(){const e=[];return this.W_.inorderTraversal((n,r)=>{e.push(r)}),e}}class tu{constructor(e,n,r,i,s,o,a,l,u){this.query=e,this.docs=n,this.oldDocs=r,this.docChanges=i,this.mutatedKeys=s,this.fromCache=o,this.syncStateChanged=a,this.excludesMetadataChanges=l,this.hasCachedResults=u}static fromInitialDocuments(e,n,r,i,s){const o=[];return n.forEach(a=>{o.push({type:0,doc:a})}),new tu(e,n,Pl.emptySet(n),o,r,i,!0,!1,s)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&_h(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const n=this.docChanges,r=e.docChanges;if(n.length!==r.length)return!1;for(let i=0;i<n.length;i++)if(n[i].type!==r[i].type||!n[i].doc.isEqual(r[i].doc))return!1;return!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class uH{constructor(){this.z_=void 0,this.j_=[]}H_(){return this.j_.some(e=>e.J_())}}class cH{constructor(){this.queries=OR(),this.onlineState="Unknown",this.Y_=new Set}terminate(){(function(n,r){const i=Q(n),s=i.queries;i.queries=OR(),s.forEach((o,a)=>{for(const l of a.j_)l.onError(r)})})(this,new z(V.ABORTED,"Firestore shutting down"))}}function OR(){return new vo(t=>GO(t),_h)}async function rS(t,e){const n=Q(t);let r=3;const i=e.query;let s=n.queries.get(i);s?!s.H_()&&e.J_()&&(r=2):(s=new uH,r=e.J_()?0:1);try{switch(r){case 0:s.z_=await n.onListen(i,!0);break;case 1:s.z_=await n.onListen(i,!1);break;case 2:await n.onFirstRemoteStoreListen(i)}}catch(o){const a=Au(o,`Initialization of query '${Qa(e.query)}' failed`);return void e.onError(a)}n.queries.set(i,s),s.j_.push(e),e.Z_(n.onlineState),s.z_&&e.X_(s.z_)&&sS(n)}async function iS(t,e){const n=Q(t),r=e.query;let i=3;const s=n.queries.get(r);if(s){const o=s.j_.indexOf(e);o>=0&&(s.j_.splice(o,1),s.j_.length===0?i=e.J_()?0:1:!s.H_()&&e.J_()&&(i=2))}switch(i){case 0:return n.queries.delete(r),n.onUnlisten(r,!0);case 1:return n.queries.delete(r),n.onUnlisten(r,!1);case 2:return n.onLastRemoteStoreUnlisten(r);default:return}}function dH(t,e){const n=Q(t);let r=!1;for(const i of e){const s=i.query,o=n.queries.get(s);if(o){for(const a of o.j_)a.X_(i)&&(r=!0);o.z_=i}}r&&sS(n)}function hH(t,e,n){const r=Q(t),i=r.queries.get(e);if(i)for(const s of i.j_)s.onError(n);r.queries.delete(e)}function sS(t){t.Y_.forEach(e=>{e.next()})}var p0,DR;(DR=p0||(p0={})).ea="default",DR.Cache="cache";class oS{constructor(e,n,r){this.query=e,this.ta=n,this.na=!1,this.ra=null,this.onlineState="Unknown",this.options=r||{}}X_(e){if(!this.options.includeMetadataChanges){const r=[];for(const i of e.docChanges)i.type!==3&&r.push(i);e=new tu(e.query,e.docs,e.oldDocs,r,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let n=!1;return this.na?this.ia(e)&&(this.ta.next(e),n=!0):this.sa(e,this.onlineState)&&(this.oa(e),n=!0),this.ra=e,n}onError(e){this.ta.error(e)}Z_(e){this.onlineState=e;let n=!1;return this.ra&&!this.na&&this.sa(this.ra,e)&&(this.oa(this.ra),n=!0),n}sa(e,n){if(!e.fromCache||!this.J_())return!0;const r=n!=="Offline";return(!this.options._a||!r)&&(!e.docs.isEmpty()||e.hasCachedResults||n==="Offline")}ia(e){if(e.docChanges.length>0)return!0;const n=this.ra&&this.ra.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!n)&&this.options.includeMetadataChanges===!0}oa(e){e=tu.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.na=!0,this.ta.next(e)}J_(){return this.options.source!==p0.Cache}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fH{constructor(e,n){this.aa=e,this.byteLength=n}ua(){return"metadata"in this.aa}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class NR{constructor(e){this.serializer=e}Es(e){return di(this.serializer,e)}ds(e){return e.metadata.exists?yD(this.serializer,e.document,!1):We.newNoDocument(this.Es(e.metadata.name),this.As(e.metadata.readTime))}As(e){return Tt(e)}}class pH{constructor(e,n,r){this.ca=e,this.localStore=n,this.serializer=r,this.queries=[],this.documents=[],this.collectionGroups=new Set,this.progress=JD(e)}la(e){this.progress.bytesLoaded+=e.byteLength;let n=this.progress.documentsLoaded;if(e.aa.namedQuery)this.queries.push(e.aa.namedQuery);else if(e.aa.documentMetadata){this.documents.push({metadata:e.aa.documentMetadata}),e.aa.documentMetadata.exists||++n;const r=ye.fromString(e.aa.documentMetadata.name);this.collectionGroups.add(r.get(r.length-2))}else e.aa.document&&(this.documents[this.documents.length-1].document=e.aa.document,++n);return n!==this.progress.documentsLoaded?(this.progress.documentsLoaded=n,Object.assign({},this.progress)):null}ha(e){const n=new Map,r=new NR(this.serializer);for(const i of e)if(i.metadata.queries){const s=r.Es(i.metadata.name);for(const o of i.metadata.queries){const a=(n.get(o)||ue()).add(s);n.set(o,a)}}return n}async complete(){const e=await z7(this.localStore,new NR(this.serializer),this.documents,this.ca.id),n=this.ha(this.documents);for(const r of this.queries)await j7(this.localStore,r,n.get(r.name));return this.progress.taskState="Success",{progress:this.progress,Pa:this.collectionGroups,Ia:e}}}function JD(t){return{taskState:"Running",documentsLoaded:0,bytesLoaded:0,totalDocuments:t.totalDocuments,totalBytes:t.totalBytes}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class XD{constructor(e){this.key=e}}class ZD{constructor(e){this.key=e}}class eN{constructor(e,n){this.query=e,this.Ta=n,this.Ea=null,this.hasCachedResults=!1,this.current=!1,this.da=ue(),this.mutatedKeys=ue(),this.Aa=YO(e),this.Ra=new Pl(this.Aa)}get Va(){return this.Ta}ma(e,n){const r=n?n.fa:new xR,i=n?n.Ra:this.Ra;let s=n?n.mutatedKeys:this.mutatedKeys,o=i,a=!1;const l=this.query.limitType==="F"&&i.size===this.query.limit?i.last():null,u=this.query.limitType==="L"&&i.size===this.query.limit?i.first():null;if(e.inorderTraversal((d,h)=>{const f=i.get(d),g=vh(this.query,h)?h:null,_=!!f&&this.mutatedKeys.has(f.key),v=!!g&&(g.hasLocalMutations||this.mutatedKeys.has(g.key)&&g.hasCommittedMutations);let T=!1;f&&g?f.data.isEqual(g.data)?_!==v&&(r.track({type:3,doc:g}),T=!0):this.ga(f,g)||(r.track({type:2,doc:g}),T=!0,(l&&this.Aa(g,l)>0||u&&this.Aa(g,u)<0)&&(a=!0)):!f&&g?(r.track({type:0,doc:g}),T=!0):f&&!g&&(r.track({type:1,doc:f}),T=!0,(l||u)&&(a=!0)),T&&(g?(o=o.add(g),s=v?s.add(d):s.delete(d)):(o=o.delete(d),s=s.delete(d)))}),this.query.limit!==null)for(;o.size>this.query.limit;){const d=this.query.limitType==="F"?o.last():o.first();o=o.delete(d.key),s=s.delete(d.key),r.track({type:1,doc:d})}return{Ra:o,fa:r,ns:a,mutatedKeys:s}}ga(e,n){return e.hasLocalMutations&&n.hasCommittedMutations&&!n.hasLocalMutations}applyChanges(e,n,r,i){const s=this.Ra;this.Ra=e.Ra,this.mutatedKeys=e.mutatedKeys;const o=e.fa.G_();o.sort((d,h)=>function(g,_){const v=T=>{switch(T){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return X()}};return v(g)-v(_)}(d.type,h.type)||this.Aa(d.doc,h.doc)),this.pa(r),i=i!=null&&i;const a=n&&!i?this.ya():[],l=this.da.size===0&&this.current&&!i?1:0,u=l!==this.Ea;return this.Ea=l,o.length!==0||u?{snapshot:new tu(this.query,e.Ra,s,o,e.mutatedKeys,l===0,u,!1,!!r&&r.resumeToken.approximateByteSize()>0),wa:a}:{wa:a}}Z_(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({Ra:this.Ra,fa:new xR,mutatedKeys:this.mutatedKeys,ns:!1},!1)):{wa:[]}}Sa(e){return!this.Ta.has(e)&&!!this.Ra.has(e)&&!this.Ra.get(e).hasLocalMutations}pa(e){e&&(e.addedDocuments.forEach(n=>this.Ta=this.Ta.add(n)),e.modifiedDocuments.forEach(n=>{}),e.removedDocuments.forEach(n=>this.Ta=this.Ta.delete(n)),this.current=e.current)}ya(){if(!this.current)return[];const e=this.da;this.da=ue(),this.Ra.forEach(r=>{this.Sa(r.key)&&(this.da=this.da.add(r.key))});const n=[];return e.forEach(r=>{this.da.has(r)||n.push(new ZD(r))}),this.da.forEach(r=>{e.has(r)||n.push(new XD(r))}),n}ba(e){this.Ta=e.Ts,this.da=ue();const n=this.ma(e.documents);return this.applyChanges(n,!0)}Da(){return tu.fromInitialDocuments(this.query,this.Ra,this.mutatedKeys,this.Ea===0,this.hasCachedResults)}}class mH{constructor(e,n,r){this.query=e,this.targetId=n,this.view=r}}class gH{constructor(e){this.key=e,this.va=!1}}class yH{constructor(e,n,r,i,s,o){this.localStore=e,this.remoteStore=n,this.eventManager=r,this.sharedClientState=i,this.currentUser=s,this.maxConcurrentLimboResolutions=o,this.Ca={},this.Fa=new vo(a=>GO(a),_h),this.Ma=new Map,this.xa=new Set,this.Oa=new $e(K.comparator),this.Na=new Map,this.La=new GE,this.Ba={},this.ka=new Map,this.qa=ga.kn(),this.onlineState="Unknown",this.Qa=void 0}get isPrimaryClient(){return this.Qa===!0}}async function _H(t,e,n=!0){const r=Ng(t);let i;const s=r.Fa.get(e);return s?(r.sharedClientState.addLocalQueryTarget(s.targetId),i=s.view.Da()):i=await tN(r,e,n,!0),i}async function vH(t,e){const n=Ng(t);await tN(n,e,!0,!1)}async function tN(t,e,n,r){const i=await Xl(t.localStore,Tn(e)),s=i.targetId,o=t.sharedClientState.addLocalQueryTarget(s,n);let a;return r&&(a=await aS(t,e,s,o==="current",i.resumeToken)),t.isPrimaryClient&&n&&Dg(t.remoteStore,i),a}async function aS(t,e,n,r,i){t.Ka=(h,f,g)=>async function(v,T,I,w){let E=T.view.ma(I);E.ns&&(E=await pm(v.localStore,T.query,!1).then(({documents:b})=>T.view.ma(b,E)));const O=w&&w.targetChanges.get(T.targetId),C=w&&w.targetMismatches.get(T.targetId)!=null,N=T.view.applyChanges(E,v.isPrimaryClient,O,C);return m0(v,T.targetId,N.wa),N.snapshot}(t,h,f,g);const s=await pm(t.localStore,e,!0),o=new eN(e,s.Ts),a=o.ma(s.documents),l=Sh.createSynthesizedTargetChangeForCurrentChange(n,r&&t.onlineState!=="Offline",i),u=o.applyChanges(a,t.isPrimaryClient,l);m0(t,n,u.wa);const d=new mH(e,n,o);return t.Fa.set(e,d),t.Ma.has(n)?t.Ma.get(n).push(e):t.Ma.set(n,[e]),u.snapshot}async function wH(t,e,n){const r=Q(t),i=r.Fa.get(e),s=r.Ma.get(i.targetId);if(s.length>1)return r.Ma.set(i.targetId,s.filter(o=>!_h(o,e))),void r.Fa.delete(e);r.isPrimaryClient?(r.sharedClientState.removeLocalQueryTarget(i.targetId),r.sharedClientState.isActiveQueryTarget(i.targetId)||await Zl(r.localStore,i.targetId,!1).then(()=>{r.sharedClientState.clearQueryState(i.targetId),n&&eu(r.remoteStore,i.targetId),nu(r,i.targetId)}).catch(yo)):(nu(r,i.targetId),await Zl(r.localStore,i.targetId,!0))}async function EH(t,e){const n=Q(t),r=n.Fa.get(e),i=n.Ma.get(r.targetId);n.isPrimaryClient&&i.length===1&&(n.sharedClientState.removeLocalQueryTarget(r.targetId),eu(n.remoteStore,r.targetId))}async function SH(t,e,n){const r=dS(t);try{const i=await function(o,a){const l=Q(o),u=tt.now(),d=a.reduce((g,_)=>g.add(_.key),ue());let h,f;return l.persistence.runTransaction("Locally write mutations","readwrite",g=>{let _=Mn(),v=ue();return l.cs.getEntries(g,d).next(T=>{_=T,_.forEach((I,w)=>{w.isValidDocument()||(v=v.add(I))})}).next(()=>l.localDocuments.getOverlayedDocuments(g,_)).next(T=>{h=T;const I=[];for(const w of a){const E=Hq(w,h.get(w.key).overlayedDocument);E!=null&&I.push(new os(w.key,E,FO(E.value.mapValue),et.exists(!0)))}return l.mutationQueue.addMutationBatch(g,u,I,a)}).next(T=>{f=T;const I=T.applyToLocalDocumentSet(h,v);return l.documentOverlayCache.saveOverlays(g,T.batchId,I)})}).then(()=>({batchId:f.batchId,changes:JO(h)}))}(r.localStore,e);r.sharedClientState.addPendingMutation(i.batchId),function(o,a,l){let u=o.Ba[o.currentUser.toKey()];u||(u=new $e(ae)),u=u.insert(a,l),o.Ba[o.currentUser.toKey()]=u}(r,i.batchId,n),await as(r,i.changes),await bu(r.remoteStore)}catch(i){const s=Au(i,"Failed to persist write");n.reject(s)}}async function nN(t,e){const n=Q(t);try{const r=await B7(n.localStore,e);e.targetChanges.forEach((i,s)=>{const o=n.Na.get(s);o&&(te(i.addedDocuments.size+i.modifiedDocuments.size+i.removedDocuments.size<=1),i.addedDocuments.size>0?o.va=!0:i.modifiedDocuments.size>0?te(o.va):i.removedDocuments.size>0&&(te(o.va),o.va=!1))}),await as(n,r,e)}catch(r){await yo(r)}}function MR(t,e,n){const r=Q(t);if(r.isPrimaryClient&&n===0||!r.isPrimaryClient&&n===1){const i=[];r.Fa.forEach((s,o)=>{const a=o.view.Z_(e);a.snapshot&&i.push(a.snapshot)}),function(o,a){const l=Q(o);l.onlineState=a;let u=!1;l.queries.forEach((d,h)=>{for(const f of h.j_)f.Z_(a)&&(u=!0)}),u&&sS(l)}(r.eventManager,e),i.length&&r.Ca.d_(i),r.onlineState=e,r.isPrimaryClient&&r.sharedClientState.setOnlineState(e)}}async function IH(t,e,n){const r=Q(t);r.sharedClientState.updateQueryState(e,"rejected",n);const i=r.Na.get(e),s=i&&i.key;if(s){let o=new $e(K.comparator);o=o.insert(s,We.newNoDocument(s,ne.min()));const a=ue().add(s),l=new Eh(ne.min(),new Map,new $e(ae),o,a);await nN(r,l),r.Oa=r.Oa.remove(s),r.Na.delete(e),cS(r)}else await Zl(r.localStore,e,!1).then(()=>nu(r,e,n)).catch(yo)}async function TH(t,e){const n=Q(t),r=e.batch.batchId;try{const i=await U7(n.localStore,e);uS(n,r,null),lS(n,r),n.sharedClientState.updateMutationState(r,"acknowledged"),await as(n,i)}catch(i){await yo(i)}}async function bH(t,e,n){const r=Q(t);try{const i=await function(o,a){const l=Q(o);return l.persistence.runTransaction("Reject batch","readwrite-primary",u=>{let d;return l.mutationQueue.lookupMutationBatch(u,a).next(h=>(te(h!==null),d=h.keys(),l.mutationQueue.removeMutationBatch(u,h))).next(()=>l.mutationQueue.performConsistencyCheck(u)).next(()=>l.documentOverlayCache.removeOverlaysForBatchId(u,d,a)).next(()=>l.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(u,d)).next(()=>l.localDocuments.getDocuments(u,d))})}(r.localStore,e);uS(r,e,n),lS(r,e),r.sharedClientState.updateMutationState(e,"rejected",n),await as(r,i)}catch(i){await yo(i)}}async function RH(t,e){const n=Q(t);wo(n.remoteStore)||j("SyncEngine","The network is disabled. The task returned by 'awaitPendingWrites()' will not complete until the network is enabled.");try{const r=await function(o){const a=Q(o);return a.persistence.runTransaction("Get highest unacknowledged batch id","readonly",l=>a.mutationQueue.getHighestUnacknowledgedBatchId(l))}(n.localStore);if(r===-1)return void e.resolve();const i=n.ka.get(r)||[];i.push(e),n.ka.set(r,i)}catch(r){const i=Au(r,"Initialization of waitForPendingWrites() operation failed");e.reject(i)}}function lS(t,e){(t.ka.get(e)||[]).forEach(n=>{n.resolve()}),t.ka.delete(e)}function uS(t,e,n){const r=Q(t);let i=r.Ba[r.currentUser.toKey()];if(i){const s=i.get(e);s&&(n?s.reject(n):s.resolve(),i=i.remove(e)),r.Ba[r.currentUser.toKey()]=i}}function nu(t,e,n=null){t.sharedClientState.removeLocalQueryTarget(e);for(const r of t.Ma.get(e))t.Fa.delete(r),n&&t.Ca.$a(r,n);t.Ma.delete(e),t.isPrimaryClient&&t.La.gr(e).forEach(r=>{t.La.containsKey(r)||rN(t,r)})}function rN(t,e){t.xa.delete(e.path.canonicalString());const n=t.Oa.get(e);n!==null&&(eu(t.remoteStore,n),t.Oa=t.Oa.remove(e),t.Na.delete(n),cS(t))}function m0(t,e,n){for(const r of n)r instanceof XD?(t.La.addReference(r.key,e),AH(t,r)):r instanceof ZD?(j("SyncEngine","Document no longer in limbo: "+r.key),t.La.removeReference(r.key,e),t.La.containsKey(r.key)||rN(t,r.key)):X()}function AH(t,e){const n=e.key,r=n.path.canonicalString();t.Oa.get(n)||t.xa.has(r)||(j("SyncEngine","New document in limbo: "+n),t.xa.add(r),cS(t))}function cS(t){for(;t.xa.size>0&&t.Oa.size<t.maxConcurrentLimboResolutions;){const e=t.xa.values().next().value;t.xa.delete(e);const n=new K(ye.fromString(e)),r=t.qa.next();t.Na.set(r,new gH(n)),t.Oa=t.Oa.insert(n,r),Dg(t.remoteStore,new Vi(Tn(Eu(n.path)),r,"TargetPurposeLimboResolution",Dn.oe))}}async function as(t,e,n){const r=Q(t),i=[],s=[],o=[];r.Fa.isEmpty()||(r.Fa.forEach((a,l)=>{o.push(r.Ka(l,e,n).then(u=>{var d;if((u||n)&&r.isPrimaryClient){const h=u?!u.fromCache:(d=n==null?void 0:n.targetChanges.get(l.targetId))===null||d===void 0?void 0:d.current;r.sharedClientState.updateQueryState(l.targetId,h?"current":"not-current")}if(u){i.push(u);const h=QE.Wi(l.targetId,u);s.push(h)}}))}),await Promise.all(o),r.Ca.d_(i),await async function(l,u){const d=Q(l);try{await d.persistence.runTransaction("notifyLocalViewChanges","readwrite",h=>L.forEach(u,f=>L.forEach(f.$i,g=>d.persistence.referenceDelegate.addReference(h,f.targetId,g)).next(()=>L.forEach(f.Ui,g=>d.persistence.referenceDelegate.removeReference(h,f.targetId,g)))))}catch(h){if(!_o(h))throw h;j("LocalStore","Failed to update sequence numbers: "+h)}for(const h of u){const f=h.targetId;if(!h.fromCache){const g=d.os.get(f),_=g.snapshotVersion,v=g.withLastLimboFreeSnapshotVersion(_);d.os=d.os.insert(f,v)}}}(r.localStore,s))}async function PH(t,e){const n=Q(t);if(!n.currentUser.isEqual(e)){j("SyncEngine","User change. New user:",e.toKey());const r=await VD(n.localStore,e);n.currentUser=e,function(s,o){s.ka.forEach(a=>{a.forEach(l=>{l.reject(new z(V.CANCELLED,o))})}),s.ka.clear()}(n,"'waitForPendingWrites' promise is rejected due to a user change."),n.sharedClientState.handleUserChange(e,r.removedBatchIds,r.addedBatchIds),await as(n,r.hs)}}function kH(t,e){const n=Q(t),r=n.Na.get(e);if(r&&r.va)return ue().add(r.key);{let i=ue();const s=n.Ma.get(e);if(!s)return i;for(const o of s){const a=n.Fa.get(o);i=i.unionWith(a.view.Va)}return i}}async function CH(t,e){const n=Q(t),r=await pm(n.localStore,e.query,!0),i=e.view.ba(r);return n.isPrimaryClient&&m0(n,e.targetId,i.wa),i}async function xH(t,e){const n=Q(t);return $D(n.localStore,e).then(r=>as(n,r))}async function OH(t,e,n,r){const i=Q(t),s=await function(a,l){const u=Q(a),d=Q(u.mutationQueue);return u.persistence.runTransaction("Lookup mutation documents","readonly",h=>d.Mn(h,l).next(f=>f?u.localDocuments.getDocuments(h,f):L.resolve(null)))}(i.localStore,e);s!==null?(n==="pending"?await bu(i.remoteStore):n==="acknowledged"||n==="rejected"?(uS(i,e,r||null),lS(i,e),function(a,l){Q(Q(a).mutationQueue).On(l)}(i.localStore,e)):X(),await as(i,s)):j("SyncEngine","Cannot apply mutation batch with id: "+e)}async function DH(t,e){const n=Q(t);if(Ng(n),dS(n),e===!0&&n.Qa!==!0){const r=n.sharedClientState.getAllActiveQueryTargets(),i=await LR(n,r.toArray());n.Qa=!0,await f0(n.remoteStore,!0);for(const s of i)Dg(n.remoteStore,s)}else if(e===!1&&n.Qa!==!1){const r=[];let i=Promise.resolve();n.Ma.forEach((s,o)=>{n.sharedClientState.isLocalQueryTarget(o)?r.push(o):i=i.then(()=>(nu(n,o),Zl(n.localStore,o,!0))),eu(n.remoteStore,o)}),await i,await LR(n,r),function(o){const a=Q(o);a.Na.forEach((l,u)=>{eu(a.remoteStore,u)}),a.La.pr(),a.Na=new Map,a.Oa=new $e(K.comparator)}(n),n.Qa=!1,await f0(n.remoteStore,!1)}}async function LR(t,e,n){const r=Q(t),i=[],s=[];for(const o of e){let a;const l=r.Ma.get(o);if(l&&l.length!==0){a=await Xl(r.localStore,Tn(l[0]));for(const u of l){const d=r.Fa.get(u),h=await CH(r,d);h.snapshot&&s.push(h.snapshot)}}else{const u=await BD(r.localStore,o);a=await Xl(r.localStore,u),await aS(r,iN(u),o,!1,a.resumeToken)}i.push(a)}return r.Ca.d_(s),i}function iN(t){return HO(t.path,t.collectionGroup,t.orderBy,t.filters,t.limit,"F",t.startAt,t.endAt)}function NH(t){return function(n){return Q(Q(n).persistence).Qi()}(Q(t).localStore)}async function MH(t,e,n,r){const i=Q(t);if(i.Qa)return void j("SyncEngine","Ignoring unexpected query state notification.");const s=i.Ma.get(e);if(s&&s.length>0)switch(n){case"current":case"not-current":{const o=await $D(i.localStore,KO(s[0])),a=Eh.createSynthesizedRemoteEventForCurrentChange(e,n==="current",gt.EMPTY_BYTE_STRING);await as(i,o,a);break}case"rejected":await Zl(i.localStore,e,!0),nu(i,e,r);break;default:X()}}async function LH(t,e,n){const r=Ng(t);if(r.Qa){for(const i of e){if(r.Ma.has(i)&&r.sharedClientState.isActiveQueryTarget(i)){j("SyncEngine","Adding an already active target "+i);continue}const s=await BD(r.localStore,i),o=await Xl(r.localStore,s);await aS(r,iN(s),o.targetId,!1,o.resumeToken),Dg(r.remoteStore,o)}for(const i of n)r.Ma.has(i)&&await Zl(r.localStore,i,!1).then(()=>{eu(r.remoteStore,i),nu(r,i)}).catch(yo)}}function Ng(t){const e=Q(t);return e.remoteStore.remoteSyncer.applyRemoteEvent=nN.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=kH.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=IH.bind(null,e),e.Ca.d_=dH.bind(null,e.eventManager),e.Ca.$a=hH.bind(null,e.eventManager),e}function dS(t){const e=Q(t);return e.remoteStore.remoteSyncer.applySuccessfulWrite=TH.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=bH.bind(null,e),e}function VH(t,e,n){const r=Q(t);(async function(s,o,a){try{const l=await o.getMetadata();if(await function(g,_){const v=Q(g),T=Tt(_.createTime);return v.persistence.runTransaction("hasNewerBundle","readonly",I=>v.Gr.getBundleMetadata(I,_.id)).then(I=>!!I&&I.createTime.compareTo(T)>=0)}(s.localStore,l))return await o.close(),a._completeWith(function(g){return{taskState:"Success",documentsLoaded:g.totalDocuments,bytesLoaded:g.totalBytes,totalDocuments:g.totalDocuments,totalBytes:g.totalBytes}}(l)),Promise.resolve(new Set);a._updateProgress(JD(l));const u=new pH(l,s.localStore,o.serializer);let d=await o.Ua();for(;d;){const f=await u.la(d);f&&a._updateProgress(f),d=await o.Ua()}const h=await u.complete();return await as(s,h.Ia,void 0),await function(g,_){const v=Q(g);return v.persistence.runTransaction("Save bundle","readwrite",T=>v.Gr.saveBundleMetadata(T,_))}(s.localStore,l),a._completeWith(h.progress),Promise.resolve(h.Pa)}catch(l){return Fr("SyncEngine",`Loading bundle failed with ${l}`),a._failWith(l),Promise.resolve(new Set)}})(r,e,n).then(i=>{r.sharedClientState.notifyBundleLoaded(i)})}class g0{constructor(){this.synchronizeTabs=!1}async initialize(e){this.serializer=Ih(e.databaseInfo.databaseId),this.sharedClientState=this.createSharedClientState(e),this.persistence=this.createPersistence(e),await this.persistence.start(),this.localStore=this.createLocalStore(e),this.gcScheduler=this.createGarbageCollectionScheduler(e,this.localStore),this.indexBackfillerScheduler=this.createIndexBackfillerScheduler(e,this.localStore)}createGarbageCollectionScheduler(e,n){return null}createIndexBackfillerScheduler(e,n){return null}createLocalStore(e){return LD(this.persistence,new MD,e.initialUser,this.serializer)}createPersistence(e){return new ND(Og.Zr,this.serializer)}createSharedClientState(e){return new jD}async terminate(){var e,n;(e=this.gcScheduler)===null||e===void 0||e.stop(),(n=this.indexBackfillerScheduler)===null||n===void 0||n.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}class sN extends g0{constructor(e,n,r){super(),this.Wa=e,this.cacheSizeBytes=n,this.forceOwnership=r,this.synchronizeTabs=!1}async initialize(e){await super.initialize(e),await this.Wa.initialize(this,e),await dS(this.Wa.syncEngine),await bu(this.Wa.remoteStore),await this.persistence.yi(()=>(this.gcScheduler&&!this.gcScheduler.started&&this.gcScheduler.start(),this.indexBackfillerScheduler&&!this.indexBackfillerScheduler.started&&this.indexBackfillerScheduler.start(),Promise.resolve()))}createLocalStore(e){return LD(this.persistence,new MD,e.initialUser,this.serializer)}createGarbageCollectionScheduler(e,n){const r=this.persistence.referenceDelegate.garbageCollector;return new E7(r,e.asyncQueue,n)}createIndexBackfillerScheduler(e,n){const r=new nq(n,this.persistence);return new tq(e.asyncQueue,r)}createPersistence(e){const n=YE(e.databaseInfo.databaseId,e.databaseInfo.persistenceKey),r=this.cacheSizeBytes!==void 0?kn.withCacheSize(this.cacheSizeBytes):kn.DEFAULT;return new KE(this.synchronizeTabs,n,e.clientId,r,e.asyncQueue,WD(),op(),this.serializer,this.sharedClientState,!!this.forceOwnership)}createSharedClientState(e){return new jD}}class FH extends sN{constructor(e,n){super(e,n,!1),this.Wa=e,this.cacheSizeBytes=n,this.synchronizeTabs=!0}async initialize(e){await super.initialize(e);const n=this.Wa.syncEngine;this.sharedClientState instanceof E_&&(this.sharedClientState.syncEngine={no:OH.bind(null,n),ro:MH.bind(null,n),io:LH.bind(null,n),Qi:NH.bind(null,n),eo:xH.bind(null,n)},await this.sharedClientState.start()),await this.persistence.yi(async r=>{await DH(this.Wa.syncEngine,r),this.gcScheduler&&(r&&!this.gcScheduler.started?this.gcScheduler.start():r||this.gcScheduler.stop()),this.indexBackfillerScheduler&&(r&&!this.indexBackfillerScheduler.started?this.indexBackfillerScheduler.start():r||this.indexBackfillerScheduler.stop())})}createSharedClientState(e){const n=WD();if(!E_.D(n))throw new z(V.UNIMPLEMENTED,"IndexedDB persistence is only available on platforms that support LocalStorage.");const r=YE(e.databaseInfo.databaseId,e.databaseInfo.persistenceKey);return new E_(n,e.asyncQueue,r,e.clientId,e.initialUser)}}class hS{async initialize(e,n){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(n),this.remoteStore=this.createRemoteStore(n),this.eventManager=this.createEventManager(n),this.syncEngine=this.createSyncEngine(n,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=r=>MR(this.syncEngine,r,1),this.remoteStore.remoteSyncer.handleCredentialChange=PH.bind(null,this.syncEngine),await f0(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return function(){return new cH}()}createDatastore(e){const n=Ih(e.databaseInfo.databaseId),r=function(s){return new G7(s)}(e.databaseInfo);return function(s,o,a,l){return new Q7(s,o,a,l)}(e.authCredentials,e.appCheckCredentials,r,n)}createRemoteStore(e){return function(r,i,s,o,a){return new X7(r,i,s,o,a)}(this.localStore,this.datastore,e.asyncQueue,n=>MR(this.syncEngine,n,0),function(){return kR.D()?new kR:new W7}())}createSyncEngine(e,n){return function(i,s,o,a,l,u,d){const h=new yH(i,s,o,a,l,u);return d&&(h.Qa=!0),h}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,n)}async terminate(){var e,n;await async function(i){const s=Q(i);j("RemoteStore","RemoteStore shutting down."),s.L_.add(5),await Tu(s),s.k_.shutdown(),s.q_.set("Unknown")}(this.remoteStore),(e=this.datastore)===null||e===void 0||e.terminate(),(n=this.eventManager)===null||n===void 0||n.terminate()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function VR(t,e=10240){let n=0;return{async read(){if(n<t.byteLength){const r={value:t.slice(n,n+e),done:!1};return n+=e,r}return{done:!0}},async cancel(){},releaseLock(){},closed:Promise.resolve()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Mg{constructor(e){this.observer=e,this.muted=!1}next(e){this.observer.next&&this.Ga(this.observer.next,e)}error(e){this.observer.error?this.Ga(this.observer.error,e):It("Uncaught Error in snapshot listener:",e.toString())}za(){this.muted=!0}Ga(e,n){this.muted||setTimeout(()=>{this.muted||e(n)},0)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class UH{constructor(e,n){this.ja=e,this.serializer=n,this.metadata=new qt,this.buffer=new Uint8Array,this.Ha=function(){return new TextDecoder("utf-8")}(),this.Ja().then(r=>{r&&r.ua()?this.metadata.resolve(r.aa.metadata):this.metadata.reject(new Error(`The first element of the bundle is not a metadata, it is
             ${JSON.stringify(r==null?void 0:r.aa)}`))},r=>this.metadata.reject(r))}close(){return this.ja.cancel()}async getMetadata(){return this.metadata.promise}async Ua(){return await this.getMetadata(),this.Ja()}async Ja(){const e=await this.Ya();if(e===null)return null;const n=this.Ha.decode(e),r=Number(n);isNaN(r)&&this.Za(`length string (${n}) is not valid number`);const i=await this.Xa(r);return new fH(JSON.parse(i),e.length+r)}eu(){return this.buffer.findIndex(e=>e===123)}async Ya(){for(;this.eu()<0&&!await this.tu(););if(this.buffer.length===0)return null;const e=this.eu();e<0&&this.Za("Reached the end of bundle when a length string is expected.");const n=this.buffer.slice(0,e);return this.buffer=this.buffer.slice(e),n}async Xa(e){for(;this.buffer.length<e;)await this.tu()&&this.Za("Reached the end of bundle when more is expected.");const n=this.Ha.decode(this.buffer.slice(0,e));return this.buffer=this.buffer.slice(e),n}Za(e){throw this.ja.cancel(),new Error(`Invalid bundle format: ${e}`)}async tu(){const e=await this.ja.read();if(!e.done){const n=new Uint8Array(this.buffer.length+e.value.length);n.set(this.buffer),n.set(e.value,this.buffer.length),this.buffer=n}return e.done}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class BH{constructor(e){this.datastore=e,this.readVersions=new Map,this.mutations=[],this.committed=!1,this.lastTransactionError=null,this.writtenDocs=new Set}async lookup(e){if(this.ensureCommitNotCalled(),this.mutations.length>0)throw this.lastTransactionError=new z(V.INVALID_ARGUMENT,"Firestore transactions require all reads to be executed before all writes."),this.lastTransactionError;const n=await async function(i,s){const o=Q(i),a={documents:s.map(h=>Ld(o.serializer,h))},l=await o.Lo("BatchGetDocuments",o.serializer.databaseId,ye.emptyPath(),a,s.length),u=new Map;l.forEach(h=>{const f=t7(o.serializer,h);u.set(f.key.toString(),f)});const d=[];return s.forEach(h=>{const f=u.get(h.toString());te(!!f),d.push(f)}),d}(this.datastore,e);return n.forEach(r=>this.recordVersion(r)),n}set(e,n){this.write(n.toMutation(e,this.precondition(e))),this.writtenDocs.add(e.toString())}update(e,n){try{this.write(n.toMutation(e,this.preconditionForUpdate(e)))}catch(r){this.lastTransactionError=r}this.writtenDocs.add(e.toString())}delete(e){this.write(new Iu(e,this.precondition(e))),this.writtenDocs.add(e.toString())}async commit(){if(this.ensureCommitNotCalled(),this.lastTransactionError)throw this.lastTransactionError;const e=this.readVersions;this.mutations.forEach(n=>{e.delete(n.key.toString())}),e.forEach((n,r)=>{const i=K.fromPath(r);this.mutations.push(new FE(i,this.precondition(i)))}),await async function(r,i){const s=Q(r),o={writes:i.map(a=>Vd(s.serializer,a))};await s.Mo("Commit",s.serializer.databaseId,ye.emptyPath(),o)}(this.datastore,this.mutations),this.committed=!0}recordVersion(e){let n;if(e.isFoundDocument())n=e.version;else{if(!e.isNoDocument())throw X();n=ne.min()}const r=this.readVersions.get(e.key.toString());if(r){if(!n.isEqual(r))throw new z(V.ABORTED,"Document version changed between two reads.")}else this.readVersions.set(e.key.toString(),n)}precondition(e){const n=this.readVersions.get(e.toString());return!this.writtenDocs.has(e.toString())&&n?n.isEqual(ne.min())?et.exists(!1):et.updateTime(n):et.none()}preconditionForUpdate(e){const n=this.readVersions.get(e.toString());if(!this.writtenDocs.has(e.toString())&&n){if(n.isEqual(ne.min()))throw new z(V.INVALID_ARGUMENT,"Can't update a document that doesn't exist.");return et.updateTime(n)}return et.exists(!0)}write(e){this.ensureCommitNotCalled(),this.mutations.push(e)}ensureCommitNotCalled(){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $H{constructor(e,n,r,i,s){this.asyncQueue=e,this.datastore=n,this.options=r,this.updateFunction=i,this.deferred=s,this.nu=r.maxAttempts,this.t_=new XE(this.asyncQueue,"transaction_retry")}ru(){this.nu-=1,this.iu()}iu(){this.t_.Go(async()=>{const e=new BH(this.datastore),n=this.su(e);n&&n.then(r=>{this.asyncQueue.enqueueAndForget(()=>e.commit().then(()=>{this.deferred.resolve(r)}).catch(i=>{this.ou(i)}))}).catch(r=>{this.ou(r)})})}su(e){try{const n=this.updateFunction(e);return!gh(n)&&n.catch&&n.then?n:(this.deferred.reject(Error("Transaction callback must return a Promise")),null)}catch(n){return this.deferred.reject(n),null}}ou(e){this.nu>0&&this._u(e)?(this.nu-=1,this.asyncQueue.enqueueAndForget(()=>(this.iu(),Promise.resolve()))):this.deferred.reject(e)}_u(e){if(e.name==="FirebaseError"){const n=e.code;return n==="aborted"||n==="failed-precondition"||n==="already-exists"||!aD(n)}return!1}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zH{constructor(e,n,r,i){this.authCredentials=e,this.appCheckCredentials=n,this.asyncQueue=r,this.databaseInfo=i,this.user=zt.UNAUTHENTICATED,this.clientId=SO.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this.authCredentials.start(r,async s=>{j("FirestoreClient","Received user=",s.uid),await this.authCredentialListener(s),this.user=s}),this.appCheckCredentials.start(r,s=>(j("FirestoreClient","Received new app check token=",s),this.appCheckCredentialListener(s,this.user)))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}verifyNotTerminated(){if(this.asyncQueue.isShuttingDown)throw new z(V.FAILED_PRECONDITION,"The client has already been terminated.")}terminate(){this.asyncQueue.enterRestrictedMode();const e=new qt;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(n){const r=Au(n,"Failed to shutdown persistence");e.reject(r)}}),e.promise}}async function ap(t,e){t.asyncQueue.verifyOperationInProgress(),j("FirestoreClient","Initializing OfflineComponentProvider");const n=t.configuration;await e.initialize(n);let r=n.initialUser;t.setCredentialChangeListener(async i=>{r.isEqual(i)||(await VD(e.localStore,i),r=i)}),e.persistence.setDatabaseDeletedListener(()=>t.terminate()),t._offlineComponents=e}async function y0(t,e){t.asyncQueue.verifyOperationInProgress();const n=await fS(t);j("FirestoreClient","Initializing OnlineComponentProvider"),await e.initialize(n,t.configuration),t.setCredentialChangeListener(r=>CR(e.remoteStore,r)),t.setAppCheckTokenChangeListener((r,i)=>CR(e.remoteStore,i)),t._onlineComponents=e}function oN(t){return t.name==="FirebaseError"?t.code===V.FAILED_PRECONDITION||t.code===V.UNIMPLEMENTED:!(typeof DOMException<"u"&&t instanceof DOMException)||t.code===22||t.code===20||t.code===11}async function fS(t){if(!t._offlineComponents)if(t._uninitializedComponentsProvider){j("FirestoreClient","Using user provided OfflineComponentProvider");try{await ap(t,t._uninitializedComponentsProvider._offline)}catch(e){const n=e;if(!oN(n))throw n;Fr("Error using user provided cache. Falling back to memory cache: "+n),await ap(t,new g0)}}else j("FirestoreClient","Using default OfflineComponentProvider"),await ap(t,new g0);return t._offlineComponents}async function Lg(t){return t._onlineComponents||(t._uninitializedComponentsProvider?(j("FirestoreClient","Using user provided OnlineComponentProvider"),await y0(t,t._uninitializedComponentsProvider._online)):(j("FirestoreClient","Using default OnlineComponentProvider"),await y0(t,new hS))),t._onlineComponents}function aN(t){return fS(t).then(e=>e.persistence)}function pS(t){return fS(t).then(e=>e.localStore)}function lN(t){return Lg(t).then(e=>e.remoteStore)}function mS(t){return Lg(t).then(e=>e.syncEngine)}function jH(t){return Lg(t).then(e=>e.datastore)}async function ru(t){const e=await Lg(t),n=e.eventManager;return n.onListen=_H.bind(null,e.syncEngine),n.onUnlisten=wH.bind(null,e.syncEngine),n.onFirstRemoteStoreListen=vH.bind(null,e.syncEngine),n.onLastRemoteStoreUnlisten=EH.bind(null,e.syncEngine),n}function WH(t){return t.asyncQueue.enqueue(async()=>{const e=await aN(t),n=await lN(t);return e.setNetworkEnabled(!0),function(i){const s=Q(i);return s.L_.delete(0),Th(s)}(n)})}function qH(t){return t.asyncQueue.enqueue(async()=>{const e=await aN(t),n=await lN(t);return e.setNetworkEnabled(!1),async function(i){const s=Q(i);s.L_.add(0),await Tu(s),s.q_.set("Offline")}(n)})}function HH(t,e){const n=new qt;return t.asyncQueue.enqueueAndForget(async()=>async function(i,s,o){try{const a=await function(u,d){const h=Q(u);return h.persistence.runTransaction("read document","readonly",f=>h.localDocuments.getDocument(f,d))}(i,s);a.isFoundDocument()?o.resolve(a):a.isNoDocument()?o.resolve(null):o.reject(new z(V.UNAVAILABLE,"Failed to get document from cache. (However, this document may exist on the server. Run again without setting 'source' in the GetOptions to attempt to retrieve the document from the server.)"))}catch(a){const l=Au(a,`Failed to get document '${s} from cache`);o.reject(l)}}(await pS(t),e,n)),n.promise}function uN(t,e,n={}){const r=new qt;return t.asyncQueue.enqueueAndForget(async()=>function(s,o,a,l,u){const d=new Mg({next:f=>{o.enqueueAndForget(()=>iS(s,h));const g=f.docs.has(a);!g&&f.fromCache?u.reject(new z(V.UNAVAILABLE,"Failed to get document because the client is offline.")):g&&f.fromCache&&l&&l.source==="server"?u.reject(new z(V.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):u.resolve(f)},error:f=>u.reject(f)}),h=new oS(Eu(a.path),d,{includeMetadataChanges:!0,_a:!0});return rS(s,h)}(await ru(t),t.asyncQueue,e,n,r)),r.promise}function GH(t,e){const n=new qt;return t.asyncQueue.enqueueAndForget(async()=>async function(i,s,o){try{const a=await pm(i,s,!0),l=new eN(s,a.Ts),u=l.ma(a.documents),d=l.applyChanges(u,!1);o.resolve(d.snapshot)}catch(a){const l=Au(a,`Failed to execute query '${s} against cache`);o.reject(l)}}(await pS(t),e,n)),n.promise}function cN(t,e,n={}){const r=new qt;return t.asyncQueue.enqueueAndForget(async()=>function(s,o,a,l,u){const d=new Mg({next:f=>{o.enqueueAndForget(()=>iS(s,h)),f.fromCache&&l.source==="server"?u.reject(new z(V.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):u.resolve(f)},error:f=>u.reject(f)}),h=new oS(a,d,{includeMetadataChanges:!0,_a:!0});return rS(s,h)}(await ru(t),t.asyncQueue,e,n,r)),r.promise}function KH(t,e){const n=new Mg(e);return t.asyncQueue.enqueueAndForget(async()=>function(i,s){Q(i).Y_.add(s),s.next()}(await ru(t),n)),()=>{n.za(),t.asyncQueue.enqueueAndForget(async()=>function(i,s){Q(i).Y_.delete(s)}(await ru(t),n))}}function YH(t,e,n,r){const i=function(o,a){let l;return l=typeof o=="string"?uD().encode(o):o,function(d,h){return new UH(d,h)}(function(d,h){if(d instanceof Uint8Array)return VR(d,h);if(d instanceof ArrayBuffer)return VR(new Uint8Array(d),h);if(d instanceof ReadableStream)return d.getReader();throw new Error("Source of `toByteStreamReader` has to be a ArrayBuffer or ReadableStream")}(l),a)}(n,Ih(e));t.asyncQueue.enqueueAndForget(async()=>{VH(await mS(t),i,r)})}function QH(t,e){return t.asyncQueue.enqueue(async()=>function(r,i){const s=Q(r);return s.persistence.runTransaction("Get named query","readonly",o=>s.Gr.getNamedQuery(o,i))}(await pS(t),e))}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function dN(t){const e={};return t.timeoutSeconds!==void 0&&(e.timeoutSeconds=t.timeoutSeconds),e}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const FR=new Map;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function gS(t,e,n){if(!n)throw new z(V.INVALID_ARGUMENT,`Function ${t}() cannot be called with an empty ${e}.`)}function hN(t,e,n,r){if(e===!0&&r===!0)throw new z(V.INVALID_ARGUMENT,`${t} and ${n} cannot be used together.`)}function UR(t){if(!K.isDocumentKey(t))throw new z(V.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${t} has ${t.length}.`)}function BR(t){if(K.isDocumentKey(t))throw new z(V.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${t} has ${t.length}.`)}function Vg(t){if(t===void 0)return"undefined";if(t===null)return"null";if(typeof t=="string")return t.length>20&&(t=`${t.substring(0,20)}...`),JSON.stringify(t);if(typeof t=="number"||typeof t=="boolean")return""+t;if(typeof t=="object"){if(t instanceof Array)return"an array";{const e=function(r){return r.constructor?r.constructor.name:null}(t);return e?`a custom ${e} object`:"an object"}}return typeof t=="function"?"a function":X()}function Te(t,e){if("_delegate"in t&&(t=t._delegate),!(t instanceof e)){if(e.name===t.constructor.name)throw new z(V.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const n=Vg(t);throw new z(V.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${n}`)}}return t}function fN(t,e){if(e<=0)throw new z(V.INVALID_ARGUMENT,`Function ${t}() requires a positive number, but it was: ${e}.`)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $R{constructor(e){var n,r;if(e.host===void 0){if(e.ssl!==void 0)throw new z(V.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host="firestore.googleapis.com",this.ssl=!0}else this.host=e.host,this.ssl=(n=e.ssl)===null||n===void 0||n;if(this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=41943040;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<1048576)throw new z(V.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}hN("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=dN((r=e.experimentalLongPollingOptions)!==null&&r!==void 0?r:{}),function(s){if(s.timeoutSeconds!==void 0){if(isNaN(s.timeoutSeconds))throw new z(V.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (must not be NaN)`);if(s.timeoutSeconds<5)throw new z(V.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (minimum allowed value is 5)`);if(s.timeoutSeconds>30)throw new z(V.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (maximum allowed value is 30)`)}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&function(r,i){return r.timeoutSeconds===i.timeoutSeconds}(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class bh{constructor(e,n,r,i){this._authCredentials=e,this._appCheckCredentials=n,this._databaseId=r,this._app=i,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new $R({}),this._settingsFrozen=!1}get app(){if(!this._app)throw new z(V.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!==void 0}_setSettings(e){if(this._settingsFrozen)throw new z(V.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new $R(e),e.credentials!==void 0&&(this._authCredentials=function(r){if(!r)return new W8;switch(r.type){case"firstParty":return new K8(r.sessionIndex||"0",r.iamToken||null,r.authTokenFactory||null);case"provider":return r.client;default:throw new z(V.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask||(this._terminateTask=this._terminate()),this._terminateTask}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(n){const r=FR.get(n);r&&(j("ComponentProvider","Removing Datastore"),FR.delete(n),r.terminate())}(this),Promise.resolve()}}function JH(t,e,n,r={}){var i;const s=(t=Te(t,bh))._getSettings(),o=`${e}:${n}`;if(s.host!=="firestore.googleapis.com"&&s.host!==o&&Fr("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used."),t._setSettings(Object.assign(Object.assign({},s),{host:o,ssl:!1})),r.mockUserToken){let a,l;if(typeof r.mockUserToken=="string")a=r.mockUserToken,l=zt.MOCK_USER;else{a=Y$(r.mockUserToken,(i=t._app)===null||i===void 0?void 0:i.options.projectId);const u=r.mockUserToken.sub||r.mockUserToken.user_id;if(!u)throw new z(V.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");l=new zt(u)}t._authCredentials=new q8(new EO(a,l))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let bn=class pN{constructor(e,n,r){this.converter=n,this._query=r,this.type="query",this.firestore=e}withConverter(e){return new pN(this.firestore,e,this._query)}},ot=class mN{constructor(e,n,r){this.converter=n,this._key=r,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new qs(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new mN(this.firestore,e,this._key)}},qs=class gN extends bn{constructor(e,n,r){super(e,n,Eu(r)),this._path=r,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new ot(this.firestore,null,new K(e))}withConverter(e){return new gN(this.firestore,e,this._path)}};function yN(t,e,...n){if(t=ie(t),gS("collection","path",e),t instanceof bh){const r=ye.fromString(e,...n);return BR(r),new qs(t,null,r)}{if(!(t instanceof ot||t instanceof qs))throw new z(V.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=t._path.child(ye.fromString(e,...n));return BR(r),new qs(t.firestore,null,r)}}function XH(t,e){if(t=Te(t,bh),gS("collectionGroup","collection id",e),e.indexOf("/")>=0)throw new z(V.INVALID_ARGUMENT,`Invalid collection ID '${e}' passed to function collectionGroup(). Collection IDs must not contain '/'.`);return new bn(t,null,function(r){return new ss(ye.emptyPath(),r)}(e))}function _m(t,e,...n){if(t=ie(t),arguments.length===1&&(e=SO.newId()),gS("doc","path",e),t instanceof bh){const r=ye.fromString(e,...n);return UR(r),new ot(t,null,new K(r))}{if(!(t instanceof ot||t instanceof qs))throw new z(V.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=t._path.child(ye.fromString(e,...n));return UR(r),new ot(t.firestore,t instanceof qs?t.converter:null,new K(r))}}function _N(t,e){return t=ie(t),e=ie(e),(t instanceof ot||t instanceof qs)&&(e instanceof ot||e instanceof qs)&&t.firestore===e.firestore&&t.path===e.path&&t.converter===e.converter}function vN(t,e){return t=ie(t),e=ie(e),t instanceof bn&&e instanceof bn&&t.firestore===e.firestore&&_h(t._query,e._query)&&t.converter===e.converter}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ZH{constructor(){this.au=Promise.resolve(),this.uu=[],this.cu=!1,this.lu=[],this.hu=null,this.Pu=!1,this.Iu=!1,this.Tu=[],this.t_=new XE(this,"async_queue_retry"),this.Eu=()=>{const n=op();n&&j("AsyncQueue","Visibility state changed to "+n.visibilityState),this.t_.jo()};const e=op();e&&typeof e.addEventListener=="function"&&e.addEventListener("visibilitychange",this.Eu)}get isShuttingDown(){return this.cu}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.du(),this.Au(e)}enterRestrictedMode(e){if(!this.cu){this.cu=!0,this.Iu=e||!1;const n=op();n&&typeof n.removeEventListener=="function"&&n.removeEventListener("visibilitychange",this.Eu)}}enqueue(e){if(this.du(),this.cu)return new Promise(()=>{});const n=new qt;return this.Au(()=>this.cu&&this.Iu?Promise.resolve():(e().then(n.resolve,n.reject),n.promise)).then(()=>n.promise)}enqueueRetryable(e){this.enqueueAndForget(()=>(this.uu.push(e),this.Ru()))}async Ru(){if(this.uu.length!==0){try{await this.uu[0](),this.uu.shift(),this.t_.reset()}catch(e){if(!_o(e))throw e;j("AsyncQueue","Operation failed with retryable error: "+e)}this.uu.length>0&&this.t_.Go(()=>this.Ru())}}Au(e){const n=this.au.then(()=>(this.Pu=!0,e().catch(r=>{this.hu=r,this.Pu=!1;const i=function(o){let a=o.message||"";return o.stack&&(a=o.stack.includes(o.message)?o.stack:o.message+`
`+o.stack),a}(r);throw It("INTERNAL UNHANDLED ERROR: ",i),r}).then(r=>(this.Pu=!1,r))));return this.au=n,n}enqueueAfterDelay(e,n,r){this.du(),this.Tu.indexOf(e)>-1&&(n=0);const i=nS.createAndSchedule(this,e,n,r,s=>this.Vu(s));return this.lu.push(i),i}du(){this.hu&&X()}verifyOperationInProgress(){}async mu(){let e;do e=this.au,await e;while(e!==this.au)}fu(e){for(const n of this.lu)if(n.timerId===e)return!0;return!1}gu(e){return this.mu().then(()=>{this.lu.sort((n,r)=>n.targetTimeMs-r.targetTimeMs);for(const n of this.lu)if(n.skipDelay(),e!=="all"&&n.timerId===e)break;return this.mu()})}pu(e){this.Tu.push(e)}Vu(e){const n=this.lu.indexOf(e);this.lu.splice(n,1)}}function _0(t){return function(n,r){if(typeof n!="object"||n===null)return!1;const i=n;for(const s of r)if(s in i&&typeof i[s]=="function")return!0;return!1}(t,["next","error","complete"])}class eG{constructor(){this._progressObserver={},this._taskCompletionResolver=new qt,this._lastProgress={taskState:"Running",totalBytes:0,totalDocuments:0,bytesLoaded:0,documentsLoaded:0}}onProgress(e,n,r){this._progressObserver={next:e,error:n,complete:r}}catch(e){return this._taskCompletionResolver.promise.catch(e)}then(e,n){return this._taskCompletionResolver.promise.then(e,n)}_completeWith(e){this._updateProgress(e),this._progressObserver.complete&&this._progressObserver.complete(),this._taskCompletionResolver.resolve(e)}_failWith(e){this._lastProgress.taskState="Error",this._progressObserver.next&&this._progressObserver.next(this._lastProgress),this._progressObserver.error&&this._progressObserver.error(e),this._taskCompletionResolver.reject(e)}_updateProgress(e){this._lastProgress=e,this._progressObserver.next&&this._progressObserver.next(e)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const tG=-1;let yt=class extends bh{constructor(e,n,r,i){super(e,n,r,i),this.type="firestore",this._queue=function(){return new ZH}(),this._persistenceKey=(i==null?void 0:i.name)||"[DEFAULT]"}_terminate(){return this._firestoreClient||wN(this),this._firestoreClient.terminate()}};function Gt(t){return t._firestoreClient||wN(t),t._firestoreClient.verifyNotTerminated(),t._firestoreClient}function wN(t){var e,n,r;const i=t._freezeSettings(),s=function(a,l,u,d){return new Tq(a,l,u,d.host,d.ssl,d.experimentalForceLongPolling,d.experimentalAutoDetectLongPolling,dN(d.experimentalLongPollingOptions),d.useFetchStreams)}(t._databaseId,((e=t._app)===null||e===void 0?void 0:e.options.appId)||"",t._persistenceKey,i);t._firestoreClient=new zH(t._authCredentials,t._appCheckCredentials,t._queue,s),!((n=i.localCache)===null||n===void 0)&&n._offlineComponentProvider&&(!((r=i.localCache)===null||r===void 0)&&r._onlineComponentProvider)&&(t._firestoreClient._uninitializedComponentsProvider={_offlineKind:i.localCache.kind,_offline:i.localCache._offlineComponentProvider,_online:i.localCache._onlineComponentProvider})}function nG(t,e){SN(t=Te(t,yt));const n=Gt(t);if(n._uninitializedComponentsProvider)throw new z(V.FAILED_PRECONDITION,"SDK cache is already specified.");Fr("enableIndexedDbPersistence() will be deprecated in the future, you can use `FirestoreSettings.cache` instead.");const r=t._freezeSettings(),i=new hS;return EN(n,i,new sN(i,r.cacheSizeBytes,e==null?void 0:e.forceOwnership))}function rG(t){SN(t=Te(t,yt));const e=Gt(t);if(e._uninitializedComponentsProvider)throw new z(V.FAILED_PRECONDITION,"SDK cache is already specified.");Fr("enableMultiTabIndexedDbPersistence() will be deprecated in the future, you can use `FirestoreSettings.cache` instead.");const n=t._freezeSettings(),r=new hS;return EN(e,r,new FH(r,n.cacheSizeBytes))}function EN(t,e,n){const r=new qt;return t.asyncQueue.enqueue(async()=>{try{await ap(t,n),await y0(t,e),r.resolve()}catch(i){const s=i;if(!oN(s))throw s;Fr("Error enabling indexeddb cache. Falling back to memory cache: "+s),r.reject(s)}}).then(()=>r.promise)}function iG(t){if(t._initialized&&!t._terminated)throw new z(V.FAILED_PRECONDITION,"Persistence can only be cleared before a Firestore instance is initialized or after it is terminated.");const e=new qt;return t._queue.enqueueAndForgetEvenWhileRestricted(async()=>{try{await async function(r){if(!ci.D())return Promise.resolve();const i=r+"main";await ci.delete(i)}(YE(t._databaseId,t._persistenceKey)),e.resolve()}catch(n){e.reject(n)}}),e.promise}function sG(t){return function(n){const r=new qt;return n.asyncQueue.enqueueAndForget(async()=>RH(await mS(n),r)),r.promise}(Gt(t=Te(t,yt)))}function oG(t){return WH(Gt(t=Te(t,yt)))}function aG(t){return qH(Gt(t=Te(t,yt)))}function lG(t,e){const n=Gt(t=Te(t,yt)),r=new eG;return YH(n,t._databaseId,e,r),r}function uG(t,e){return QH(Gt(t=Te(t,yt)),e).then(n=>n?new bn(t,null,n.query):null)}function SN(t){if(t._initialized||t._terminated)throw new z(V.FAILED_PRECONDITION,"Firestore has already been started and persistence can no longer be enabled. You can only enable persistence before calling any other methods on a Firestore object.")}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mi{constructor(e){this._byteString=e}static fromBase64String(e){try{return new mi(gt.fromBase64String(e))}catch(n){throw new z(V.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+n)}}static fromUint8Array(e){return new mi(gt.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let ao=class{constructor(...e){for(let n=0;n<e.length;++n)if(e[n].length===0)throw new z(V.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new Ze(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let ba=class{constructor(e){this._methodName=e}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Fg{constructor(e,n){if(!isFinite(e)||e<-90||e>90)throw new z(V.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(n)||n<-180||n>180)throw new z(V.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+n);this._lat=e,this._long=n}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(e){return ae(this._lat,e._lat)||ae(this._long,e._long)}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yS{constructor(e){this._values=(e||[]).map(n=>n)}toArray(){return this._values.map(e=>e)}isEqual(e){return function(r,i){if(r.length!==i.length)return!1;for(let s=0;s<r.length;++s)if(r[s]!==i[s])return!1;return!0}(this._values,e._values)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const cG=/^__.*__$/;class dG{constructor(e,n,r){this.data=e,this.fieldMask=n,this.fieldTransforms=r}toMutation(e,n){return this.fieldMask!==null?new os(e,this.data,this.fieldMask,n,this.fieldTransforms):new Su(e,this.data,n,this.fieldTransforms)}}class IN{constructor(e,n,r){this.data=e,this.fieldMask=n,this.fieldTransforms=r}toMutation(e,n){return new os(e,this.data,this.fieldMask,n,this.fieldTransforms)}}function TN(t){switch(t){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw X()}}class Ug{constructor(e,n,r,i,s,o){this.settings=e,this.databaseId=n,this.serializer=r,this.ignoreUndefinedProperties=i,s===void 0&&this.yu(),this.fieldTransforms=s||[],this.fieldMask=o||[]}get path(){return this.settings.path}get wu(){return this.settings.wu}Su(e){return new Ug(Object.assign(Object.assign({},this.settings),e),this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}bu(e){var n;const r=(n=this.path)===null||n===void 0?void 0:n.child(e),i=this.Su({path:r,Du:!1});return i.vu(e),i}Cu(e){var n;const r=(n=this.path)===null||n===void 0?void 0:n.child(e),i=this.Su({path:r,Du:!1});return i.yu(),i}Fu(e){return this.Su({path:void 0,Du:!0})}Mu(e){return vm(e,this.settings.methodName,this.settings.xu||!1,this.path,this.settings.Ou)}contains(e){return this.fieldMask.find(n=>e.isPrefixOf(n))!==void 0||this.fieldTransforms.find(n=>e.isPrefixOf(n.field))!==void 0}yu(){if(this.path)for(let e=0;e<this.path.length;e++)this.vu(this.path.get(e))}vu(e){if(e.length===0)throw this.Mu("Document fields must not be empty");if(TN(this.wu)&&cG.test(e))throw this.Mu('Document fields cannot begin and end with "__"')}}class hG{constructor(e,n,r){this.databaseId=e,this.ignoreUndefinedProperties=n,this.serializer=r||Ih(e)}Nu(e,n,r,i=!1){return new Ug({wu:e,methodName:n,Ou:r,path:Ze.emptyPath(),Du:!1,xu:i},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function Ra(t){const e=t._freezeSettings(),n=Ih(t._databaseId);return new hG(t._databaseId,!!e.ignoreUndefinedProperties,n)}function Bg(t,e,n,r,i,s={}){const o=t.Nu(s.merge||s.mergeFields?2:0,e,n,i);TS("Data must be an object, but it was:",o,r);const a=AN(r,o);let l,u;if(s.merge)l=new Nn(o.fieldMask),u=o.fieldTransforms;else if(s.mergeFields){const d=[];for(const h of s.mergeFields){const f=v0(e,h,n);if(!o.contains(f))throw new z(V.INVALID_ARGUMENT,`Field '${f}' is specified in your field mask but missing from your input data.`);kN(d,f)||d.push(f)}l=new Nn(d),u=o.fieldTransforms.filter(h=>l.covers(h.field))}else l=null,u=o.fieldTransforms;return new dG(new Xt(a),l,u)}class Rh extends ba{_toFieldTransform(e){if(e.wu!==2)throw e.wu===1?e.Mu(`${this._methodName}() can only appear at the top level of your update data`):e.Mu(`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return e.fieldMask.push(e.path),null}isEqual(e){return e instanceof Rh}}function bN(t,e,n){return new Ug({wu:3,Ou:e.settings.Ou,methodName:t._methodName,Du:n},e.databaseId,e.serializer,e.ignoreUndefinedProperties)}class _S extends ba{_toFieldTransform(e){return new wh(e.path,new Yl)}isEqual(e){return e instanceof _S}}class vS extends ba{constructor(e,n){super(e),this.Lu=n}_toFieldTransform(e){const n=bN(this,e,!0),r=this.Lu.map(s=>Aa(s,n)),i=new ha(r);return new wh(e.path,i)}isEqual(e){return e instanceof vS&&Bl(this.Lu,e.Lu)}}class wS extends ba{constructor(e,n){super(e),this.Lu=n}_toFieldTransform(e){const n=bN(this,e,!0),r=this.Lu.map(s=>Aa(s,n)),i=new fa(r);return new wh(e.path,i)}isEqual(e){return e instanceof wS&&Bl(this.Lu,e.Lu)}}class ES extends ba{constructor(e,n){super(e),this.Bu=n}_toFieldTransform(e){const n=new Ql(e.serializer,eD(e.serializer,this.Bu));return new wh(e.path,n)}isEqual(e){return e instanceof ES&&this.Bu===e.Bu}}function SS(t,e,n,r){const i=t.Nu(1,e,n);TS("Data must be an object, but it was:",i,r);const s=[],o=Xt.empty();Ta(r,(l,u)=>{const d=bS(e,l,n);u=ie(u);const h=i.Cu(d);if(u instanceof Rh)s.push(d);else{const f=Aa(u,h);f!=null&&(s.push(d),o.set(d,f))}});const a=new Nn(s);return new IN(o,a,i.fieldTransforms)}function IS(t,e,n,r,i,s){const o=t.Nu(1,e,n),a=[v0(e,r,n)],l=[i];if(s.length%2!=0)throw new z(V.INVALID_ARGUMENT,`Function ${e}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let f=0;f<s.length;f+=2)a.push(v0(e,s[f])),l.push(s[f+1]);const u=[],d=Xt.empty();for(let f=a.length-1;f>=0;--f)if(!kN(u,a[f])){const g=a[f];let _=l[f];_=ie(_);const v=o.Cu(g);if(_ instanceof Rh)u.push(g);else{const T=Aa(_,v);T!=null&&(u.push(g),d.set(g,T))}}const h=new Nn(u);return new IN(d,h,o.fieldTransforms)}function RN(t,e,n,r=!1){return Aa(n,t.Nu(r?4:3,e))}function Aa(t,e){if(PN(t=ie(t)))return TS("Unsupported field value:",e,t),AN(t,e);if(t instanceof ba)return function(r,i){if(!TN(i.wu))throw i.Mu(`${r._methodName}() can only be used with update() and set()`);if(!i.path)throw i.Mu(`${r._methodName}() is not currently supported inside arrays`);const s=r._toFieldTransform(i);s&&i.fieldTransforms.push(s)}(t,e),null;if(t===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),t instanceof Array){if(e.settings.Du&&e.wu!==4)throw e.Mu("Nested arrays are not supported");return function(r,i){const s=[];let o=0;for(const a of r){let l=Aa(a,i.Fu(o));l==null&&(l={nullValue:"NULL_VALUE"}),s.push(l),o++}return{arrayValue:{values:s}}}(t,e)}return function(r,i){if((r=ie(r))===null)return{nullValue:"NULL_VALUE"};if(typeof r=="number")return eD(i.serializer,r);if(typeof r=="boolean")return{booleanValue:r};if(typeof r=="string")return{stringValue:r};if(r instanceof Date){const s=tt.fromDate(r);return{timestampValue:Jl(i.serializer,s)}}if(r instanceof tt){const s=new tt(r.seconds,1e3*Math.floor(r.nanoseconds/1e3));return{timestampValue:Jl(i.serializer,s)}}if(r instanceof Fg)return{geoPointValue:{latitude:r.latitude,longitude:r.longitude}};if(r instanceof mi)return{bytesValue:hD(i.serializer,r._byteString)};if(r instanceof ot){const s=i.databaseId,o=r.firestore._databaseId;if(!o.isEqual(s))throw i.Mu(`Document reference is for database ${o.projectId}/${o.database} but should be for database ${s.projectId}/${s.database}`);return{referenceValue:jE(r.firestore._databaseId||i.databaseId,r._key.path)}}if(r instanceof yS)return function(o,a){return{mapValue:{fields:{__type__:{stringValue:"__vector__"},value:{arrayValue:{values:o.toArray().map(l=>{if(typeof l!="number")throw a.Mu("VectorValues must only contain numeric values.");return VE(a.serializer,l)})}}}}}}(r,i);throw i.Mu(`Unsupported field value: ${Vg(r)}`)}(t,e)}function AN(t,e){const n={};return NO(t)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):Ta(t,(r,i)=>{const s=Aa(i,e.bu(r));s!=null&&(n[r]=s)}),{mapValue:{fields:n}}}function PN(t){return!(typeof t!="object"||t===null||t instanceof Array||t instanceof Date||t instanceof tt||t instanceof Fg||t instanceof mi||t instanceof ot||t instanceof ba||t instanceof yS)}function TS(t,e,n){if(!PN(n)||!function(i){return typeof i=="object"&&i!==null&&(Object.getPrototypeOf(i)===Object.prototype||Object.getPrototypeOf(i)===null)}(n)){const r=Vg(n);throw r==="an object"?e.Mu(t+" a custom object"):e.Mu(t+" "+r)}}function v0(t,e,n){if((e=ie(e))instanceof ao)return e._internalPath;if(typeof e=="string")return bS(t,e);throw vm("Field path arguments must be of type string or ",t,!1,void 0,n)}const fG=new RegExp("[~\\*/\\[\\]]");function bS(t,e,n){if(e.search(fG)>=0)throw vm(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,t,!1,void 0,n);try{return new ao(...e.split("."))._internalPath}catch{throw vm(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,t,!1,void 0,n)}}function vm(t,e,n,r,i){const s=r&&!r.isEmpty(),o=i!==void 0;let a=`Function ${e}() called with invalid data`;n&&(a+=" (via `toFirestore()`)"),a+=". ";let l="";return(s||o)&&(l+=" (found",s&&(l+=` in field ${r}`),o&&(l+=` in document ${i}`),l+=")"),new z(V.INVALID_ARGUMENT,a+t+l)}function kN(t,e){return t.some(n=>n.isEqual(e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Fd{constructor(e,n,r,i,s){this._firestore=e,this._userDataWriter=n,this._key=r,this._document=i,this._converter=s}get id(){return this._key.path.lastSegment()}get ref(){return new ot(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const e=new pG(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const n=this._document.data.field($g("DocumentSnapshot.get",e));if(n!==null)return this._userDataWriter.convertValue(n)}}}class pG extends Fd{data(){return super.data()}}function $g(t,e){return typeof e=="string"?bS(t,e):e instanceof ao?e._internalPath:e._delegate._internalPath}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function CN(t){if(t.limitType==="L"&&t.explicitOrderBy.length===0)throw new z(V.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class RS{}class Ah extends RS{}function ws(t,e,...n){let r=[];e instanceof RS&&r.push(e),r=r.concat(n),function(s){const o=s.filter(l=>l instanceof AS).length,a=s.filter(l=>l instanceof zg).length;if(o>1||o>0&&a>0)throw new z(V.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")}(r);for(const i of r)t=i._apply(t);return t}class zg extends Ah{constructor(e,n,r){super(),this._field=e,this._op=n,this._value=r,this.type="where"}static _create(e,n,r){return new zg(e,n,r)}_apply(e){const n=this._parse(e);return ON(e._query,n),new bn(e.firestore,e.converter,i0(e._query,n))}_parse(e){const n=Ra(e.firestore);return function(s,o,a,l,u,d,h){let f;if(u.isKeyField()){if(d==="array-contains"||d==="array-contains-any")throw new z(V.INVALID_ARGUMENT,`Invalid Query. You can't perform '${d}' queries on documentId().`);if(d==="in"||d==="not-in"){jR(h,d);const g=[];for(const _ of h)g.push(zR(l,s,_));f={arrayValue:{values:g}}}else f=zR(l,s,h)}else d!=="in"&&d!=="not-in"&&d!=="array-contains-any"||jR(h,d),f=RN(a,o,h,d==="in"||d==="not-in");return _e.create(u,d,f)}(e._query,"where",n,e.firestore._databaseId,this._field,this._op,this._value)}}function mG(t,e,n){const r=e,i=$g("where",t);return zg._create(i,r,n)}class AS extends RS{constructor(e,n){super(),this.type=e,this._queryConstraints=n}static _create(e,n){return new AS(e,n)}_parse(e){const n=this._queryConstraints.map(r=>r._parse(e)).filter(r=>r.getFilters().length>0);return n.length===1?n[0]:Oe.create(n,this._getOperator())}_apply(e){const n=this._parse(e);return n.getFilters().length===0?e:(function(i,s){let o=i;const a=s.getFlattenedFilters();for(const l of a)ON(o,l),o=i0(o,l)}(e._query,n),new bn(e.firestore,e.converter,i0(e._query,n)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return this.type==="and"?"and":"or"}}class PS extends Ah{constructor(e,n){super(),this._field=e,this._direction=n,this.type="orderBy"}static _create(e,n){return new PS(e,n)}_apply(e){const n=function(i,s,o){if(i.startAt!==null)throw new z(V.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(i.endAt!==null)throw new z(V.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");return new Md(s,o)}(e._query,this._field,this._direction);return new bn(e.firestore,e.converter,function(i,s){const o=i.explicitOrderBy.concat([s]);return new ss(i.path,i.collectionGroup,o,i.filters.slice(),i.limit,i.limitType,i.startAt,i.endAt)}(e._query,n))}}function gG(t,e="asc"){const n=e,r=$g("orderBy",t);return PS._create(r,n)}class jg extends Ah{constructor(e,n,r){super(),this.type=e,this._limit=n,this._limitType=r}static _create(e,n,r){return new jg(e,n,r)}_apply(e){return new bn(e.firestore,e.converter,cm(e._query,this._limit,this._limitType))}}function yG(t){return fN("limit",t),jg._create("limit",t,"F")}function _G(t){return fN("limitToLast",t),jg._create("limitToLast",t,"L")}class Wg extends Ah{constructor(e,n,r){super(),this.type=e,this._docOrFields=n,this._inclusive=r}static _create(e,n,r){return new Wg(e,n,r)}_apply(e){const n=xN(e,this.type,this._docOrFields,this._inclusive);return new bn(e.firestore,e.converter,function(i,s){return new ss(i.path,i.collectionGroup,i.explicitOrderBy.slice(),i.filters.slice(),i.limit,i.limitType,s,i.endAt)}(e._query,n))}}function vG(...t){return Wg._create("startAt",t,!0)}function wG(...t){return Wg._create("startAfter",t,!1)}class qg extends Ah{constructor(e,n,r){super(),this.type=e,this._docOrFields=n,this._inclusive=r}static _create(e,n,r){return new qg(e,n,r)}_apply(e){const n=xN(e,this.type,this._docOrFields,this._inclusive);return new bn(e.firestore,e.converter,function(i,s){return new ss(i.path,i.collectionGroup,i.explicitOrderBy.slice(),i.filters.slice(),i.limit,i.limitType,i.startAt,s)}(e._query,n))}}function EG(...t){return qg._create("endBefore",t,!1)}function SG(...t){return qg._create("endAt",t,!0)}function xN(t,e,n,r){if(n[0]=ie(n[0]),n[0]instanceof Fd)return function(s,o,a,l,u){if(!l)throw new z(V.NOT_FOUND,`Can't use a DocumentSnapshot that doesn't exist for ${a}().`);const d=[];for(const h of Al(s))if(h.field.isKeyField())d.push(ca(o,l.key));else{const f=l.data.field(h.field);if(Rg(f))throw new z(V.INVALID_ARGUMENT,'Invalid query. You are trying to start or end a query using a document for which the field "'+h.field+'" is an uncommitted server timestamp. (Since the value of this field is unknown, you cannot start/end a query with it.)');if(f===null){const g=h.field.canonicalString();throw new z(V.INVALID_ARGUMENT,`Invalid query. You are trying to start or end a query using a document for which the field '${g}' (used as the orderBy) does not exist.`)}d.push(f)}return new so(d,u)}(t._query,t.firestore._databaseId,e,n[0]._document,r);{const i=Ra(t.firestore);return function(o,a,l,u,d,h){const f=o.explicitOrderBy;if(d.length>f.length)throw new z(V.INVALID_ARGUMENT,`Too many arguments provided to ${u}(). The number of arguments must be less than or equal to the number of orderBy() clauses`);const g=[];for(let _=0;_<d.length;_++){const v=d[_];if(f[_].field.isKeyField()){if(typeof v!="string")throw new z(V.INVALID_ARGUMENT,`Invalid query. Expected a string for document ID in ${u}(), but got a ${typeof v}`);if(!ME(o)&&v.indexOf("/")!==-1)throw new z(V.INVALID_ARGUMENT,`Invalid query. When querying a collection and ordering by documentId(), the value passed to ${u}() must be a plain document ID, but '${v}' contains a slash.`);const T=o.path.child(ye.fromString(v));if(!K.isDocumentKey(T))throw new z(V.INVALID_ARGUMENT,`Invalid query. When querying a collection group and ordering by documentId(), the value passed to ${u}() must result in a valid document path, but '${T}' is not because it contains an odd number of segments.`);const I=new K(T);g.push(ca(a,I))}else{const T=RN(l,u,v);g.push(T)}}return new so(g,h)}(t._query,t.firestore._databaseId,i,e,n,r)}}function zR(t,e,n){if(typeof(n=ie(n))=="string"){if(n==="")throw new z(V.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!ME(e)&&n.indexOf("/")!==-1)throw new z(V.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${n}' contains a '/' character.`);const r=e.path.child(ye.fromString(n));if(!K.isDocumentKey(r))throw new z(V.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${r}' is not because it has an odd number of segments (${r.length}).`);return ca(t,new K(r))}if(n instanceof ot)return ca(t,n._key);throw new z(V.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${Vg(n)}.`)}function jR(t,e){if(!Array.isArray(t)||t.length===0)throw new z(V.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${e.toString()}' filters.`)}function ON(t,e){const n=function(i,s){for(const o of i)for(const a of o.getFlattenedFilters())if(s.indexOf(a.op)>=0)return a.op;return null}(t.filters,function(i){switch(i){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}}(e.op));if(n!==null)throw n===e.op?new z(V.INVALID_ARGUMENT,`Invalid query. You cannot use more than one '${e.op.toString()}' filter.`):new z(V.INVALID_ARGUMENT,`Invalid query. You cannot use '${e.op.toString()}' filters with '${n.toString()}' filters.`)}class kS{convertValue(e,n="none"){switch(ua(e)){case 0:return null;case 1:return e.booleanValue;case 2:return Je(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,n);case 5:return e.stringValue;case 6:return this.convertBytes(no(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,n);case 11:return this.convertObject(e.mapValue,n);case 10:return this.convertVectorValue(e.mapValue);default:throw X()}}convertObject(e,n){return this.convertObjectMap(e.fields,n)}convertObjectMap(e,n="none"){const r={};return Ta(e,(i,s)=>{r[i]=this.convertValue(s,n)}),r}convertVectorValue(e){var n,r,i;const s=(i=(r=(n=e.fields)===null||n===void 0?void 0:n.value.arrayValue)===null||r===void 0?void 0:r.values)===null||i===void 0?void 0:i.map(o=>Je(o.doubleValue));return new yS(s)}convertGeoPoint(e){return new Fg(Je(e.latitude),Je(e.longitude))}convertArray(e,n){return(e.values||[]).map(r=>this.convertValue(r,n))}convertServerTimestamp(e,n){switch(n){case"previous":const r=DE(e);return r==null?null:this.convertValue(r,n);case"estimate":return this.convertTimestamp(Od(e));default:return null}}convertTimestamp(e){const n=Xi(e);return new tt(n.seconds,n.nanos)}convertDocumentKey(e,n){const r=ye.fromString(e);te(ID(r));const i=new ro(r.get(1),r.get(3)),s=new K(r.popFirst(5));return i.isEqual(n)||It(`Document ${s} contains a document reference within a different database (${i.projectId}/${i.database}) which is not supported. It will be treated as a reference in the current database (${n.projectId}/${n.database}) instead.`),s}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Hg(t,e,n){let r;return r=t?n&&(n.merge||n.mergeFields)?t.toFirestore(e,n):t.toFirestore(e):e,r}class IG extends kS{constructor(e){super(),this.firestore=e}convertBytes(e){return new mi(e)}convertReference(e){const n=this.convertDocumentKey(e,this.firestore._databaseId);return new ot(this.firestore,null,n)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qo{constructor(e,n){this.hasPendingWrites=e,this.fromCache=n}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}let Zi=class extends Fd{constructor(e,n,r,i,s,o){super(e,n,r,i,o),this._firestore=e,this._firestoreImpl=e,this.metadata=s}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const n=new Yc(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(n,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,n={}){if(this._document){const r=this._document.data.field($g("DocumentSnapshot.get",e));if(r!==null)return this._userDataWriter.convertValue(r,n.serverTimestamps)}}},Yc=class extends Zi{data(e={}){return super.data(e)}},lo=class{constructor(e,n,r,i){this._firestore=e,this._userDataWriter=n,this._snapshot=i,this.metadata=new qo(i.hasPendingWrites,i.fromCache),this.query=r}get docs(){const e=[];return this.forEach(n=>e.push(n)),e}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(e,n){this._snapshot.docs.forEach(r=>{e.call(n,new Yc(this._firestore,this._userDataWriter,r.key,r,new qo(this._snapshot.mutatedKeys.has(r.key),this._snapshot.fromCache),this.query.converter))})}docChanges(e={}){const n=!!e.includeMetadataChanges;if(n&&this._snapshot.excludesMetadataChanges)throw new z(V.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===n||(this._cachedChanges=function(i,s){if(i._snapshot.oldDocs.isEmpty()){let o=0;return i._snapshot.docChanges.map(a=>{const l=new Yc(i._firestore,i._userDataWriter,a.doc.key,a.doc,new qo(i._snapshot.mutatedKeys.has(a.doc.key),i._snapshot.fromCache),i.query.converter);return a.doc,{type:"added",doc:l,oldIndex:-1,newIndex:o++}})}{let o=i._snapshot.oldDocs;return i._snapshot.docChanges.filter(a=>s||a.type!==3).map(a=>{const l=new Yc(i._firestore,i._userDataWriter,a.doc.key,a.doc,new qo(i._snapshot.mutatedKeys.has(a.doc.key),i._snapshot.fromCache),i.query.converter);let u=-1,d=-1;return a.type!==0&&(u=o.indexOf(a.doc.key),o=o.delete(a.doc.key)),a.type!==1&&(o=o.add(a.doc),d=o.indexOf(a.doc.key)),{type:TG(a.type),doc:l,oldIndex:u,newIndex:d}})}}(this,n),this._cachedChangesIncludeMetadataChanges=n),this._cachedChanges}};function TG(t){switch(t){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return X()}}function DN(t,e){return t instanceof Zi&&e instanceof Zi?t._firestore===e._firestore&&t._key.isEqual(e._key)&&(t._document===null?e._document===null:t._document.isEqual(e._document))&&t._converter===e._converter:t instanceof lo&&e instanceof lo&&t._firestore===e._firestore&&vN(t.query,e.query)&&t.metadata.isEqual(e.metadata)&&t._snapshot.isEqual(e._snapshot)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function bG(t){t=Te(t,ot);const e=Te(t.firestore,yt);return uN(Gt(e),t._key).then(n=>CS(e,t,n))}class Pa extends kS{constructor(e){super(),this.firestore=e}convertBytes(e){return new mi(e)}convertReference(e){const n=this.convertDocumentKey(e,this.firestore._databaseId);return new ot(this.firestore,null,n)}}function RG(t){t=Te(t,ot);const e=Te(t.firestore,yt),n=Gt(e),r=new Pa(e);return HH(n,t._key).then(i=>new Zi(e,r,t._key,i,new qo(i!==null&&i.hasLocalMutations,!0),t.converter))}function AG(t){t=Te(t,ot);const e=Te(t.firestore,yt);return uN(Gt(e),t._key,{source:"server"}).then(n=>CS(e,t,n))}function PG(t){t=Te(t,bn);const e=Te(t.firestore,yt),n=Gt(e),r=new Pa(e);return CN(t._query),cN(n,t._query).then(i=>new lo(e,r,t,i))}function kG(t){t=Te(t,bn);const e=Te(t.firestore,yt),n=Gt(e),r=new Pa(e);return GH(n,t._query).then(i=>new lo(e,r,t,i))}function CG(t){t=Te(t,bn);const e=Te(t.firestore,yt),n=Gt(e),r=new Pa(e);return cN(n,t._query,{source:"server"}).then(i=>new lo(e,r,t,i))}function WR(t,e,n){t=Te(t,ot);const r=Te(t.firestore,yt),i=Hg(t.converter,e,n);return Ph(r,[Bg(Ra(r),"setDoc",t._key,i,t.converter!==null,n).toMutation(t._key,et.none())])}function qR(t,e,n,...r){t=Te(t,ot);const i=Te(t.firestore,yt),s=Ra(i);let o;return o=typeof(e=ie(e))=="string"||e instanceof ao?IS(s,"updateDoc",t._key,e,n,r):SS(s,"updateDoc",t._key,e),Ph(i,[o.toMutation(t._key,et.exists(!0))])}function xG(t){return Ph(Te(t.firestore,yt),[new Iu(t._key,et.none())])}function OG(t,e){const n=Te(t.firestore,yt),r=_m(t),i=Hg(t.converter,e);return Ph(n,[Bg(Ra(t.firestore),"addDoc",r._key,i,t.converter!==null,{}).toMutation(r._key,et.exists(!1))]).then(()=>r)}function NN(t,...e){var n,r,i;t=ie(t);let s={includeMetadataChanges:!1,source:"default"},o=0;typeof e[o]!="object"||_0(e[o])||(s=e[o],o++);const a={includeMetadataChanges:s.includeMetadataChanges,source:s.source};if(_0(e[o])){const h=e[o];e[o]=(n=h.next)===null||n===void 0?void 0:n.bind(h),e[o+1]=(r=h.error)===null||r===void 0?void 0:r.bind(h),e[o+2]=(i=h.complete)===null||i===void 0?void 0:i.bind(h)}let l,u,d;if(t instanceof ot)u=Te(t.firestore,yt),d=Eu(t._key.path),l={next:h=>{e[o]&&e[o](CS(u,t,h))},error:e[o+1],complete:e[o+2]};else{const h=Te(t,bn);u=Te(h.firestore,yt),d=h._query;const f=new Pa(u);l={next:g=>{e[o]&&e[o](new lo(u,f,h,g))},error:e[o+1],complete:e[o+2]},CN(t._query)}return function(f,g,_,v){const T=new Mg(v),I=new oS(g,T,_);return f.asyncQueue.enqueueAndForget(async()=>rS(await ru(f),I)),()=>{T.za(),f.asyncQueue.enqueueAndForget(async()=>iS(await ru(f),I))}}(Gt(u),d,a,l)}function DG(t,e){return KH(Gt(t=Te(t,yt)),_0(e)?e:{next:e})}function Ph(t,e){return function(r,i){const s=new qt;return r.asyncQueue.enqueueAndForget(async()=>SH(await mS(r),i,s)),s.promise}(Gt(t),e)}function CS(t,e,n){const r=n.docs.get(e._key),i=new Pa(t);return new Zi(t,i,e._key,r,new qo(n.hasPendingWrites,n.fromCache),e.converter)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const NG={maxAttempts:5};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let MG=class{constructor(e,n){this._firestore=e,this._commitHandler=n,this._mutations=[],this._committed=!1,this._dataReader=Ra(e)}set(e,n,r){this._verifyNotCommitted();const i=As(e,this._firestore),s=Hg(i.converter,n,r),o=Bg(this._dataReader,"WriteBatch.set",i._key,s,i.converter!==null,r);return this._mutations.push(o.toMutation(i._key,et.none())),this}update(e,n,r,...i){this._verifyNotCommitted();const s=As(e,this._firestore);let o;return o=typeof(n=ie(n))=="string"||n instanceof ao?IS(this._dataReader,"WriteBatch.update",s._key,n,r,i):SS(this._dataReader,"WriteBatch.update",s._key,n),this._mutations.push(o.toMutation(s._key,et.exists(!0))),this}delete(e){this._verifyNotCommitted();const n=As(e,this._firestore);return this._mutations=this._mutations.concat(new Iu(n._key,et.none())),this}commit(){return this._verifyNotCommitted(),this._committed=!0,this._mutations.length>0?this._commitHandler(this._mutations):Promise.resolve()}_verifyNotCommitted(){if(this._committed)throw new z(V.FAILED_PRECONDITION,"A write batch can no longer be used after commit() has been called.")}};function As(t,e){if((t=ie(t)).firestore!==e)throw new z(V.INVALID_ARGUMENT,"Provided document reference is from a different Firestore instance.");return t}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let LG=class extends class{constructor(n,r){this._firestore=n,this._transaction=r,this._dataReader=Ra(n)}get(n){const r=As(n,this._firestore),i=new IG(this._firestore);return this._transaction.lookup([r._key]).then(s=>{if(!s||s.length!==1)return X();const o=s[0];if(o.isFoundDocument())return new Fd(this._firestore,i,o.key,o,r.converter);if(o.isNoDocument())return new Fd(this._firestore,i,r._key,null,r.converter);throw X()})}set(n,r,i){const s=As(n,this._firestore),o=Hg(s.converter,r,i),a=Bg(this._dataReader,"Transaction.set",s._key,o,s.converter!==null,i);return this._transaction.set(s._key,a),this}update(n,r,i,...s){const o=As(n,this._firestore);let a;return a=typeof(r=ie(r))=="string"||r instanceof ao?IS(this._dataReader,"Transaction.update",o._key,r,i,s):SS(this._dataReader,"Transaction.update",o._key,r),this._transaction.update(o._key,a),this}delete(n){const r=As(n,this._firestore);return this._transaction.delete(r._key),this}}{constructor(e,n){super(e,n),this._firestore=e}get(e){const n=As(e,this._firestore),r=new Pa(this._firestore);return super.get(e).then(i=>new Zi(this._firestore,r,n._key,i._document,new qo(!1,!1),n.converter))}};function VG(t,e,n){t=Te(t,yt);const r=Object.assign(Object.assign({},NG),n);return function(s){if(s.maxAttempts<1)throw new z(V.INVALID_ARGUMENT,"Max attempts must be at least 1")}(r),function(s,o,a){const l=new qt;return s.asyncQueue.enqueueAndForget(async()=>{const u=await jH(s);new $H(s.asyncQueue,u,a,o,l).ru()}),l.promise}(Gt(t),i=>e(new LG(t,i)),r)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function FG(){return new Rh("deleteField")}function UG(){return new _S("serverTimestamp")}function BG(...t){return new vS("arrayUnion",t)}function $G(...t){return new wS("arrayRemove",t)}function zG(t){return new ES("increment",t)}(function(e,n=!0){(function(i){wu=i})(mo),Zs(new hi("firestore",(r,{instanceIdentifier:i,options:s})=>{const o=r.getProvider("app").getImmediate(),a=new yt(new H8(r.getProvider("auth-internal")),new Q8(r.getProvider("app-check-internal")),function(u,d){if(!Object.prototype.hasOwnProperty.apply(u.options,["projectId"]))throw new z(V.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new ro(u.options.projectId,d)}(o,i),o);return s=Object.assign({useFetchStreams:n},s),a._setSettings(s),a},"PUBLIC").setMultipleInstances(!0)),Mr(Lb,"4.7.2",e),Mr(Lb,"4.7.2","esm2017")})();const jG="@firebase/firestore-compat",WG="0.3.37";/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function xS(t,e){if(e===void 0)return{merge:!1};if(e.mergeFields!==void 0&&e.merge!==void 0)throw new z("invalid-argument",`Invalid options passed to function ${t}(): You cannot specify both "merge" and "mergeFields".`);return e}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function HR(){if(typeof Uint8Array>"u")throw new z("unimplemented","Uint8Arrays are not available in this environment.")}function GR(){if(!Sq())throw new z("unimplemented","Blobs are unavailable in Firestore in this environment.")}let MN=class w0{constructor(e){this._delegate=e}static fromBase64String(e){return GR(),new w0(mi.fromBase64String(e))}static fromUint8Array(e){return HR(),new w0(mi.fromUint8Array(e))}toBase64(){return GR(),this._delegate.toBase64()}toUint8Array(){return HR(),this._delegate.toUint8Array()}isEqual(e){return this._delegate.isEqual(e._delegate)}toString(){return"Blob(base64: "+this.toBase64()+")"}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function E0(t){return qG(t,["next","error","complete"])}function qG(t,e){if(typeof t!="object"||t===null)return!1;const n=t;for(const r of e)if(r in n&&typeof n[r]=="function")return!0;return!1}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class HG{enableIndexedDbPersistence(e,n){return nG(e._delegate,{forceOwnership:n})}enableMultiTabIndexedDbPersistence(e){return rG(e._delegate)}clearIndexedDbPersistence(e){return iG(e._delegate)}}class LN{constructor(e,n,r){this._delegate=n,this._persistenceProvider=r,this.INTERNAL={delete:()=>this.terminate()},e instanceof ro||(this._appCompat=e)}get _databaseId(){return this._delegate._databaseId}settings(e){const n=this._delegate._getSettings();!e.merge&&n.host!==e.host&&Fr("You are overriding the original host. If you did not intend to override your settings, use {merge: true}."),e.merge&&(e=Object.assign(Object.assign({},n),e),delete e.merge),this._delegate._setSettings(e)}useEmulator(e,n,r={}){JH(this._delegate,e,n,r)}enableNetwork(){return oG(this._delegate)}disableNetwork(){return aG(this._delegate)}enablePersistence(e){let n=!1,r=!1;return e&&(n=!!e.synchronizeTabs,r=!!e.experimentalForceOwningTab,hN("synchronizeTabs",n,"experimentalForceOwningTab",r)),n?this._persistenceProvider.enableMultiTabIndexedDbPersistence(this):this._persistenceProvider.enableIndexedDbPersistence(this,r)}clearPersistence(){return this._persistenceProvider.clearIndexedDbPersistence(this)}terminate(){return this._appCompat&&(this._appCompat._removeServiceInstance("firestore-compat"),this._appCompat._removeServiceInstance("firestore")),this._delegate._delete()}waitForPendingWrites(){return sG(this._delegate)}onSnapshotsInSync(e){return DG(this._delegate,e)}get app(){if(!this._appCompat)throw new z("failed-precondition","Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._appCompat}collection(e){try{return new iu(this,yN(this._delegate,e))}catch(n){throw wn(n,"collection()","Firestore.collection()")}}doc(e){try{return new dr(this,_m(this._delegate,e))}catch(n){throw wn(n,"doc()","Firestore.doc()")}}collectionGroup(e){try{return new vn(this,XH(this._delegate,e))}catch(n){throw wn(n,"collectionGroup()","Firestore.collectionGroup()")}}runTransaction(e){return VG(this._delegate,n=>e(new VN(this,n)))}batch(){return Gt(this._delegate),new FN(new MG(this._delegate,e=>Ph(this._delegate,e)))}loadBundle(e){return lG(this._delegate,e)}namedQuery(e){return uG(this._delegate,e).then(n=>n?new vn(this,n):null)}}class Gg extends kS{constructor(e){super(),this.firestore=e}convertBytes(e){return new MN(new mi(e))}convertReference(e){const n=this.convertDocumentKey(e,this.firestore._databaseId);return dr.forKey(n,this.firestore,null)}}function GG(t){z8(t)}class VN{constructor(e,n){this._firestore=e,this._delegate=n,this._userDataWriter=new Gg(e)}get(e){const n=Ho(e);return this._delegate.get(n).then(r=>new Ud(this._firestore,new Zi(this._firestore._delegate,this._userDataWriter,r._key,r._document,r.metadata,n.converter)))}set(e,n,r){const i=Ho(e);return r?(xS("Transaction.set",r),this._delegate.set(i,n,r)):this._delegate.set(i,n),this}update(e,n,r,...i){const s=Ho(e);return arguments.length===2?this._delegate.update(s,n):this._delegate.update(s,n,r,...i),this}delete(e){const n=Ho(e);return this._delegate.delete(n),this}}class FN{constructor(e){this._delegate=e}set(e,n,r){const i=Ho(e);return r?(xS("WriteBatch.set",r),this._delegate.set(i,n,r)):this._delegate.set(i,n),this}update(e,n,r,...i){const s=Ho(e);return arguments.length===2?this._delegate.update(s,n):this._delegate.update(s,n,r,...i),this}delete(e){const n=Ho(e);return this._delegate.delete(n),this}commit(){return this._delegate.commit()}}class ya{constructor(e,n,r){this._firestore=e,this._userDataWriter=n,this._delegate=r}fromFirestore(e,n){const r=new Yc(this._firestore._delegate,this._userDataWriter,e._key,e._document,e.metadata,null);return this._delegate.fromFirestore(new Bd(this._firestore,r),n??{})}toFirestore(e,n){return n?this._delegate.toFirestore(e,n):this._delegate.toFirestore(e)}static getInstance(e,n){const r=ya.INSTANCES;let i=r.get(e);i||(i=new WeakMap,r.set(e,i));let s=i.get(n);return s||(s=new ya(e,new Gg(e),n),i.set(n,s)),s}}ya.INSTANCES=new WeakMap;class dr{constructor(e,n){this.firestore=e,this._delegate=n,this._userDataWriter=new Gg(e)}static forPath(e,n,r){if(e.length%2!==0)throw new z("invalid-argument",`Invalid document reference. Document references must have an even number of segments, but ${e.canonicalString()} has ${e.length}`);return new dr(n,new ot(n._delegate,r,new K(e)))}static forKey(e,n,r){return new dr(n,new ot(n._delegate,r,e))}get id(){return this._delegate.id}get parent(){return new iu(this.firestore,this._delegate.parent)}get path(){return this._delegate.path}collection(e){try{return new iu(this.firestore,yN(this._delegate,e))}catch(n){throw wn(n,"collection()","DocumentReference.collection()")}}isEqual(e){return e=ie(e),e instanceof ot?_N(this._delegate,e):!1}set(e,n){n=xS("DocumentReference.set",n);try{return n?WR(this._delegate,e,n):WR(this._delegate,e)}catch(r){throw wn(r,"setDoc()","DocumentReference.set()")}}update(e,n,...r){try{return arguments.length===1?qR(this._delegate,e):qR(this._delegate,e,n,...r)}catch(i){throw wn(i,"updateDoc()","DocumentReference.update()")}}delete(){return xG(this._delegate)}onSnapshot(...e){const n=UN(e),r=BN(e,i=>new Ud(this.firestore,new Zi(this.firestore._delegate,this._userDataWriter,i._key,i._document,i.metadata,this._delegate.converter)));return NN(this._delegate,n,r)}get(e){let n;return(e==null?void 0:e.source)==="cache"?n=RG(this._delegate):(e==null?void 0:e.source)==="server"?n=AG(this._delegate):n=bG(this._delegate),n.then(r=>new Ud(this.firestore,new Zi(this.firestore._delegate,this._userDataWriter,r._key,r._document,r.metadata,this._delegate.converter)))}withConverter(e){return new dr(this.firestore,e?this._delegate.withConverter(ya.getInstance(this.firestore,e)):this._delegate.withConverter(null))}}function wn(t,e,n){return t.message=t.message.replace(e,n),t}function UN(t){for(const e of t)if(typeof e=="object"&&!E0(e))return e;return{}}function BN(t,e){var n,r;let i;return E0(t[0])?i=t[0]:E0(t[1])?i=t[1]:typeof t[0]=="function"?i={next:t[0],error:t[1],complete:t[2]}:i={next:t[1],error:t[2],complete:t[3]},{next:s=>{i.next&&i.next(e(s))},error:(n=i.error)===null||n===void 0?void 0:n.bind(i),complete:(r=i.complete)===null||r===void 0?void 0:r.bind(i)}}class Ud{constructor(e,n){this._firestore=e,this._delegate=n}get ref(){return new dr(this._firestore,this._delegate.ref)}get id(){return this._delegate.id}get metadata(){return this._delegate.metadata}get exists(){return this._delegate.exists()}data(e){return this._delegate.data(e)}get(e,n){return this._delegate.get(e,n)}isEqual(e){return DN(this._delegate,e._delegate)}}class Bd extends Ud{data(e){const n=this._delegate.data(e);return this._delegate._converter||j8(n!==void 0),n}}class vn{constructor(e,n){this.firestore=e,this._delegate=n,this._userDataWriter=new Gg(e)}where(e,n,r){try{return new vn(this.firestore,ws(this._delegate,mG(e,n,r)))}catch(i){throw wn(i,/(orderBy|where)\(\)/,"Query.$1()")}}orderBy(e,n){try{return new vn(this.firestore,ws(this._delegate,gG(e,n)))}catch(r){throw wn(r,/(orderBy|where)\(\)/,"Query.$1()")}}limit(e){try{return new vn(this.firestore,ws(this._delegate,yG(e)))}catch(n){throw wn(n,"limit()","Query.limit()")}}limitToLast(e){try{return new vn(this.firestore,ws(this._delegate,_G(e)))}catch(n){throw wn(n,"limitToLast()","Query.limitToLast()")}}startAt(...e){try{return new vn(this.firestore,ws(this._delegate,vG(...e)))}catch(n){throw wn(n,"startAt()","Query.startAt()")}}startAfter(...e){try{return new vn(this.firestore,ws(this._delegate,wG(...e)))}catch(n){throw wn(n,"startAfter()","Query.startAfter()")}}endBefore(...e){try{return new vn(this.firestore,ws(this._delegate,EG(...e)))}catch(n){throw wn(n,"endBefore()","Query.endBefore()")}}endAt(...e){try{return new vn(this.firestore,ws(this._delegate,SG(...e)))}catch(n){throw wn(n,"endAt()","Query.endAt()")}}isEqual(e){return vN(this._delegate,e._delegate)}get(e){let n;return(e==null?void 0:e.source)==="cache"?n=kG(this._delegate):(e==null?void 0:e.source)==="server"?n=CG(this._delegate):n=PG(this._delegate),n.then(r=>new S0(this.firestore,new lo(this.firestore._delegate,this._userDataWriter,this._delegate,r._snapshot)))}onSnapshot(...e){const n=UN(e),r=BN(e,i=>new S0(this.firestore,new lo(this.firestore._delegate,this._userDataWriter,this._delegate,i._snapshot)));return NN(this._delegate,n,r)}withConverter(e){return new vn(this.firestore,e?this._delegate.withConverter(ya.getInstance(this.firestore,e)):this._delegate.withConverter(null))}}class KG{constructor(e,n){this._firestore=e,this._delegate=n}get type(){return this._delegate.type}get doc(){return new Bd(this._firestore,this._delegate.doc)}get oldIndex(){return this._delegate.oldIndex}get newIndex(){return this._delegate.newIndex}}class S0{constructor(e,n){this._firestore=e,this._delegate=n}get query(){return new vn(this._firestore,this._delegate.query)}get metadata(){return this._delegate.metadata}get size(){return this._delegate.size}get empty(){return this._delegate.empty}get docs(){return this._delegate.docs.map(e=>new Bd(this._firestore,e))}docChanges(e){return this._delegate.docChanges(e).map(n=>new KG(this._firestore,n))}forEach(e,n){this._delegate.forEach(r=>{e.call(n,new Bd(this._firestore,r))})}isEqual(e){return DN(this._delegate,e._delegate)}}class iu extends vn{constructor(e,n){super(e,n),this.firestore=e,this._delegate=n}get id(){return this._delegate.id}get path(){return this._delegate.path}get parent(){const e=this._delegate.parent;return e?new dr(this.firestore,e):null}doc(e){try{return e===void 0?new dr(this.firestore,_m(this._delegate)):new dr(this.firestore,_m(this._delegate,e))}catch(n){throw wn(n,"doc()","CollectionReference.doc()")}}add(e){return OG(this._delegate,e).then(n=>new dr(this.firestore,n))}isEqual(e){return _N(this._delegate,e._delegate)}withConverter(e){return new iu(this.firestore,e?this._delegate.withConverter(ya.getInstance(this.firestore,e)):this._delegate.withConverter(null))}}function Ho(t){return Te(t,ot)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class OS{constructor(...e){this._delegate=new ao(...e)}static documentId(){return new OS(Ze.keyField().canonicalString())}isEqual(e){return e=ie(e),e instanceof ao?this._delegate._internalPath.isEqual(e._internalPath):!1}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Uo{constructor(e){this._delegate=e}static serverTimestamp(){const e=UG();return e._methodName="FieldValue.serverTimestamp",new Uo(e)}static delete(){const e=FG();return e._methodName="FieldValue.delete",new Uo(e)}static arrayUnion(...e){const n=BG(...e);return n._methodName="FieldValue.arrayUnion",new Uo(n)}static arrayRemove(...e){const n=$G(...e);return n._methodName="FieldValue.arrayRemove",new Uo(n)}static increment(e){const n=zG(e);return n._methodName="FieldValue.increment",new Uo(n)}isEqual(e){return this._delegate.isEqual(e._delegate)}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const YG={Firestore:LN,GeoPoint:Fg,Timestamp:tt,Blob:MN,Transaction:VN,WriteBatch:FN,DocumentReference:dr,DocumentSnapshot:Ud,Query:vn,QueryDocumentSnapshot:Bd,QuerySnapshot:S0,CollectionReference:iu,FieldPath:OS,FieldValue:Uo,setLogLevel:GG,CACHE_SIZE_UNLIMITED:tG};function QG(t,e){t.INTERNAL.registerComponent(new hi("firestore-compat",n=>{const r=n.getProvider("app-compat").getImmediate(),i=n.getProvider("firestore").getImmediate();return e(r,i)},"PUBLIC").setServiceProps(Object.assign({},YG)))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function JG(t){QG(t,(e,n)=>new LN(e,n,new HG)),t.registerVersion(jG,WG)}JG(gu);/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function _a(){return window}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const XG=2e3;async function ZG(t,e,n){var r;const{BuildInfo:i}=_a();Vr(e.sessionId,"AuthEvent did not contain a session ID");const s=await iK(e.sessionId),o={};return dh()?o.ibi=i.packageName:ch()?o.apn=i.packageName:Ht(t,"operation-not-supported-in-this-environment"),i.displayName&&(o.appDisplayName=i.displayName),o.sessionId=s,Yv(t,n,e.type,void 0,(r=e.eventId)!==null&&r!==void 0?r:void 0,o)}async function eK(t){const{BuildInfo:e}=_a(),n={};dh()?n.iosBundleId=e.packageName:ch()?n.androidPackageName=e.packageName:Ht(t,"operation-not-supported-in-this-environment"),await dO(t,n)}function tK(t){const{cordova:e}=_a();return new Promise(n=>{e.plugins.browsertab.isAvailable(r=>{let i=null;r?e.plugins.browsertab.openUrl(t):i=e.InAppBrowser.open(t,Gz()?"_blank":"_system","location=yes"),n(i)})})}async function nK(t,e,n){const{cordova:r}=_a();let i=()=>{};try{await new Promise((s,o)=>{let a=null;function l(){var h;s();const f=(h=r.plugins.browsertab)===null||h===void 0?void 0:h.close;typeof f=="function"&&f(),typeof(n==null?void 0:n.close)=="function"&&n.close()}function u(){a||(a=window.setTimeout(()=>{o(Lt(t,"redirect-cancelled-by-user"))},XG))}function d(){(document==null?void 0:document.visibilityState)==="visible"&&u()}e.addPassiveListener(l),document.addEventListener("resume",u,!1),ch()&&document.addEventListener("visibilitychange",d,!1),i=()=>{e.removePassiveListener(l),document.removeEventListener("resume",u,!1),document.removeEventListener("visibilitychange",d,!1),a&&window.clearTimeout(a)}})}finally{i()}}function rK(t){var e,n,r,i,s,o,a,l,u,d;const h=_a();q(typeof((e=h==null?void 0:h.universalLinks)===null||e===void 0?void 0:e.subscribe)=="function",t,"invalid-cordova-configuration",{missingPlugin:"cordova-universal-links-plugin-fix"}),q(typeof((n=h==null?void 0:h.BuildInfo)===null||n===void 0?void 0:n.packageName)<"u",t,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-buildInfo"}),q(typeof((s=(i=(r=h==null?void 0:h.cordova)===null||r===void 0?void 0:r.plugins)===null||i===void 0?void 0:i.browsertab)===null||s===void 0?void 0:s.openUrl)=="function",t,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-browsertab"}),q(typeof((l=(a=(o=h==null?void 0:h.cordova)===null||o===void 0?void 0:o.plugins)===null||a===void 0?void 0:a.browsertab)===null||l===void 0?void 0:l.isAvailable)=="function",t,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-browsertab"}),q(typeof((d=(u=h==null?void 0:h.cordova)===null||u===void 0?void 0:u.InAppBrowser)===null||d===void 0?void 0:d.open)=="function",t,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-inappbrowser"})}async function iK(t){const e=sK(t),n=await crypto.subtle.digest("SHA-256",e);return Array.from(new Uint8Array(n)).map(i=>i.toString(16).padStart(2,"0")).join("")}function sK(t){if(Vr(/[0-9a-zA-Z]+/.test(t),"Can only convert alpha-numeric strings"),typeof TextEncoder<"u")return new TextEncoder().encode(t);const e=new ArrayBuffer(t.length),n=new Uint8Array(e);for(let r=0;r<t.length;r++)n[r]=t.charCodeAt(r);return n}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const oK=20;class aK extends uO{constructor(){super(...arguments),this.passiveListeners=new Set,this.initPromise=new Promise(e=>{this.resolveInitialized=e})}addPassiveListener(e){this.passiveListeners.add(e)}removePassiveListener(e){this.passiveListeners.delete(e)}resetRedirect(){this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1}onEvent(e){return this.resolveInitialized(),this.passiveListeners.forEach(n=>n(e)),super.onEvent(e)}async initialized(){await this.initPromise}}function lK(t,e,n=null){return{type:e,eventId:n,urlResponse:null,sessionId:dK(),postBody:null,tenantId:t.tenantId,error:Lt(t,"no-auth-event")}}function uK(t,e){return I0()._set(T0(t),e)}async function KR(t){const e=await I0()._get(T0(t));return e&&await I0()._remove(T0(t)),e}function cK(t,e){var n,r;const i=fK(e);if(i.includes("/__/auth/callback")){const s=lp(i),o=s.firebaseError?hK(decodeURIComponent(s.firebaseError)):null,a=(r=(n=o==null?void 0:o.code)===null||n===void 0?void 0:n.split("auth/"))===null||r===void 0?void 0:r[1],l=a?Lt(a):null;return l?{type:t.type,eventId:t.eventId,tenantId:t.tenantId,error:l,urlResponse:null,sessionId:null,postBody:null}:{type:t.type,eventId:t.eventId,tenantId:t.tenantId,sessionId:t.sessionId,urlResponse:i,postBody:null}}return null}function dK(){const t=[],e="1234567890abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ";for(let n=0;n<oK;n++){const r=Math.floor(Math.random()*e.length);t.push(e.charAt(r))}return t.join("")}function I0(){return Qn(wg)}function T0(t){return Jo("authEvent",t.config.apiKey,t.name)}function hK(t){try{return JSON.parse(t)}catch{return null}}function fK(t){const e=lp(t),n=e.link?decodeURIComponent(e.link):void 0,r=lp(n).link,i=e.deep_link_id?decodeURIComponent(e.deep_link_id):void 0;return lp(i).link||i||r||n||t}function lp(t){if(!(t!=null&&t.includes("?")))return{};const[e,...n]=t.split("?");return fl(n.join("?"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const pK=500;class mK{constructor(){this._redirectPersistence=eo,this._shouldInitProactively=!0,this.eventManagers=new Map,this.originValidationPromises={},this._completeRedirectFn=Tg,this._overrideRedirectResult=AE}async _initialize(e){const n=e._key();let r=this.eventManagers.get(n);return r||(r=new aK(e),this.eventManagers.set(n,r),this.attachCallbackListeners(e,r)),r}_openPopup(e){Ht(e,"operation-not-supported-in-this-environment")}async _openRedirect(e,n,r,i){rK(e);const s=await this._initialize(e);await s.initialized(),s.resetRedirect(),JW(),await this._originValidation(e);const o=lK(e,r,i);await uK(e,o);const a=await ZG(e,o,n),l=await tK(a);return nK(e,s,l)}_isIframeWebStorageSupported(e,n){throw new Error("Method not implemented.")}_originValidation(e){const n=e._key();return this.originValidationPromises[n]||(this.originValidationPromises[n]=eK(e)),this.originValidationPromises[n]}attachCallbackListeners(e,n){const{universalLinks:r,handleOpenURL:i,BuildInfo:s}=_a(),o=setTimeout(async()=>{await KR(e),n.onEvent(YR())},pK),a=async d=>{clearTimeout(o);const h=await KR(e);let f=null;h&&(d!=null&&d.url)&&(f=cK(h,d.url)),n.onEvent(f||YR())};typeof r<"u"&&typeof r.subscribe=="function"&&r.subscribe(null,a);const l=i,u=`${s.packageName.toLowerCase()}://`;_a().handleOpenURL=async d=>{if(d.toLowerCase().startsWith(u)&&a({url:d}),typeof l=="function")try{l(d)}catch(h){console.error(h)}}}}const gK=mK;function YR(){return{type:"unknown",eventId:null,sessionId:null,urlResponse:null,postBody:null,tenantId:null,error:Lt("no-auth-event")}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function yK(t,e){mt(t)._logFramework(e)}var _K="@firebase/auth-compat",vK="0.5.14";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const wK=1e3;function Qc(){var t;return((t=self==null?void 0:self.location)===null||t===void 0?void 0:t.protocol)||null}function EK(){return Qc()==="http:"||Qc()==="https:"}function $N(t=ut()){return!!((Qc()==="file:"||Qc()==="ionic:"||Qc()==="capacitor:")&&t.toLowerCase().match(/iphone|ipad|ipod|android/))}function SK(){return oE()||sE()}function IK(){return ix()&&(document==null?void 0:document.documentMode)===11}function TK(t=ut()){return/Edge\/\d+/.test(t)}function bK(t=ut()){return IK()||TK(t)}function zN(){try{const t=self.localStorage,e=ph();if(t)return t.setItem(e,"1"),t.removeItem(e),bK()?Sd():!0}catch{return DS()&&Sd()}return!1}function DS(){return typeof global<"u"&&"WorkerGlobalScope"in global&&"importScripts"in global}function I_(){return(EK()||rx()||$N())&&!SK()&&zN()&&!DS()}function jN(){return $N()&&typeof document<"u"}async function RK(){return jN()?new Promise(t=>{const e=setTimeout(()=>{t(!1)},wK);document.addEventListener("deviceready",()=>{clearTimeout(e),t(!0)})}):!1}function AK(){return typeof window<"u"?window:null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Hn={LOCAL:"local",NONE:"none",SESSION:"session"},uc=q,WN="persistence";function PK(t,e){if(uc(Object.values(Hn).includes(e),t,"invalid-persistence-type"),oE()){uc(e!==Hn.SESSION,t,"unsupported-persistence-type");return}if(sE()){uc(e===Hn.NONE,t,"unsupported-persistence-type");return}if(DS()){uc(e===Hn.NONE||e===Hn.LOCAL&&Sd(),t,"unsupported-persistence-type");return}uc(e===Hn.NONE||zN(),t,"unsupported-persistence-type")}async function b0(t){await t._initializationPromise;const e=qN(),n=Jo(WN,t.config.apiKey,t.name);e&&e.setItem(n,t._getPersistence())}function kK(t,e){const n=qN();if(!n)return[];const r=Jo(WN,t,e);switch(n.getItem(r)){case Hn.NONE:return[jl];case Hn.LOCAL:return[ql,eo];case Hn.SESSION:return[eo];default:return[]}}function qN(){var t;try{return((t=AK())===null||t===void 0?void 0:t.sessionStorage)||null}catch{return null}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const CK=q;class Os{constructor(){this.browserResolver=Qn(hO),this.cordovaResolver=Qn(gK),this.underlyingResolver=null,this._redirectPersistence=eo,this._completeRedirectFn=Tg,this._overrideRedirectResult=AE}async _initialize(e){return await this.selectUnderlyingResolver(),this.assertedUnderlyingResolver._initialize(e)}async _openPopup(e,n,r,i){return await this.selectUnderlyingResolver(),this.assertedUnderlyingResolver._openPopup(e,n,r,i)}async _openRedirect(e,n,r,i){return await this.selectUnderlyingResolver(),this.assertedUnderlyingResolver._openRedirect(e,n,r,i)}_isIframeWebStorageSupported(e,n){this.assertedUnderlyingResolver._isIframeWebStorageSupported(e,n)}_originValidation(e){return this.assertedUnderlyingResolver._originValidation(e)}get _shouldInitProactively(){return jN()||this.browserResolver._shouldInitProactively}get assertedUnderlyingResolver(){return CK(this.underlyingResolver,"internal-error"),this.underlyingResolver}async selectUnderlyingResolver(){if(this.underlyingResolver)return;const e=await RK();this.underlyingResolver=e?this.cordovaResolver:this.browserResolver}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function HN(t){return t.unwrap()}function xK(t){return t.wrapped()}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function OK(t){return GN(t)}function DK(t,e){var n;const r=(n=e.customData)===null||n===void 0?void 0:n._tokenResponse;if((e==null?void 0:e.code)==="auth/multi-factor-auth-required"){const i=e;i.resolver=new NK(t,sW(t,e))}else if(r){const i=GN(e),s=e;i&&(s.credential=i,s.tenantId=r.tenantId||void 0,s.email=r.email||void 0,s.phoneNumber=r.phoneNumber||void 0)}}function GN(t){const{_tokenResponse:e}=t instanceof Sn?t.customData:t;if(!e)return null;if(!(t instanceof Sn)&&"temporaryProof"in e&&"phoneNumber"in e)return la.credentialFromResult(t);const n=e.providerId;if(!n||n===rc.PASSWORD)return null;let r;switch(n){case rc.GOOGLE:r=Xr;break;case rc.FACEBOOK:r=Jr;break;case rc.GITHUB:r=Zr;break;case rc.TWITTER:r=ei;break;default:const{oauthIdToken:i,oauthAccessToken:s,oauthTokenSecret:o,pendingToken:a,nonce:l}=e;return!s&&!o&&!i&&!a?null:a?n.startsWith("saml.")?Wl._create(n,a):fi._fromParams({providerId:n,signInMethod:n,pendingToken:a,idToken:i,accessToken:s}):new bl(n).credential({idToken:i,accessToken:s,rawNonce:l})}return t instanceof Sn?r.credentialFromError(t):r.credentialFromResult(t)}function Cn(t,e){return e.catch(n=>{throw n instanceof Sn&&DK(t,n),n}).then(n=>{const r=n.operationType,i=n.user;return{operationType:r,credential:OK(n),additionalUserInfo:nW(n),user:Fi.getOrCreate(i)}})}async function R0(t,e){const n=await e;return{verificationId:n.verificationId,confirm:r=>Cn(t,n.confirm(r))}}class NK{constructor(e,n){this.resolver=n,this.auth=xK(e)}get session(){return this.resolver.session}get hints(){return this.resolver.hints}resolveSignIn(e){return Cn(HN(this.auth),this.resolver.resolveSignIn(e))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Fi{constructor(e){this._delegate=e,this.multiFactor=uW(e)}static getOrCreate(e){return Fi.USER_MAP.has(e)||Fi.USER_MAP.set(e,new Fi(e)),Fi.USER_MAP.get(e)}delete(){return this._delegate.delete()}reload(){return this._delegate.reload()}toJSON(){return this._delegate.toJSON()}getIdTokenResult(e){return this._delegate.getIdTokenResult(e)}getIdToken(e){return this._delegate.getIdToken(e)}linkAndRetrieveDataWithCredential(e){return this.linkWithCredential(e)}async linkWithCredential(e){return Cn(this.auth,qx(this._delegate,e))}async linkWithPhoneNumber(e,n){return R0(this.auth,FW(this._delegate,e,n))}async linkWithPopup(e){return Cn(this.auth,GW(this._delegate,e,Os))}async linkWithRedirect(e){return await b0(mt(this.auth)),n8(this._delegate,e,Os)}reauthenticateAndRetrieveDataWithCredential(e){return this.reauthenticateWithCredential(e)}async reauthenticateWithCredential(e){return Cn(this.auth,Hx(this._delegate,e))}reauthenticateWithPhoneNumber(e,n){return R0(this.auth,UW(this._delegate,e,n))}reauthenticateWithPopup(e){return Cn(this.auth,HW(this._delegate,e,Os))}async reauthenticateWithRedirect(e){return await b0(mt(this.auth)),e8(this._delegate,e,Os)}sendEmailVerification(e){return qj(this._delegate,e)}async unlink(e){return await Dj(this._delegate,e),this}updateEmail(e){return Yj(this._delegate,e)}updatePassword(e){return Qj(this._delegate,e)}updatePhoneNumber(e){return BW(this._delegate,e)}updateProfile(e){return Kj(this._delegate,e)}verifyBeforeUpdateEmail(e,n){return Hj(this._delegate,e,n)}get emailVerified(){return this._delegate.emailVerified}get isAnonymous(){return this._delegate.isAnonymous}get metadata(){return this._delegate.metadata}get phoneNumber(){return this._delegate.phoneNumber}get providerData(){return this._delegate.providerData}get refreshToken(){return this._delegate.refreshToken}get tenantId(){return this._delegate.tenantId}get displayName(){return this._delegate.displayName}get email(){return this._delegate.email}get photoURL(){return this._delegate.photoURL}get providerId(){return this._delegate.providerId}get uid(){return this._delegate.uid}get auth(){return this._delegate.auth}}Fi.USER_MAP=new WeakMap;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const cc=q;class A0{constructor(e,n){if(this.app=e,n.isInitialized()){this._delegate=n.getImmediate(),this.linkUnderlyingAuth();return}const{apiKey:r}=e.options;cc(r,"invalid-api-key",{appName:e.name}),cc(r,"invalid-api-key",{appName:e.name});const i=typeof window<"u"?Os:void 0;this._delegate=n.initialize({options:{persistence:MK(r,e.name),popupRedirectResolver:i}}),this._delegate._updateErrorMap(Rz),this.linkUnderlyingAuth()}get emulatorConfig(){return this._delegate.emulatorConfig}get currentUser(){return this._delegate.currentUser?Fi.getOrCreate(this._delegate.currentUser):null}get languageCode(){return this._delegate.languageCode}set languageCode(e){this._delegate.languageCode=e}get settings(){return this._delegate.settings}get tenantId(){return this._delegate.tenantId}set tenantId(e){this._delegate.tenantId=e}useDeviceLanguage(){this._delegate.useDeviceLanguage()}signOut(){return this._delegate.signOut()}useEmulator(e,n){Vx(this._delegate,e,n)}applyActionCode(e){return Fj(this._delegate,e)}checkActionCode(e){return Gx(this._delegate,e)}confirmPasswordReset(e,n){return Vj(this._delegate,e,n)}async createUserWithEmailAndPassword(e,n){return Cn(this._delegate,Kx(this._delegate,e,n))}fetchProvidersForEmail(e){return this.fetchSignInMethodsForEmail(e)}fetchSignInMethodsForEmail(e){return Wj(this._delegate,e)}isSignInWithEmailLink(e){return $j(this._delegate,e)}async getRedirectResult(){cc(I_(),this._delegate,"operation-not-supported-in-this-environment");const e=await i8(this._delegate,Os);return e?Cn(this._delegate,Promise.resolve(e)):{credential:null,user:null}}addFrameworkForLogging(e){yK(this._delegate,e)}onAuthStateChanged(e,n,r){const{next:i,error:s,complete:o}=QR(e,n,r);return this._delegate.onAuthStateChanged(i,s,o)}onIdTokenChanged(e,n,r){const{next:i,error:s,complete:o}=QR(e,n,r);return this._delegate.onIdTokenChanged(i,s,o)}sendSignInLinkToEmail(e,n){return Bj(this._delegate,e,n)}sendPasswordResetEmail(e,n){return Lj(this._delegate,e,n||void 0)}async setPersistence(e){PK(this._delegate,e);let n;switch(e){case Hn.SESSION:n=eo;break;case Hn.LOCAL:n=await Qn(ql)._isAvailable()?ql:wg;break;case Hn.NONE:n=jl;break;default:return Ht("argument-error",{appName:this._delegate.name})}return this._delegate.setPersistence(n)}signInAndRetrieveDataWithCredential(e){return this.signInWithCredential(e)}signInAnonymously(){return Cn(this._delegate,Oj(this._delegate))}signInWithCredential(e){return Cn(this._delegate,_g(this._delegate,e))}signInWithCustomToken(e){return Cn(this._delegate,Mj(this._delegate,e))}signInWithEmailAndPassword(e,n){return Cn(this._delegate,Yx(this._delegate,e,n))}signInWithEmailLink(e,n){return Cn(this._delegate,zj(this._delegate,e,n))}signInWithPhoneNumber(e,n){return R0(this._delegate,VW(this._delegate,e,n))}async signInWithPopup(e){return cc(I_(),this._delegate,"operation-not-supported-in-this-environment"),Cn(this._delegate,qW(this._delegate,e,Os))}async signInWithRedirect(e){return cc(I_(),this._delegate,"operation-not-supported-in-this-environment"),await b0(this._delegate),XW(this._delegate,e,Os)}updateCurrentUser(e){return this._delegate.updateCurrentUser(e)}verifyPasswordResetCode(e){return Uj(this._delegate,e)}unwrap(){return this._delegate}_delete(){return this._delegate._delete()}linkUnderlyingAuth(){this._delegate.wrapped=()=>this}}A0.Persistence=Hn;function QR(t,e,n){let r=t;typeof t!="function"&&({next:r,error:e,complete:n}=t);const i=r;return{next:o=>i(o&&Fi.getOrCreate(o)),error:e,complete:n}}function MK(t,e){const n=kK(t,e);if(typeof self<"u"&&!n.includes(ql)&&n.push(ql),typeof window<"u")for(const r of[wg,eo])n.includes(r)||n.push(r);return n.includes(jl)||n.push(jl),n}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class NS{constructor(){this.providerId="phone",this._delegate=new la(HN(gu.auth()))}static credential(e,n){return la.credential(e,n)}verifyPhoneNumber(e,n){return this._delegate.verifyPhoneNumber(e,n)}unwrap(){return this._delegate}}NS.PHONE_SIGN_IN_METHOD=la.PHONE_SIGN_IN_METHOD;NS.PROVIDER_ID=la.PROVIDER_ID;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const LK=q;class VK{constructor(e,n,r=gu.app()){var i;LK((i=r.options)===null||i===void 0?void 0:i.apiKey,"invalid-api-key",{appName:r.name}),this._delegate=new MW(r.auth(),e,n),this.type=this._delegate.type}clear(){this._delegate.clear()}render(){return this._delegate.render()}verify(){return this._delegate.verify()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const FK="auth-compat";function UK(t){t.INTERNAL.registerComponent(new hi(FK,e=>{const n=e.getProvider("app-compat").getImmediate(),r=e.getProvider("auth");return new A0(n,r)},"PUBLIC").setServiceProps({ActionCodeInfo:{Operation:{EMAIL_SIGNIN:za.EMAIL_SIGNIN,PASSWORD_RESET:za.PASSWORD_RESET,RECOVER_EMAIL:za.RECOVER_EMAIL,REVERT_SECOND_FACTOR_ADDITION:za.REVERT_SECOND_FACTOR_ADDITION,VERIFY_AND_CHANGE_EMAIL:za.VERIFY_AND_CHANGE_EMAIL,VERIFY_EMAIL:za.VERIFY_EMAIL}},EmailAuthProvider:go,FacebookAuthProvider:Jr,GithubAuthProvider:Zr,GoogleAuthProvider:Xr,OAuthProvider:bl,SAMLAuthProvider:rm,PhoneAuthProvider:NS,PhoneMultiFactorGenerator:fO,RecaptchaVerifier:VK,TwitterAuthProvider:ei,Auth:A0,AuthCredential:_u,Error:Sn}).setInstantiationMode("LAZY").setMultipleInstances(!1)),t.registerVersion(_K,vK)}UK(gu);const BK={apiKey:"AIzaSyBQVH-w28_E8vGOpTA7CzT6hMLDB_Pw24k",authDomain:"clone-1c9ee.firebaseapp.com",projectId:"clone-1c9ee",storageBucket:"clone-1c9ee.firebasestorage.app",messagingSenderId:"534354125578",appId:"1:534354125578:web:84a1187b44e3891782d0f3"},KN=gu.initializeApp(BK),wm=B8(KN),YN=KN.firestore();function $K(t){return po({tag:"svg",attr:{viewBox:"0 0 1024 1024"},child:[{tag:"path",attr:{d:"M904 160H120c-4.4 0-8 3.6-8 8v64c0 4.4 3.6 8 8 8h784c4.4 0 8-3.6 8-8v-64c0-4.4-3.6-8-8-8zm0 624H120c-4.4 0-8 3.6-8 8v64c0 4.4 3.6 8 8 8h784c4.4 0 8-3.6 8-8v-64c0-4.4-3.6-8-8-8zm0-312H120c-4.4 0-8 3.6-8 8v64c0 4.4 3.6 8 8 8h784c4.4 0 8-3.6 8-8v-64c0-4.4-3.6-8-8-8z"},child:[]}]})(t)}function zK(){return x.createElement("div",{className:Ri.lower__container},x.createElement("ul",null,x.createElement("li",null,x.createElement($K,null),x.createElement("p",null,"All")),x.createElement("li",null,"Today's Deals"),x.createElement("li",null,"Costumer Service"),x.createElement("li",null,"Registry"),x.createElement("li",null,"Gift Cards"),x.createElement("li",null,"Sell")))}const jK=()=>{var s;const[{user:t,basket:e},n]=U.useContext(ns),r=e==null?void 0:e.reduce((o,a)=>a.amount+o,0),i=()=>{t&&(n({type:dn.EMPTY_BASKET}),wm.signOut())};return React.createElement("section",{className:Ri.fixed},React.createElement("section",null,React.createElement("div",{className:Ri.header__container},React.createElement("div",{className:Ri.logo__container},React.createElement(xi,{to:"/"},React.createElement("img",{src:F$,alt:"amazon logo"})),React.createElement("div",{className:Ri.delivery},React.createElement("span",null,React.createElement(V$,null)),React.createElement("div",null,React.createElement("p",null,"Deliver to"),React.createElement("span",null,"Ethiopia")))),React.createElement("div",{className:Ri.search},React.createElement("select",{name:"",id:""},React.createElement("option",{value:""},"All"),React.createElement("option",{value:""},"Art and crafts"),React.createElement("option",{value:""},"Automotive"),React.createElement("option",{value:""},"Books"),React.createElement("option",{value:""},"Electronics"),React.createElement("option",{value:""},"Software"),React.createElement("option",{value:""},"Baby")),React.createElement("input",{type:"text"}),React.createElement(A$,{size:42})),React.createElement("div",{className:Ri.order__container},React.createElement(xi,{to:"/",className:Ri.language},React.createElement("img",{src:"https://upload.wikimedia.org/wikipedia/en/thumb/a/a4/Flag_of_the_United_States.svg/1024px-Flag_of_the_United_States.svg.png",alt:""}),React.createElement("select",{name:"",id:""},React.createElement("option",{value:""},"EN"))),React.createElement(xi,{to:!t&&"/auth"},React.createElement("div",null,t?React.createElement(React.Fragment,null,React.createElement("p",null,"Hello ",(s=t==null?void 0:t.email)==null?void 0:s.split("@")[0]),React.createElement("span",{onClick:i},"Sign Out")):React.createElement(React.Fragment,null,React.createElement("p",null,"Hello, Sign In"),React.createElement("span",null,"Account & Lists")))),React.createElement(xi,{to:"/orders"},React.createElement("p",null,"returns"),React.createElement("span",null,"& Orders")),React.createElement(xi,{to:"/cart",className:Ri.cart},React.createElement(U$,{size:35}),React.createElement("span",null,r))))),React.createElement(zK,null))};function ka({children:t}){return x.createElement(x.Fragment,null,x.createElement(jK,null),t)}function WK(){return x.createElement(ka,null,x.createElement(X4,null),x.createElement(KF,null),x.createElement(YC,null))}const qK="/assets/amazon_letter_logo-BxbqImV6.png",HK="_login_14mx5_1",GK="_login__container_14mx5_13",KK="_login__signInButton_14mx5_47",YK="_login__registerButton_14mx5_63",QK="_error_holder_14mx5_77",JK="_error__icon_14mx5_89",Ga={login:HK,login__container:GK,login__signInButton:KK,login__registerButton:YK,error_holder:QK,error__icon:JK};function XK(t){return po({tag:"svg",attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{fill:"none",strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"32",d:"M85.57 446.25h340.86a32 32 0 0 0 28.17-47.17L284.18 82.58c-12.09-22.44-44.27-22.44-56.36 0L57.4 399.08a32 32 0 0 0 28.17 47.17z"},child:[]},{tag:"path",attr:{fill:"none",strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"32",d:"m250.26 195.39 5.74 122 5.73-121.95a5.74 5.74 0 0 0-5.79-6h0a5.74 5.74 0 0 0-5.68 5.95z"},child:[]},{tag:"path",attr:{d:"M256 397.25a20 20 0 1 1 20-20 20 20 0 0 1-20 20z"},child:[]}]})(t)}function ZK(){var g;const[t,e]=U.useState(""),[n,r]=U.useState(""),[i,s]=U.useState(""),[o,a]=U.useState({signIn:!1,signUP:!1}),l=zm(),u=Jd(),[{user:d},h]=U.useContext(ns),f=async _=>{_.preventDefault(),_.target.name.toLowerCase()=="signin"?(a({...o,signIn:!0}),Yx(wm,t,n).then(v=>{var T;h({type:dn.SET_USER,user:v.user}),a({...o,signIn:!1}),l(((T=u==null?void 0:u.state)==null?void 0:T.redirect)||"/")}).catch(v=>{s(v.message),a({...o,signIn:!1})})):(a({...o,signUP:!0}),Kx(wm,t,n).then(v=>{var T;h({type:dn.SET_USER,user:v.user}),a({...o,signUP:!1}),l(((T=u==null?void 0:u.state)==null?void 0:T.redirect)||"/")}).catch(v=>{s(v.message),a({...o,signUP:!1})}))};return x.createElement("section",{className:Ga.login},x.createElement(xi,{to:"/"},x.createElement("img",{src:qK,alt:""})),x.createElement("div",{className:Ga.login__container},x.createElement("h1",null,"Sign In"),x.createElement(x.Fragment,null,((g=u==null?void 0:u.state)==null?void 0:g.msg)&&x.createElement("small",{style:{color:"red",fontWeight:"bold"}},u.state.msg),x.createElement("br",null)),x.createElement("form",{action:""},x.createElement("div",null,x.createElement("label",{htmlFor:"email"},"Email"),x.createElement("input",{value:t,onChange:_=>e(_.target.value),type:"email",id:"email"})),x.createElement("div",null,x.createElement("label",{htmlFor:"password"},"Password"),x.createElement("input",{value:n,onChange:_=>r(_.target.value),type:"password",id:"password"})),x.createElement("button",{type:"submit",onClick:f,name:"signIn",className:Ga.login__signInButton},o.signIn?x.createElement(Mv,{color:"#000",size:15}):" Sign In")),x.createElement("p",null,"By signing-in you agree to the AMAZON FAKE CLONE Conditions of Use & Sale. Please see our Privacy Notice, our Cookies Notice and our Interest-Based Ads Notice."),x.createElement("button",{type:"submit",name:"signUp",onClick:f,className:Ga.login__registerButton},o.signUP?x.createElement(Mv,{color:"#000",size:15}):"Create your Amazon Account"),i&&x.createElement("div",{className:Ga.error_holder},x.createElement("div",{className:Ga.error__icon},x.createElement(XK,{size:25})),x.createElement("div",null,i))))}const eY="_payment__header_39xk7_1",tY="_payment_39xk7_1",nY="_flex_39xk7_10",rY="_payment__card__container_39xk7_25",iY="_payment__price_39xk7_32",sY="_payment__details_39xk7_29",oY="_loading_39xk7_53",Ti={payment__header:eY,payment:tY,flex:nY,payment__card__container:rY,payment__price:iY,payment__details:sY,loading:oY};function JR(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function XR(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?JR(Object(n),!0).forEach(function(r){QN(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):JR(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function up(t){"@babel/helpers - typeof";return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?up=function(e){return typeof e}:up=function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},up(t)}function QN(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function JN(t,e){return aY(t)||lY(t,e)||uY(t,e)||cY()}function aY(t){if(Array.isArray(t))return t}function lY(t,e){var n=t&&(typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"]);if(n!=null){var r=[],i=!0,s=!1,o,a;try{for(n=n.call(t);!(i=(o=n.next()).done)&&(r.push(o.value),!(e&&r.length===e));i=!0);}catch(l){s=!0,a=l}finally{try{!i&&n.return!=null&&n.return()}finally{if(s)throw a}}return r}}function uY(t,e){if(t){if(typeof t=="string")return ZR(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return ZR(t,e)}}function ZR(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function cY(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}var Wn=function(e,n,r){var i=!!r,s=x.useRef(r);x.useEffect(function(){s.current=r},[r]),x.useEffect(function(){if(!i||!e)return function(){};var o=function(){s.current&&s.current.apply(s,arguments)};return e.on(n,o),function(){e.off(n,o)}},[i,n,e,s])},P0=function(e){var n=x.useRef(e);return x.useEffect(function(){n.current=e},[e]),n.current},su=function(e){return e!==null&&up(e)==="object"},dY=function(e){return su(e)&&typeof e.then=="function"},hY=function(e){return su(e)&&typeof e.elements=="function"&&typeof e.createToken=="function"&&typeof e.createPaymentMethod=="function"&&typeof e.confirmCardPayment=="function"},eA="[object Object]",fY=function t(e,n){if(!su(e)||!su(n))return e===n;var r=Array.isArray(e),i=Array.isArray(n);if(r!==i)return!1;var s=Object.prototype.toString.call(e)===eA,o=Object.prototype.toString.call(n)===eA;if(s!==o)return!1;if(!s&&!r)return e===n;var a=Object.keys(e),l=Object.keys(n);if(a.length!==l.length)return!1;for(var u={},d=0;d<a.length;d+=1)u[a[d]]=!0;for(var h=0;h<l.length;h+=1)u[l[h]]=!0;var f=Object.keys(u);if(f.length!==a.length)return!1;var g=e,_=n,v=function(I){return t(g[I],_[I])};return f.every(v)},XN=function(e,n,r){return su(e)?Object.keys(e).reduce(function(i,s){var o=!su(n)||!fY(e[s],n[s]);return r.includes(s)?(o&&console.warn("Unsupported prop change: options.".concat(s," is not a mutable property.")),i):o?XR(XR({},i||{}),{},QN({},s,e[s])):i},null):null},ZN="Invalid prop `stripe` supplied to `Elements`. We recommend using the `loadStripe` utility from `@stripe/stripe-js`. See https://stripe.com/docs/stripe-js/react#elements-props-stripe for details.",tA=function(e){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:ZN;if(e===null||hY(e))return e;throw new Error(n)},pY=function(e){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:ZN;if(dY(e))return{tag:"async",stripePromise:Promise.resolve(e).then(function(i){return tA(i,n)})};var r=tA(e,n);return r===null?{tag:"empty"}:{tag:"sync",stripe:r}},mY=function(e){!e||!e._registerWrapper||!e.registerAppInfo||(e._registerWrapper({name:"react-stripe-js",version:"2.7.3"}),e.registerAppInfo({name:"react-stripe-js",version:"2.7.3",url:"https://stripe.com/docs/stripe-js/react"}))},Kg=x.createContext(null);Kg.displayName="ElementsContext";var e2=function(e,n){if(!e)throw new Error("Could not find Elements context; You need to wrap the part of your app that ".concat(n," in an <Elements> provider."));return e},t2=function(e){var n=e.stripe,r=e.options,i=e.children,s=x.useMemo(function(){return pY(n)},[n]),o=x.useState(function(){return{stripe:s.tag==="sync"?s.stripe:null,elements:s.tag==="sync"?s.stripe.elements(r):null}}),a=JN(o,2),l=a[0],u=a[1];x.useEffect(function(){var f=!0,g=function(v){u(function(T){return T.stripe?T:{stripe:v,elements:v.elements(r)}})};return s.tag==="async"&&!l.stripe?s.stripePromise.then(function(_){_&&f&&g(_)}):s.tag==="sync"&&!l.stripe&&g(s.stripe),function(){f=!1}},[s,l,r]);var d=P0(n);x.useEffect(function(){d!==null&&d!==n&&console.warn("Unsupported prop change on Elements: You cannot change the `stripe` prop after setting it.")},[d,n]);var h=P0(r);return x.useEffect(function(){if(l.elements){var f=XN(r,h,["clientSecret","fonts"]);f&&l.elements.update(f)}},[r,h,l.elements]),x.useEffect(function(){mY(l.stripe)},[l.stripe]),x.createElement(Kg.Provider,{value:l},i)};t2.propTypes={stripe:rt.any,options:rt.object};var gY=function(e){var n=x.useContext(Kg);return e2(n,e)},yY=function(){var e=gY("calls useElements()"),n=e.elements;return n};rt.func.isRequired;var n2=x.createContext(null);n2.displayName="CustomCheckoutSdkContext";var _Y=function(e,n){if(!e)throw new Error("Could not find CustomCheckoutProvider context; You need to wrap the part of your app that ".concat(n," in an <CustomCheckoutProvider> provider."));return e},vY=x.createContext(null);vY.displayName="CustomCheckoutContext";rt.any,rt.shape({clientSecret:rt.string.isRequired,elementsOptions:rt.object}).isRequired;var k0=function(e){var n=x.useContext(n2),r=x.useContext(Kg);if(n&&r)throw new Error("You cannot wrap the part of your app that ".concat(e," in both <CustomCheckoutProvider> and <Elements> providers."));return n?_Y(n,e):e2(r,e)},wY=function(e){return e.charAt(0).toUpperCase()+e.slice(1)},Ft=function(e,n){var r="".concat(wY(e),"Element"),i=function(l){var u=l.id,d=l.className,h=l.options,f=h===void 0?{}:h,g=l.onBlur,_=l.onFocus,v=l.onReady,T=l.onChange,I=l.onEscape,w=l.onClick,E=l.onLoadError,O=l.onLoaderStart,C=l.onNetworksChange,N=l.onConfirm,b=l.onCancel,S=l.onShippingAddressChange,m=l.onShippingRateChange,A=k0("mounts <".concat(r,">")),k="elements"in A?A.elements:null,D="customCheckoutSdk"in A?A.customCheckoutSdk:null,P=x.useState(null),we=JN(P,2),fe=we[0],Ot=we[1],nt=x.useRef(null),Y=x.useRef(null);Wn(fe,"blur",g),Wn(fe,"focus",_),Wn(fe,"escape",I),Wn(fe,"click",w),Wn(fe,"loaderror",E),Wn(fe,"loaderstart",O),Wn(fe,"networkschange",C),Wn(fe,"confirm",N),Wn(fe,"cancel",b),Wn(fe,"shippingaddresschange",S),Wn(fe,"shippingratechange",m),Wn(fe,"change",T);var se;v&&(e==="expressCheckout"?se=v:se=function(){v(fe)}),Wn(fe,"ready",se),x.useLayoutEffect(function(){if(nt.current===null&&Y.current!==null&&(k||D)){var pe=null;D?pe=D.createElement(e,f):k&&(pe=k.create(e,f)),nt.current=pe,Ot(pe),pe&&pe.mount(Y.current)}},[k,D,f]);var oe=P0(f);return x.useEffect(function(){if(nt.current){var pe=XN(f,oe,["paymentRequest"]);pe&&nt.current.update(pe)}},[f,oe]),x.useLayoutEffect(function(){return function(){if(nt.current&&typeof nt.current.destroy=="function")try{nt.current.destroy(),nt.current=null}catch{}}},[]),x.createElement("div",{id:u,className:d,ref:Y})},s=function(l){k0("mounts <".concat(r,">"));var u=l.id,d=l.className;return x.createElement("div",{id:u,className:d})},o=n?s:i;return o.propTypes={id:rt.string,className:rt.string,onChange:rt.func,onBlur:rt.func,onFocus:rt.func,onReady:rt.func,onEscape:rt.func,onClick:rt.func,onLoadError:rt.func,onLoaderStart:rt.func,onNetworksChange:rt.func,onConfirm:rt.func,onCancel:rt.func,onShippingAddressChange:rt.func,onShippingRateChange:rt.func,options:rt.object},o.displayName=r,o.__elementType=e,o},Ut=typeof window>"u",EY=x.createContext(null);EY.displayName="EmbeddedCheckoutProviderContext";var SY=function(){var e=k0("calls useStripe()"),n=e.stripe;return n};Ft("auBankAccount",Ut);var nA=Ft("card",Ut);Ft("cardNumber",Ut);Ft("cardExpiry",Ut);Ft("cardCvc",Ut);Ft("fpxBank",Ut);Ft("iban",Ut);Ft("idealBank",Ut);Ft("p24Bank",Ut);Ft("epsBank",Ut);Ft("payment",Ut);Ft("expressCheckout",Ut);Ft("paymentRequestButton",Ut);Ft("linkAuthentication",Ut);Ft("address",Ut);Ft("shippingAddress",Ut);Ft("paymentMethodMessaging",Ut);Ft("affirmMessage",Ut);Ft("afterpayClearpayMessage",Ut);const IY=lt.create({baseURL:"https://amazon-backend-deploy-bk17.onrender.com"});function TY(){const[{user:t,basket:e},n]=U.useContext(ns),[r,i]=U.useState(null),[s,o]=U.useState(!1),a=zm(),l=SY(),u=yY(),d=e==null?void 0:e.reduce((_,v)=>v.amount+_,0),h=e.reduce((_,v)=>v.price*v.amount+_,0),f=_=>{var v,T,I;console.log((v=_==null?void 0:_.error)==null?void 0:v.message),(T=_==null?void 0:_.error)!=null&&T.message?i((I=_==null?void 0:_.error)==null?void 0:I.message):i("")},g=async _=>{var v;_.preventDefault();try{o(!0);const T=await IY({method:"POST",url:`/payment/create?total=${h*100}`});console.log(T.data);const I=(v=T.data)==null?void 0:v.clientPaymentSecret,{paymentIntent:w}=await l.confirmCardPayment(I,{payment_method:{card:u.getElement(nA)}});console.log(w),await YN.collection("users").doc(t.uid).collection("orders").doc(w.id).set({basket:e,amount:w.amount,created:w.created}),n({type:dn.EMPTY_BASKET}),o(!1),a("/orders",{state:{msg:"you have placed new Order"}})}catch{o(!1)}};return x.createElement(ka,null,x.createElement("div",{className:Ti.payment__header},"Checkout (",d,") items"),x.createElement("section",{className:Ti.payment},x.createElement("div",{className:Ti.flex},x.createElement("h3",null,"Delivery Address"),x.createElement("div",null,x.createElement("div",null,t==null?void 0:t.email),x.createElement("div",null,"123 React Lane"),x.createElement("div",null,"Chicago, IL"))),x.createElement("hr",null),x.createElement("div",{className:Ti.flex},x.createElement("h3",null,"Review items and delivery"),x.createElement("div",null,e==null?void 0:e.map((_,v)=>x.createElement(pu,{product:_,flex:!0,key:v})))),x.createElement("hr",null),x.createElement("div",{className:Ti.flex},x.createElement("h3",null,"Payment methods"),x.createElement("div",{className:Ti.payment__card__container},x.createElement("div",{className:Ti.payment__details},x.createElement("form",{onSubmit:g},r&&x.createElement("small",{style:{color:"red"}},r),x.createElement(nA,{onChange:f}),x.createElement("div",{className:Ti.payment__price},x.createElement("div",null,x.createElement("span",{style:{display:"flex",gap:"10px"}},x.createElement("p",null,"Total Order |")," ",x.createElement(rE,{amount:h}))),x.createElement("button",{type:"submit"},s?x.createElement("div",{className:Ti.loading},x.createElement(Mv,{color:"gray",size:12}),x.createElement("p",null,"Please Wait ...")):" Pay Now"))))))))}const bY={basket:[],user:null},RY=(t,e)=>{switch(e.type){case dn.ADD_TO_BASKET:if(t.basket.find(o=>o.id===e.item.id)){const o=t.basket.map(a=>a.id===e.item.id?{...a,amount:a.amount+1}:a);return{...t,basket:o}}else return{...t,basket:[...t.basket,{...e.item,amount:1}]};case dn.REMOVE_FROM_BASKET:const r=t.basket.findIndex(o=>o.id===e.id);let i=[...t.basket];return r>=0&&(i[r].amount>1?i[r]={...i[r],amount:i[r].amount-1}:i.splice(r,1)),{...t,basket:i};case dn.REMOVE_ITEM_IMMEDIATELY:const s=t.basket.findIndex(o=>o.id===e.id);return s>=0&&t.basket.splice(s,1),{...t,basket:t.basket};case dn.EMPTY_BASKET:return{...t,basket:[]};case dn.SET_USER:return{...t,user:e.user};default:return t}},AY="_container_n55mw_1",PY="_cart_product_n55mw_10",kY="_btn_container_n55mw_14",CY="_btn_n55mw_14",xY="_subtotal_n55mw_32",OY="_cart__container_n55mw_35",DY="_clear_all_items_btn_n55mw_75",Es={container:AY,cart_product:PY,btn_container:kY,btn:CY,subtotal:xY,cart__container:OY,clear_all_items_btn:DY};function NY(t){return po({tag:"svg",attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M256 294.1L383 167c9.4-9.4 24.6-9.4 33.9 0s9.3 24.6 0 34L273 345c-9.1 9.1-23.7 9.3-33.1.7L95 201.1c-4.7-4.7-7-10.9-7-17s2.3-12.3 7-17c9.4-9.4 24.6-9.4 33.9 0l127.1 127z"},child:[]}]})(t)}function MY(t){return po({tag:"svg",attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M256 217.9L383 345c9.4 9.4 24.6 9.4 33.9 0 9.4-9.4 9.3-24.6 0-34L273 167c-9.1-9.1-23.7-9.3-33.1-.7L95 310.9c-4.7 4.7-7 10.9-7 17s2.3 12.3 7 17c9.4 9.4 24.6 9.4 33.9 0l127.1-127z"},child:[]}]})(t)}function LY(){var o;const[{user:t,basket:e},n]=U.useContext(ns),r=e.reduce((a,l)=>l.price*l.amount+a,0),i=a=>{n({type:dn.ADD_TO_BASKET,item:a})},s=a=>{n({type:dn.REMOVE_FROM_BASKET,id:a})};return x.createElement(ka,null,x.createElement("section",{className:Es.container},x.createElement("div",{className:Es.cart__container},x.createElement("div",{style:{display:"flex",alignItems:"center",justifyContent:"space-between"}},x.createElement("div",null,x.createElement("h2",null,"Hello ",(o=t==null?void 0:t.email)==null?void 0:o.split("@")[0]),x.createElement("h3",null,"Your shopping basket ")),x.createElement("div",{style:{marginRight:"10px"}},e.length!==0?x.createElement("button",{style:{display:"flex",gap:"5px",padding:"7px"},className:Es.clear_all_items_btn,onClick:()=>n({type:dn.EMPTY_BASKET})},x.createElement(KC,{size:20}),"Clear All Items"):"")),x.createElement("hr",null),(e==null?void 0:e.length)==0?x.createElement("p",null,"Oops ! No item in your cart"):e==null?void 0:e.map((a,l)=>x.createElement("section",{className:Es.cart_product,key:l},x.createElement(pu,{key:l,product:a,renderDesc:!0,renderAdd:!1,flex:!0,showRemoveItem:!0}),x.createElement("div",{className:Es.btn_container},x.createElement("button",{className:Es.btn,onClick:()=>i(a)},x.createElement(MY,{size:20})),x.createElement("span",null,a.amount),x.createElement("button",{className:Es.btn,onClick:()=>s(a.id)},x.createElement(NY,{size:20})))))),(e==null?void 0:e.length)!==0&&x.createElement("div",{className:Es.subtotal},x.createElement("div",null,x.createElement("p",null,"Subtotal (",e==null?void 0:e.length," items)"),x.createElement(rE,{amount:r})),x.createElement("span",null,x.createElement("input",{type:"checkbox",id:"giftCheckBox"}),x.createElement("label",{htmlFor:"giftCheckBox"},x.createElement("small",null,"This order contains a gift"),"t")),x.createElement(xi,{to:"/payments"},"Continue to checkout"))))}const VY="_container_1kil9_1",FY="_orders__container_1kil9_5",rA={container:VY,orders__container:FY};//! moment.js
//! version : 2.30.1
//! authors : Tim Wood, Iskren Chernev, Moment.js contributors
//! license : MIT
//! momentjs.com
var r2;function J(){return r2.apply(null,arguments)}function UY(t){r2=t}function Ur(t){return t instanceof Array||Object.prototype.toString.call(t)==="[object Array]"}function ea(t){return t!=null&&Object.prototype.toString.call(t)==="[object Object]"}function Re(t,e){return Object.prototype.hasOwnProperty.call(t,e)}function MS(t){if(Object.getOwnPropertyNames)return Object.getOwnPropertyNames(t).length===0;var e;for(e in t)if(Re(t,e))return!1;return!0}function Pn(t){return t===void 0}function es(t){return typeof t=="number"||Object.prototype.toString.call(t)==="[object Number]"}function kh(t){return t instanceof Date||Object.prototype.toString.call(t)==="[object Date]"}function i2(t,e){var n=[],r,i=t.length;for(r=0;r<i;++r)n.push(e(t[r],r));return n}function Ds(t,e){for(var n in e)Re(e,n)&&(t[n]=e[n]);return Re(e,"toString")&&(t.toString=e.toString),Re(e,"valueOf")&&(t.valueOf=e.valueOf),t}function yi(t,e,n,r){return A2(t,e,n,r,!0).utc()}function BY(){return{empty:!1,unusedTokens:[],unusedInput:[],overflow:-2,charsLeftOver:0,nullInput:!1,invalidEra:null,invalidMonth:null,invalidFormat:!1,userInvalidated:!1,iso:!1,parsedDateParts:[],era:null,meridiem:null,rfc2822:!1,weekdayMismatch:!1}}function ce(t){return t._pf==null&&(t._pf=BY()),t._pf}var C0;Array.prototype.some?C0=Array.prototype.some:C0=function(t){var e=Object(this),n=e.length>>>0,r;for(r=0;r<n;r++)if(r in e&&t.call(this,e[r],r,e))return!0;return!1};function LS(t){var e=null,n=!1,r=t._d&&!isNaN(t._d.getTime());if(r&&(e=ce(t),n=C0.call(e.parsedDateParts,function(i){return i!=null}),r=e.overflow<0&&!e.empty&&!e.invalidEra&&!e.invalidMonth&&!e.invalidWeekday&&!e.weekdayMismatch&&!e.nullInput&&!e.invalidFormat&&!e.userInvalidated&&(!e.meridiem||e.meridiem&&n),t._strict&&(r=r&&e.charsLeftOver===0&&e.unusedTokens.length===0&&e.bigHour===void 0)),Object.isFrozen==null||!Object.isFrozen(t))t._isValid=r;else return r;return t._isValid}function Yg(t){var e=yi(NaN);return t!=null?Ds(ce(e),t):ce(e).userInvalidated=!0,e}var iA=J.momentProperties=[],T_=!1;function VS(t,e){var n,r,i,s=iA.length;if(Pn(e._isAMomentObject)||(t._isAMomentObject=e._isAMomentObject),Pn(e._i)||(t._i=e._i),Pn(e._f)||(t._f=e._f),Pn(e._l)||(t._l=e._l),Pn(e._strict)||(t._strict=e._strict),Pn(e._tzm)||(t._tzm=e._tzm),Pn(e._isUTC)||(t._isUTC=e._isUTC),Pn(e._offset)||(t._offset=e._offset),Pn(e._pf)||(t._pf=ce(e)),Pn(e._locale)||(t._locale=e._locale),s>0)for(n=0;n<s;n++)r=iA[n],i=e[r],Pn(i)||(t[r]=i);return t}function Ch(t){VS(this,t),this._d=new Date(t._d!=null?t._d.getTime():NaN),this.isValid()||(this._d=new Date(NaN)),T_===!1&&(T_=!0,J.updateOffset(this),T_=!1)}function Br(t){return t instanceof Ch||t!=null&&t._isAMomentObject!=null}function s2(t){J.suppressDeprecationWarnings===!1&&typeof console<"u"&&console.warn&&console.warn("Deprecation warning: "+t)}function _r(t,e){var n=!0;return Ds(function(){if(J.deprecationHandler!=null&&J.deprecationHandler(null,t),n){var r=[],i,s,o,a=arguments.length;for(s=0;s<a;s++){if(i="",typeof arguments[s]=="object"){i+=`
[`+s+"] ";for(o in arguments[0])Re(arguments[0],o)&&(i+=o+": "+arguments[0][o]+", ");i=i.slice(0,-2)}else i=arguments[s];r.push(i)}s2(t+`
Arguments: `+Array.prototype.slice.call(r).join("")+`
`+new Error().stack),n=!1}return e.apply(this,arguments)},e)}var sA={};function o2(t,e){J.deprecationHandler!=null&&J.deprecationHandler(t,e),sA[t]||(s2(e),sA[t]=!0)}J.suppressDeprecationWarnings=!1;J.deprecationHandler=null;function _i(t){return typeof Function<"u"&&t instanceof Function||Object.prototype.toString.call(t)==="[object Function]"}function $Y(t){var e,n;for(n in t)Re(t,n)&&(e=t[n],_i(e)?this[n]=e:this["_"+n]=e);this._config=t,this._dayOfMonthOrdinalParseLenient=new RegExp((this._dayOfMonthOrdinalParse.source||this._ordinalParse.source)+"|"+/\d{1,2}/.source)}function x0(t,e){var n=Ds({},t),r;for(r in e)Re(e,r)&&(ea(t[r])&&ea(e[r])?(n[r]={},Ds(n[r],t[r]),Ds(n[r],e[r])):e[r]!=null?n[r]=e[r]:delete n[r]);for(r in t)Re(t,r)&&!Re(e,r)&&ea(t[r])&&(n[r]=Ds({},n[r]));return n}function FS(t){t!=null&&this.set(t)}var O0;Object.keys?O0=Object.keys:O0=function(t){var e,n=[];for(e in t)Re(t,e)&&n.push(e);return n};var zY={sameDay:"[Today at] LT",nextDay:"[Tomorrow at] LT",nextWeek:"dddd [at] LT",lastDay:"[Yesterday at] LT",lastWeek:"[Last] dddd [at] LT",sameElse:"L"};function jY(t,e,n){var r=this._calendar[t]||this._calendar.sameElse;return _i(r)?r.call(e,n):r}function gi(t,e,n){var r=""+Math.abs(t),i=e-r.length,s=t>=0;return(s?n?"+":"":"-")+Math.pow(10,Math.max(0,i)).toString().substr(1)+r}var US=/(\[[^\[]*\])|(\\)?([Hh]mm(ss)?|Mo|MM?M?M?|Do|DDDo|DD?D?D?|ddd?d?|do?|w[o|w]?|W[o|W]?|Qo?|N{1,5}|YYYYYY|YYYYY|YYYY|YY|y{2,4}|yo?|gg(ggg?)?|GG(GGG?)?|e|E|a|A|hh?|HH?|kk?|mm?|ss?|S{1,9}|x|X|zz?|ZZ?|.)/g,Pf=/(\[[^\[]*\])|(\\)?(LTS|LT|LL?L?L?|l{1,4})/g,b_={},kl={};function re(t,e,n,r){var i=r;typeof r=="string"&&(i=function(){return this[r]()}),t&&(kl[t]=i),e&&(kl[e[0]]=function(){return gi(i.apply(this,arguments),e[1],e[2])}),n&&(kl[n]=function(){return this.localeData().ordinal(i.apply(this,arguments),t)})}function WY(t){return t.match(/\[[\s\S]/)?t.replace(/^\[|\]$/g,""):t.replace(/\\/g,"")}function qY(t){var e=t.match(US),n,r;for(n=0,r=e.length;n<r;n++)kl[e[n]]?e[n]=kl[e[n]]:e[n]=WY(e[n]);return function(i){var s="",o;for(o=0;o<r;o++)s+=_i(e[o])?e[o].call(i,t):e[o];return s}}function cp(t,e){return t.isValid()?(e=a2(e,t.localeData()),b_[e]=b_[e]||qY(e),b_[e](t)):t.localeData().invalidDate()}function a2(t,e){var n=5;function r(i){return e.longDateFormat(i)||i}for(Pf.lastIndex=0;n>=0&&Pf.test(t);)t=t.replace(Pf,r),Pf.lastIndex=0,n-=1;return t}var HY={LTS:"h:mm:ss A",LT:"h:mm A",L:"MM/DD/YYYY",LL:"MMMM D, YYYY",LLL:"MMMM D, YYYY h:mm A",LLLL:"dddd, MMMM D, YYYY h:mm A"};function GY(t){var e=this._longDateFormat[t],n=this._longDateFormat[t.toUpperCase()];return e||!n?e:(this._longDateFormat[t]=n.match(US).map(function(r){return r==="MMMM"||r==="MM"||r==="DD"||r==="dddd"?r.slice(1):r}).join(""),this._longDateFormat[t])}var KY="Invalid date";function YY(){return this._invalidDate}var QY="%d",JY=/\d{1,2}/;function XY(t){return this._ordinal.replace("%d",t)}var ZY={future:"in %s",past:"%s ago",s:"a few seconds",ss:"%d seconds",m:"a minute",mm:"%d minutes",h:"an hour",hh:"%d hours",d:"a day",dd:"%d days",w:"a week",ww:"%d weeks",M:"a month",MM:"%d months",y:"a year",yy:"%d years"};function eQ(t,e,n,r){var i=this._relativeTime[n];return _i(i)?i(t,e,n,r):i.replace(/%d/i,t)}function tQ(t,e){var n=this._relativeTime[t>0?"future":"past"];return _i(n)?n(e):n.replace(/%s/i,e)}var oA={D:"date",dates:"date",date:"date",d:"day",days:"day",day:"day",e:"weekday",weekdays:"weekday",weekday:"weekday",E:"isoWeekday",isoweekdays:"isoWeekday",isoweekday:"isoWeekday",DDD:"dayOfYear",dayofyears:"dayOfYear",dayofyear:"dayOfYear",h:"hour",hours:"hour",hour:"hour",ms:"millisecond",milliseconds:"millisecond",millisecond:"millisecond",m:"minute",minutes:"minute",minute:"minute",M:"month",months:"month",month:"month",Q:"quarter",quarters:"quarter",quarter:"quarter",s:"second",seconds:"second",second:"second",gg:"weekYear",weekyears:"weekYear",weekyear:"weekYear",GG:"isoWeekYear",isoweekyears:"isoWeekYear",isoweekyear:"isoWeekYear",w:"week",weeks:"week",week:"week",W:"isoWeek",isoweeks:"isoWeek",isoweek:"isoWeek",y:"year",years:"year",year:"year"};function vr(t){return typeof t=="string"?oA[t]||oA[t.toLowerCase()]:void 0}function BS(t){var e={},n,r;for(r in t)Re(t,r)&&(n=vr(r),n&&(e[n]=t[r]));return e}var nQ={date:9,day:11,weekday:11,isoWeekday:11,dayOfYear:4,hour:13,millisecond:16,minute:14,month:8,quarter:7,second:15,weekYear:1,isoWeekYear:1,week:5,isoWeek:5,year:1};function rQ(t){var e=[],n;for(n in t)Re(t,n)&&e.push({unit:n,priority:nQ[n]});return e.sort(function(r,i){return r.priority-i.priority}),e}var l2=/\d/,sr=/\d\d/,u2=/\d{3}/,$S=/\d{4}/,Qg=/[+-]?\d{6}/,Ge=/\d\d?/,c2=/\d\d\d\d?/,d2=/\d\d\d\d\d\d?/,Jg=/\d{1,3}/,zS=/\d{1,4}/,Xg=/[+-]?\d{1,6}/,Pu=/\d+/,Zg=/[+-]?\d+/,iQ=/Z|[+-]\d\d:?\d\d/gi,ey=/Z|[+-]\d\d(?::?\d\d)?/gi,sQ=/[+-]?\d+(\.\d{1,3})?/,xh=/[0-9]{0,256}['a-z\u00A0-\u05FF\u0700-\uD7FF\uF900-\uFDCF\uFDF0-\uFF07\uFF10-\uFFEF]{1,256}|[\u0600-\u06FF\/]{1,256}(\s*?[\u0600-\u06FF]{1,256}){1,2}/i,ku=/^[1-9]\d?/,jS=/^([1-9]\d|\d)/,Em;Em={};function Z(t,e,n){Em[t]=_i(e)?e:function(r,i){return r&&n?n:e}}function oQ(t,e){return Re(Em,t)?Em[t](e._strict,e._locale):new RegExp(aQ(t))}function aQ(t){return ji(t.replace("\\","").replace(/\\(\[)|\\(\])|\[([^\]\[]*)\]|\\(.)/g,function(e,n,r,i,s){return n||r||i||s}))}function ji(t){return t.replace(/[-\/\\^$*+?.()|[\]{}]/g,"\\$&")}function ur(t){return t<0?Math.ceil(t)||0:Math.floor(t)}function ve(t){var e=+t,n=0;return e!==0&&isFinite(e)&&(n=ur(e)),n}var D0={};function Me(t,e){var n,r=e,i;for(typeof t=="string"&&(t=[t]),es(e)&&(r=function(s,o){o[e]=ve(s)}),i=t.length,n=0;n<i;n++)D0[t[n]]=r}function Oh(t,e){Me(t,function(n,r,i,s){i._w=i._w||{},e(n,i._w,i,s)})}function lQ(t,e,n){e!=null&&Re(D0,t)&&D0[t](e,n._a,n,t)}function ty(t){return t%4===0&&t%100!==0||t%400===0}var hn=0,Ui=1,ti=2,Mt=3,Or=4,Bi=5,Go=6,uQ=7,cQ=8;re("Y",0,0,function(){var t=this.year();return t<=9999?gi(t,4):"+"+t});re(0,["YY",2],0,function(){return this.year()%100});re(0,["YYYY",4],0,"year");re(0,["YYYYY",5],0,"year");re(0,["YYYYYY",6,!0],0,"year");Z("Y",Zg);Z("YY",Ge,sr);Z("YYYY",zS,$S);Z("YYYYY",Xg,Qg);Z("YYYYYY",Xg,Qg);Me(["YYYYY","YYYYYY"],hn);Me("YYYY",function(t,e){e[hn]=t.length===2?J.parseTwoDigitYear(t):ve(t)});Me("YY",function(t,e){e[hn]=J.parseTwoDigitYear(t)});Me("Y",function(t,e){e[hn]=parseInt(t,10)});function Jc(t){return ty(t)?366:365}J.parseTwoDigitYear=function(t){return ve(t)+(ve(t)>68?1900:2e3)};var h2=Cu("FullYear",!0);function dQ(){return ty(this.year())}function Cu(t,e){return function(n){return n!=null?(f2(this,t,n),J.updateOffset(this,e),this):$d(this,t)}}function $d(t,e){if(!t.isValid())return NaN;var n=t._d,r=t._isUTC;switch(e){case"Milliseconds":return r?n.getUTCMilliseconds():n.getMilliseconds();case"Seconds":return r?n.getUTCSeconds():n.getSeconds();case"Minutes":return r?n.getUTCMinutes():n.getMinutes();case"Hours":return r?n.getUTCHours():n.getHours();case"Date":return r?n.getUTCDate():n.getDate();case"Day":return r?n.getUTCDay():n.getDay();case"Month":return r?n.getUTCMonth():n.getMonth();case"FullYear":return r?n.getUTCFullYear():n.getFullYear();default:return NaN}}function f2(t,e,n){var r,i,s,o,a;if(!(!t.isValid()||isNaN(n))){switch(r=t._d,i=t._isUTC,e){case"Milliseconds":return void(i?r.setUTCMilliseconds(n):r.setMilliseconds(n));case"Seconds":return void(i?r.setUTCSeconds(n):r.setSeconds(n));case"Minutes":return void(i?r.setUTCMinutes(n):r.setMinutes(n));case"Hours":return void(i?r.setUTCHours(n):r.setHours(n));case"Date":return void(i?r.setUTCDate(n):r.setDate(n));case"FullYear":break;default:return}s=n,o=t.month(),a=t.date(),a=a===29&&o===1&&!ty(s)?28:a,i?r.setUTCFullYear(s,o,a):r.setFullYear(s,o,a)}}function hQ(t){return t=vr(t),_i(this[t])?this[t]():this}function fQ(t,e){if(typeof t=="object"){t=BS(t);var n=rQ(t),r,i=n.length;for(r=0;r<i;r++)this[n[r].unit](t[n[r].unit])}else if(t=vr(t),_i(this[t]))return this[t](e);return this}function pQ(t,e){return(t%e+e)%e}var wt;Array.prototype.indexOf?wt=Array.prototype.indexOf:wt=function(t){var e;for(e=0;e<this.length;++e)if(this[e]===t)return e;return-1};function WS(t,e){if(isNaN(t)||isNaN(e))return NaN;var n=pQ(e,12);return t+=(e-n)/12,n===1?ty(t)?29:28:31-n%7%2}re("M",["MM",2],"Mo",function(){return this.month()+1});re("MMM",0,0,function(t){return this.localeData().monthsShort(this,t)});re("MMMM",0,0,function(t){return this.localeData().months(this,t)});Z("M",Ge,ku);Z("MM",Ge,sr);Z("MMM",function(t,e){return e.monthsShortRegex(t)});Z("MMMM",function(t,e){return e.monthsRegex(t)});Me(["M","MM"],function(t,e){e[Ui]=ve(t)-1});Me(["MMM","MMMM"],function(t,e,n,r){var i=n._locale.monthsParse(t,r,n._strict);i!=null?e[Ui]=i:ce(n).invalidMonth=t});var mQ="January_February_March_April_May_June_July_August_September_October_November_December".split("_"),p2="Jan_Feb_Mar_Apr_May_Jun_Jul_Aug_Sep_Oct_Nov_Dec".split("_"),m2=/D[oD]?(\[[^\[\]]*\]|\s)+MMMM?/,gQ=xh,yQ=xh;function _Q(t,e){return t?Ur(this._months)?this._months[t.month()]:this._months[(this._months.isFormat||m2).test(e)?"format":"standalone"][t.month()]:Ur(this._months)?this._months:this._months.standalone}function vQ(t,e){return t?Ur(this._monthsShort)?this._monthsShort[t.month()]:this._monthsShort[m2.test(e)?"format":"standalone"][t.month()]:Ur(this._monthsShort)?this._monthsShort:this._monthsShort.standalone}function wQ(t,e,n){var r,i,s,o=t.toLocaleLowerCase();if(!this._monthsParse)for(this._monthsParse=[],this._longMonthsParse=[],this._shortMonthsParse=[],r=0;r<12;++r)s=yi([2e3,r]),this._shortMonthsParse[r]=this.monthsShort(s,"").toLocaleLowerCase(),this._longMonthsParse[r]=this.months(s,"").toLocaleLowerCase();return n?e==="MMM"?(i=wt.call(this._shortMonthsParse,o),i!==-1?i:null):(i=wt.call(this._longMonthsParse,o),i!==-1?i:null):e==="MMM"?(i=wt.call(this._shortMonthsParse,o),i!==-1?i:(i=wt.call(this._longMonthsParse,o),i!==-1?i:null)):(i=wt.call(this._longMonthsParse,o),i!==-1?i:(i=wt.call(this._shortMonthsParse,o),i!==-1?i:null))}function EQ(t,e,n){var r,i,s;if(this._monthsParseExact)return wQ.call(this,t,e,n);for(this._monthsParse||(this._monthsParse=[],this._longMonthsParse=[],this._shortMonthsParse=[]),r=0;r<12;r++){if(i=yi([2e3,r]),n&&!this._longMonthsParse[r]&&(this._longMonthsParse[r]=new RegExp("^"+this.months(i,"").replace(".","")+"$","i"),this._shortMonthsParse[r]=new RegExp("^"+this.monthsShort(i,"").replace(".","")+"$","i")),!n&&!this._monthsParse[r]&&(s="^"+this.months(i,"")+"|^"+this.monthsShort(i,""),this._monthsParse[r]=new RegExp(s.replace(".",""),"i")),n&&e==="MMMM"&&this._longMonthsParse[r].test(t))return r;if(n&&e==="MMM"&&this._shortMonthsParse[r].test(t))return r;if(!n&&this._monthsParse[r].test(t))return r}}function g2(t,e){if(!t.isValid())return t;if(typeof e=="string"){if(/^\d+$/.test(e))e=ve(e);else if(e=t.localeData().monthsParse(e),!es(e))return t}var n=e,r=t.date();return r=r<29?r:Math.min(r,WS(t.year(),n)),t._isUTC?t._d.setUTCMonth(n,r):t._d.setMonth(n,r),t}function y2(t){return t!=null?(g2(this,t),J.updateOffset(this,!0),this):$d(this,"Month")}function SQ(){return WS(this.year(),this.month())}function IQ(t){return this._monthsParseExact?(Re(this,"_monthsRegex")||_2.call(this),t?this._monthsShortStrictRegex:this._monthsShortRegex):(Re(this,"_monthsShortRegex")||(this._monthsShortRegex=gQ),this._monthsShortStrictRegex&&t?this._monthsShortStrictRegex:this._monthsShortRegex)}function TQ(t){return this._monthsParseExact?(Re(this,"_monthsRegex")||_2.call(this),t?this._monthsStrictRegex:this._monthsRegex):(Re(this,"_monthsRegex")||(this._monthsRegex=yQ),this._monthsStrictRegex&&t?this._monthsStrictRegex:this._monthsRegex)}function _2(){function t(l,u){return u.length-l.length}var e=[],n=[],r=[],i,s,o,a;for(i=0;i<12;i++)s=yi([2e3,i]),o=ji(this.monthsShort(s,"")),a=ji(this.months(s,"")),e.push(o),n.push(a),r.push(a),r.push(o);e.sort(t),n.sort(t),r.sort(t),this._monthsRegex=new RegExp("^("+r.join("|")+")","i"),this._monthsShortRegex=this._monthsRegex,this._monthsStrictRegex=new RegExp("^("+n.join("|")+")","i"),this._monthsShortStrictRegex=new RegExp("^("+e.join("|")+")","i")}function bQ(t,e,n,r,i,s,o){var a;return t<100&&t>=0?(a=new Date(t+400,e,n,r,i,s,o),isFinite(a.getFullYear())&&a.setFullYear(t)):a=new Date(t,e,n,r,i,s,o),a}function zd(t){var e,n;return t<100&&t>=0?(n=Array.prototype.slice.call(arguments),n[0]=t+400,e=new Date(Date.UTC.apply(null,n)),isFinite(e.getUTCFullYear())&&e.setUTCFullYear(t)):e=new Date(Date.UTC.apply(null,arguments)),e}function Sm(t,e,n){var r=7+e-n,i=(7+zd(t,0,r).getUTCDay()-e)%7;return-i+r-1}function v2(t,e,n,r,i){var s=(7+n-r)%7,o=Sm(t,r,i),a=1+7*(e-1)+s+o,l,u;return a<=0?(l=t-1,u=Jc(l)+a):a>Jc(t)?(l=t+1,u=a-Jc(t)):(l=t,u=a),{year:l,dayOfYear:u}}function jd(t,e,n){var r=Sm(t.year(),e,n),i=Math.floor((t.dayOfYear()-r-1)/7)+1,s,o;return i<1?(o=t.year()-1,s=i+Wi(o,e,n)):i>Wi(t.year(),e,n)?(s=i-Wi(t.year(),e,n),o=t.year()+1):(o=t.year(),s=i),{week:s,year:o}}function Wi(t,e,n){var r=Sm(t,e,n),i=Sm(t+1,e,n);return(Jc(t)-r+i)/7}re("w",["ww",2],"wo","week");re("W",["WW",2],"Wo","isoWeek");Z("w",Ge,ku);Z("ww",Ge,sr);Z("W",Ge,ku);Z("WW",Ge,sr);Oh(["w","ww","W","WW"],function(t,e,n,r){e[r.substr(0,1)]=ve(t)});function RQ(t){return jd(t,this._week.dow,this._week.doy).week}var AQ={dow:0,doy:6};function PQ(){return this._week.dow}function kQ(){return this._week.doy}function CQ(t){var e=this.localeData().week(this);return t==null?e:this.add((t-e)*7,"d")}function xQ(t){var e=jd(this,1,4).week;return t==null?e:this.add((t-e)*7,"d")}re("d",0,"do","day");re("dd",0,0,function(t){return this.localeData().weekdaysMin(this,t)});re("ddd",0,0,function(t){return this.localeData().weekdaysShort(this,t)});re("dddd",0,0,function(t){return this.localeData().weekdays(this,t)});re("e",0,0,"weekday");re("E",0,0,"isoWeekday");Z("d",Ge);Z("e",Ge);Z("E",Ge);Z("dd",function(t,e){return e.weekdaysMinRegex(t)});Z("ddd",function(t,e){return e.weekdaysShortRegex(t)});Z("dddd",function(t,e){return e.weekdaysRegex(t)});Oh(["dd","ddd","dddd"],function(t,e,n,r){var i=n._locale.weekdaysParse(t,r,n._strict);i!=null?e.d=i:ce(n).invalidWeekday=t});Oh(["d","e","E"],function(t,e,n,r){e[r]=ve(t)});function OQ(t,e){return typeof t!="string"?t:isNaN(t)?(t=e.weekdaysParse(t),typeof t=="number"?t:null):parseInt(t,10)}function DQ(t,e){return typeof t=="string"?e.weekdaysParse(t)%7||7:isNaN(t)?null:t}function qS(t,e){return t.slice(e,7).concat(t.slice(0,e))}var NQ="Sunday_Monday_Tuesday_Wednesday_Thursday_Friday_Saturday".split("_"),w2="Sun_Mon_Tue_Wed_Thu_Fri_Sat".split("_"),MQ="Su_Mo_Tu_We_Th_Fr_Sa".split("_"),LQ=xh,VQ=xh,FQ=xh;function UQ(t,e){var n=Ur(this._weekdays)?this._weekdays:this._weekdays[t&&t!==!0&&this._weekdays.isFormat.test(e)?"format":"standalone"];return t===!0?qS(n,this._week.dow):t?n[t.day()]:n}function BQ(t){return t===!0?qS(this._weekdaysShort,this._week.dow):t?this._weekdaysShort[t.day()]:this._weekdaysShort}function $Q(t){return t===!0?qS(this._weekdaysMin,this._week.dow):t?this._weekdaysMin[t.day()]:this._weekdaysMin}function zQ(t,e,n){var r,i,s,o=t.toLocaleLowerCase();if(!this._weekdaysParse)for(this._weekdaysParse=[],this._shortWeekdaysParse=[],this._minWeekdaysParse=[],r=0;r<7;++r)s=yi([2e3,1]).day(r),this._minWeekdaysParse[r]=this.weekdaysMin(s,"").toLocaleLowerCase(),this._shortWeekdaysParse[r]=this.weekdaysShort(s,"").toLocaleLowerCase(),this._weekdaysParse[r]=this.weekdays(s,"").toLocaleLowerCase();return n?e==="dddd"?(i=wt.call(this._weekdaysParse,o),i!==-1?i:null):e==="ddd"?(i=wt.call(this._shortWeekdaysParse,o),i!==-1?i:null):(i=wt.call(this._minWeekdaysParse,o),i!==-1?i:null):e==="dddd"?(i=wt.call(this._weekdaysParse,o),i!==-1||(i=wt.call(this._shortWeekdaysParse,o),i!==-1)?i:(i=wt.call(this._minWeekdaysParse,o),i!==-1?i:null)):e==="ddd"?(i=wt.call(this._shortWeekdaysParse,o),i!==-1||(i=wt.call(this._weekdaysParse,o),i!==-1)?i:(i=wt.call(this._minWeekdaysParse,o),i!==-1?i:null)):(i=wt.call(this._minWeekdaysParse,o),i!==-1||(i=wt.call(this._weekdaysParse,o),i!==-1)?i:(i=wt.call(this._shortWeekdaysParse,o),i!==-1?i:null))}function jQ(t,e,n){var r,i,s;if(this._weekdaysParseExact)return zQ.call(this,t,e,n);for(this._weekdaysParse||(this._weekdaysParse=[],this._minWeekdaysParse=[],this._shortWeekdaysParse=[],this._fullWeekdaysParse=[]),r=0;r<7;r++){if(i=yi([2e3,1]).day(r),n&&!this._fullWeekdaysParse[r]&&(this._fullWeekdaysParse[r]=new RegExp("^"+this.weekdays(i,"").replace(".","\\.?")+"$","i"),this._shortWeekdaysParse[r]=new RegExp("^"+this.weekdaysShort(i,"").replace(".","\\.?")+"$","i"),this._minWeekdaysParse[r]=new RegExp("^"+this.weekdaysMin(i,"").replace(".","\\.?")+"$","i")),this._weekdaysParse[r]||(s="^"+this.weekdays(i,"")+"|^"+this.weekdaysShort(i,"")+"|^"+this.weekdaysMin(i,""),this._weekdaysParse[r]=new RegExp(s.replace(".",""),"i")),n&&e==="dddd"&&this._fullWeekdaysParse[r].test(t))return r;if(n&&e==="ddd"&&this._shortWeekdaysParse[r].test(t))return r;if(n&&e==="dd"&&this._minWeekdaysParse[r].test(t))return r;if(!n&&this._weekdaysParse[r].test(t))return r}}function WQ(t){if(!this.isValid())return t!=null?this:NaN;var e=$d(this,"Day");return t!=null?(t=OQ(t,this.localeData()),this.add(t-e,"d")):e}function qQ(t){if(!this.isValid())return t!=null?this:NaN;var e=(this.day()+7-this.localeData()._week.dow)%7;return t==null?e:this.add(t-e,"d")}function HQ(t){if(!this.isValid())return t!=null?this:NaN;if(t!=null){var e=DQ(t,this.localeData());return this.day(this.day()%7?e:e-7)}else return this.day()||7}function GQ(t){return this._weekdaysParseExact?(Re(this,"_weekdaysRegex")||HS.call(this),t?this._weekdaysStrictRegex:this._weekdaysRegex):(Re(this,"_weekdaysRegex")||(this._weekdaysRegex=LQ),this._weekdaysStrictRegex&&t?this._weekdaysStrictRegex:this._weekdaysRegex)}function KQ(t){return this._weekdaysParseExact?(Re(this,"_weekdaysRegex")||HS.call(this),t?this._weekdaysShortStrictRegex:this._weekdaysShortRegex):(Re(this,"_weekdaysShortRegex")||(this._weekdaysShortRegex=VQ),this._weekdaysShortStrictRegex&&t?this._weekdaysShortStrictRegex:this._weekdaysShortRegex)}function YQ(t){return this._weekdaysParseExact?(Re(this,"_weekdaysRegex")||HS.call(this),t?this._weekdaysMinStrictRegex:this._weekdaysMinRegex):(Re(this,"_weekdaysMinRegex")||(this._weekdaysMinRegex=FQ),this._weekdaysMinStrictRegex&&t?this._weekdaysMinStrictRegex:this._weekdaysMinRegex)}function HS(){function t(d,h){return h.length-d.length}var e=[],n=[],r=[],i=[],s,o,a,l,u;for(s=0;s<7;s++)o=yi([2e3,1]).day(s),a=ji(this.weekdaysMin(o,"")),l=ji(this.weekdaysShort(o,"")),u=ji(this.weekdays(o,"")),e.push(a),n.push(l),r.push(u),i.push(a),i.push(l),i.push(u);e.sort(t),n.sort(t),r.sort(t),i.sort(t),this._weekdaysRegex=new RegExp("^("+i.join("|")+")","i"),this._weekdaysShortRegex=this._weekdaysRegex,this._weekdaysMinRegex=this._weekdaysRegex,this._weekdaysStrictRegex=new RegExp("^("+r.join("|")+")","i"),this._weekdaysShortStrictRegex=new RegExp("^("+n.join("|")+")","i"),this._weekdaysMinStrictRegex=new RegExp("^("+e.join("|")+")","i")}function GS(){return this.hours()%12||12}function QQ(){return this.hours()||24}re("H",["HH",2],0,"hour");re("h",["hh",2],0,GS);re("k",["kk",2],0,QQ);re("hmm",0,0,function(){return""+GS.apply(this)+gi(this.minutes(),2)});re("hmmss",0,0,function(){return""+GS.apply(this)+gi(this.minutes(),2)+gi(this.seconds(),2)});re("Hmm",0,0,function(){return""+this.hours()+gi(this.minutes(),2)});re("Hmmss",0,0,function(){return""+this.hours()+gi(this.minutes(),2)+gi(this.seconds(),2)});function E2(t,e){re(t,0,0,function(){return this.localeData().meridiem(this.hours(),this.minutes(),e)})}E2("a",!0);E2("A",!1);function S2(t,e){return e._meridiemParse}Z("a",S2);Z("A",S2);Z("H",Ge,jS);Z("h",Ge,ku);Z("k",Ge,ku);Z("HH",Ge,sr);Z("hh",Ge,sr);Z("kk",Ge,sr);Z("hmm",c2);Z("hmmss",d2);Z("Hmm",c2);Z("Hmmss",d2);Me(["H","HH"],Mt);Me(["k","kk"],function(t,e,n){var r=ve(t);e[Mt]=r===24?0:r});Me(["a","A"],function(t,e,n){n._isPm=n._locale.isPM(t),n._meridiem=t});Me(["h","hh"],function(t,e,n){e[Mt]=ve(t),ce(n).bigHour=!0});Me("hmm",function(t,e,n){var r=t.length-2;e[Mt]=ve(t.substr(0,r)),e[Or]=ve(t.substr(r)),ce(n).bigHour=!0});Me("hmmss",function(t,e,n){var r=t.length-4,i=t.length-2;e[Mt]=ve(t.substr(0,r)),e[Or]=ve(t.substr(r,2)),e[Bi]=ve(t.substr(i)),ce(n).bigHour=!0});Me("Hmm",function(t,e,n){var r=t.length-2;e[Mt]=ve(t.substr(0,r)),e[Or]=ve(t.substr(r))});Me("Hmmss",function(t,e,n){var r=t.length-4,i=t.length-2;e[Mt]=ve(t.substr(0,r)),e[Or]=ve(t.substr(r,2)),e[Bi]=ve(t.substr(i))});function JQ(t){return(t+"").toLowerCase().charAt(0)==="p"}var XQ=/[ap]\.?m?\.?/i,ZQ=Cu("Hours",!0);function eJ(t,e,n){return t>11?n?"pm":"PM":n?"am":"AM"}var I2={calendar:zY,longDateFormat:HY,invalidDate:KY,ordinal:QY,dayOfMonthOrdinalParse:JY,relativeTime:ZY,months:mQ,monthsShort:p2,week:AQ,weekdays:NQ,weekdaysMin:MQ,weekdaysShort:w2,meridiemParse:XQ},Qe={},dc={},Wd;function tJ(t,e){var n,r=Math.min(t.length,e.length);for(n=0;n<r;n+=1)if(t[n]!==e[n])return n;return r}function aA(t){return t&&t.toLowerCase().replace("_","-")}function nJ(t){for(var e=0,n,r,i,s;e<t.length;){for(s=aA(t[e]).split("-"),n=s.length,r=aA(t[e+1]),r=r?r.split("-"):null;n>0;){if(i=ny(s.slice(0,n).join("-")),i)return i;if(r&&r.length>=n&&tJ(s,r)>=n-1)break;n--}e++}return Wd}function rJ(t){return!!(t&&t.match("^[^/\\\\]*$"))}function ny(t){var e=null,n;if(Qe[t]===void 0&&typeof fp<"u"&&fp&&fp.exports&&rJ(t))try{e=Wd._abbr,n=require,n("./locale/"+t),Hs(e)}catch{Qe[t]=null}return Qe[t]}function Hs(t,e){var n;return t&&(Pn(e)?n=ls(t):n=KS(t,e),n?Wd=n:typeof console<"u"&&console.warn&&console.warn("Locale "+t+" not found. Did you forget to load it?")),Wd._abbr}function KS(t,e){if(e!==null){var n,r=I2;if(e.abbr=t,Qe[t]!=null)o2("defineLocaleOverride","use moment.updateLocale(localeName, config) to change an existing locale. moment.defineLocale(localeName, config) should only be used for creating a new locale See http://momentjs.com/guides/#/warnings/define-locale/ for more info."),r=Qe[t]._config;else if(e.parentLocale!=null)if(Qe[e.parentLocale]!=null)r=Qe[e.parentLocale]._config;else if(n=ny(e.parentLocale),n!=null)r=n._config;else return dc[e.parentLocale]||(dc[e.parentLocale]=[]),dc[e.parentLocale].push({name:t,config:e}),null;return Qe[t]=new FS(x0(r,e)),dc[t]&&dc[t].forEach(function(i){KS(i.name,i.config)}),Hs(t),Qe[t]}else return delete Qe[t],null}function iJ(t,e){if(e!=null){var n,r,i=I2;Qe[t]!=null&&Qe[t].parentLocale!=null?Qe[t].set(x0(Qe[t]._config,e)):(r=ny(t),r!=null&&(i=r._config),e=x0(i,e),r==null&&(e.abbr=t),n=new FS(e),n.parentLocale=Qe[t],Qe[t]=n),Hs(t)}else Qe[t]!=null&&(Qe[t].parentLocale!=null?(Qe[t]=Qe[t].parentLocale,t===Hs()&&Hs(t)):Qe[t]!=null&&delete Qe[t]);return Qe[t]}function ls(t){var e;if(t&&t._locale&&t._locale._abbr&&(t=t._locale._abbr),!t)return Wd;if(!Ur(t)){if(e=ny(t),e)return e;t=[t]}return nJ(t)}function sJ(){return O0(Qe)}function YS(t){var e,n=t._a;return n&&ce(t).overflow===-2&&(e=n[Ui]<0||n[Ui]>11?Ui:n[ti]<1||n[ti]>WS(n[hn],n[Ui])?ti:n[Mt]<0||n[Mt]>24||n[Mt]===24&&(n[Or]!==0||n[Bi]!==0||n[Go]!==0)?Mt:n[Or]<0||n[Or]>59?Or:n[Bi]<0||n[Bi]>59?Bi:n[Go]<0||n[Go]>999?Go:-1,ce(t)._overflowDayOfYear&&(e<hn||e>ti)&&(e=ti),ce(t)._overflowWeeks&&e===-1&&(e=uQ),ce(t)._overflowWeekday&&e===-1&&(e=cQ),ce(t).overflow=e),t}var oJ=/^\s*((?:[+-]\d{6}|\d{4})-(?:\d\d-\d\d|W\d\d-\d|W\d\d|\d\d\d|\d\d))(?:(T| )(\d\d(?::\d\d(?::\d\d(?:[.,]\d+)?)?)?)([+-]\d\d(?::?\d\d)?|\s*Z)?)?$/,aJ=/^\s*((?:[+-]\d{6}|\d{4})(?:\d\d\d\d|W\d\d\d|W\d\d|\d\d\d|\d\d|))(?:(T| )(\d\d(?:\d\d(?:\d\d(?:[.,]\d+)?)?)?)([+-]\d\d(?::?\d\d)?|\s*Z)?)?$/,lJ=/Z|[+-]\d\d(?::?\d\d)?/,kf=[["YYYYYY-MM-DD",/[+-]\d{6}-\d\d-\d\d/],["YYYY-MM-DD",/\d{4}-\d\d-\d\d/],["GGGG-[W]WW-E",/\d{4}-W\d\d-\d/],["GGGG-[W]WW",/\d{4}-W\d\d/,!1],["YYYY-DDD",/\d{4}-\d{3}/],["YYYY-MM",/\d{4}-\d\d/,!1],["YYYYYYMMDD",/[+-]\d{10}/],["YYYYMMDD",/\d{8}/],["GGGG[W]WWE",/\d{4}W\d{3}/],["GGGG[W]WW",/\d{4}W\d{2}/,!1],["YYYYDDD",/\d{7}/],["YYYYMM",/\d{6}/,!1],["YYYY",/\d{4}/,!1]],R_=[["HH:mm:ss.SSSS",/\d\d:\d\d:\d\d\.\d+/],["HH:mm:ss,SSSS",/\d\d:\d\d:\d\d,\d+/],["HH:mm:ss",/\d\d:\d\d:\d\d/],["HH:mm",/\d\d:\d\d/],["HHmmss.SSSS",/\d\d\d\d\d\d\.\d+/],["HHmmss,SSSS",/\d\d\d\d\d\d,\d+/],["HHmmss",/\d\d\d\d\d\d/],["HHmm",/\d\d\d\d/],["HH",/\d\d/]],uJ=/^\/?Date\((-?\d+)/i,cJ=/^(?:(Mon|Tue|Wed|Thu|Fri|Sat|Sun),?\s)?(\d{1,2})\s(Jan|Feb|Mar|Apr|May|Jun|Jul|Aug|Sep|Oct|Nov|Dec)\s(\d{2,4})\s(\d\d):(\d\d)(?::(\d\d))?\s(?:(UT|GMT|[ECMP][SD]T)|([Zz])|([+-]\d{4}))$/,dJ={UT:0,GMT:0,EDT:-4*60,EST:-5*60,CDT:-5*60,CST:-6*60,MDT:-6*60,MST:-7*60,PDT:-7*60,PST:-8*60};function T2(t){var e,n,r=t._i,i=oJ.exec(r)||aJ.exec(r),s,o,a,l,u=kf.length,d=R_.length;if(i){for(ce(t).iso=!0,e=0,n=u;e<n;e++)if(kf[e][1].exec(i[1])){o=kf[e][0],s=kf[e][2]!==!1;break}if(o==null){t._isValid=!1;return}if(i[3]){for(e=0,n=d;e<n;e++)if(R_[e][1].exec(i[3])){a=(i[2]||" ")+R_[e][0];break}if(a==null){t._isValid=!1;return}}if(!s&&a!=null){t._isValid=!1;return}if(i[4])if(lJ.exec(i[4]))l="Z";else{t._isValid=!1;return}t._f=o+(a||"")+(l||""),JS(t)}else t._isValid=!1}function hJ(t,e,n,r,i,s){var o=[fJ(t),p2.indexOf(e),parseInt(n,10),parseInt(r,10),parseInt(i,10)];return s&&o.push(parseInt(s,10)),o}function fJ(t){var e=parseInt(t,10);return e<=49?2e3+e:e<=999?1900+e:e}function pJ(t){return t.replace(/\([^()]*\)|[\n\t]/g," ").replace(/(\s\s+)/g," ").replace(/^\s\s*/,"").replace(/\s\s*$/,"")}function mJ(t,e,n){if(t){var r=w2.indexOf(t),i=new Date(e[0],e[1],e[2]).getDay();if(r!==i)return ce(n).weekdayMismatch=!0,n._isValid=!1,!1}return!0}function gJ(t,e,n){if(t)return dJ[t];if(e)return 0;var r=parseInt(n,10),i=r%100,s=(r-i)/100;return s*60+i}function b2(t){var e=cJ.exec(pJ(t._i)),n;if(e){if(n=hJ(e[4],e[3],e[2],e[5],e[6],e[7]),!mJ(e[1],n,t))return;t._a=n,t._tzm=gJ(e[8],e[9],e[10]),t._d=zd.apply(null,t._a),t._d.setUTCMinutes(t._d.getUTCMinutes()-t._tzm),ce(t).rfc2822=!0}else t._isValid=!1}function yJ(t){var e=uJ.exec(t._i);if(e!==null){t._d=new Date(+e[1]);return}if(T2(t),t._isValid===!1)delete t._isValid;else return;if(b2(t),t._isValid===!1)delete t._isValid;else return;t._strict?t._isValid=!1:J.createFromInputFallback(t)}J.createFromInputFallback=_r("value provided is not in a recognized RFC2822 or ISO format. moment construction falls back to js Date(), which is not reliable across all browsers and versions. Non RFC2822/ISO date formats are discouraged. Please refer to http://momentjs.com/guides/#/warnings/js-date/ for more info.",function(t){t._d=new Date(t._i+(t._useUTC?" UTC":""))});function el(t,e,n){return t??e??n}function _J(t){var e=new Date(J.now());return t._useUTC?[e.getUTCFullYear(),e.getUTCMonth(),e.getUTCDate()]:[e.getFullYear(),e.getMonth(),e.getDate()]}function QS(t){var e,n,r=[],i,s,o;if(!t._d){for(i=_J(t),t._w&&t._a[ti]==null&&t._a[Ui]==null&&vJ(t),t._dayOfYear!=null&&(o=el(t._a[hn],i[hn]),(t._dayOfYear>Jc(o)||t._dayOfYear===0)&&(ce(t)._overflowDayOfYear=!0),n=zd(o,0,t._dayOfYear),t._a[Ui]=n.getUTCMonth(),t._a[ti]=n.getUTCDate()),e=0;e<3&&t._a[e]==null;++e)t._a[e]=r[e]=i[e];for(;e<7;e++)t._a[e]=r[e]=t._a[e]==null?e===2?1:0:t._a[e];t._a[Mt]===24&&t._a[Or]===0&&t._a[Bi]===0&&t._a[Go]===0&&(t._nextDay=!0,t._a[Mt]=0),t._d=(t._useUTC?zd:bQ).apply(null,r),s=t._useUTC?t._d.getUTCDay():t._d.getDay(),t._tzm!=null&&t._d.setUTCMinutes(t._d.getUTCMinutes()-t._tzm),t._nextDay&&(t._a[Mt]=24),t._w&&typeof t._w.d<"u"&&t._w.d!==s&&(ce(t).weekdayMismatch=!0)}}function vJ(t){var e,n,r,i,s,o,a,l,u;e=t._w,e.GG!=null||e.W!=null||e.E!=null?(s=1,o=4,n=el(e.GG,t._a[hn],jd(He(),1,4).year),r=el(e.W,1),i=el(e.E,1),(i<1||i>7)&&(l=!0)):(s=t._locale._week.dow,o=t._locale._week.doy,u=jd(He(),s,o),n=el(e.gg,t._a[hn],u.year),r=el(e.w,u.week),e.d!=null?(i=e.d,(i<0||i>6)&&(l=!0)):e.e!=null?(i=e.e+s,(e.e<0||e.e>6)&&(l=!0)):i=s),r<1||r>Wi(n,s,o)?ce(t)._overflowWeeks=!0:l!=null?ce(t)._overflowWeekday=!0:(a=v2(n,r,i,s,o),t._a[hn]=a.year,t._dayOfYear=a.dayOfYear)}J.ISO_8601=function(){};J.RFC_2822=function(){};function JS(t){if(t._f===J.ISO_8601){T2(t);return}if(t._f===J.RFC_2822){b2(t);return}t._a=[],ce(t).empty=!0;var e=""+t._i,n,r,i,s,o,a=e.length,l=0,u,d;for(i=a2(t._f,t._locale).match(US)||[],d=i.length,n=0;n<d;n++)s=i[n],r=(e.match(oQ(s,t))||[])[0],r&&(o=e.substr(0,e.indexOf(r)),o.length>0&&ce(t).unusedInput.push(o),e=e.slice(e.indexOf(r)+r.length),l+=r.length),kl[s]?(r?ce(t).empty=!1:ce(t).unusedTokens.push(s),lQ(s,r,t)):t._strict&&!r&&ce(t).unusedTokens.push(s);ce(t).charsLeftOver=a-l,e.length>0&&ce(t).unusedInput.push(e),t._a[Mt]<=12&&ce(t).bigHour===!0&&t._a[Mt]>0&&(ce(t).bigHour=void 0),ce(t).parsedDateParts=t._a.slice(0),ce(t).meridiem=t._meridiem,t._a[Mt]=wJ(t._locale,t._a[Mt],t._meridiem),u=ce(t).era,u!==null&&(t._a[hn]=t._locale.erasConvertYear(u,t._a[hn])),QS(t),YS(t)}function wJ(t,e,n){var r;return n==null?e:t.meridiemHour!=null?t.meridiemHour(e,n):(t.isPM!=null&&(r=t.isPM(n),r&&e<12&&(e+=12),!r&&e===12&&(e=0)),e)}function EJ(t){var e,n,r,i,s,o,a=!1,l=t._f.length;if(l===0){ce(t).invalidFormat=!0,t._d=new Date(NaN);return}for(i=0;i<l;i++)s=0,o=!1,e=VS({},t),t._useUTC!=null&&(e._useUTC=t._useUTC),e._f=t._f[i],JS(e),LS(e)&&(o=!0),s+=ce(e).charsLeftOver,s+=ce(e).unusedTokens.length*10,ce(e).score=s,a?s<r&&(r=s,n=e):(r==null||s<r||o)&&(r=s,n=e,o&&(a=!0));Ds(t,n||e)}function SJ(t){if(!t._d){var e=BS(t._i),n=e.day===void 0?e.date:e.day;t._a=i2([e.year,e.month,n,e.hour,e.minute,e.second,e.millisecond],function(r){return r&&parseInt(r,10)}),QS(t)}}function IJ(t){var e=new Ch(YS(R2(t)));return e._nextDay&&(e.add(1,"d"),e._nextDay=void 0),e}function R2(t){var e=t._i,n=t._f;return t._locale=t._locale||ls(t._l),e===null||n===void 0&&e===""?Yg({nullInput:!0}):(typeof e=="string"&&(t._i=e=t._locale.preparse(e)),Br(e)?new Ch(YS(e)):(kh(e)?t._d=e:Ur(n)?EJ(t):n?JS(t):TJ(t),LS(t)||(t._d=null),t))}function TJ(t){var e=t._i;Pn(e)?t._d=new Date(J.now()):kh(e)?t._d=new Date(e.valueOf()):typeof e=="string"?yJ(t):Ur(e)?(t._a=i2(e.slice(0),function(n){return parseInt(n,10)}),QS(t)):ea(e)?SJ(t):es(e)?t._d=new Date(e):J.createFromInputFallback(t)}function A2(t,e,n,r,i){var s={};return(e===!0||e===!1)&&(r=e,e=void 0),(n===!0||n===!1)&&(r=n,n=void 0),(ea(t)&&MS(t)||Ur(t)&&t.length===0)&&(t=void 0),s._isAMomentObject=!0,s._useUTC=s._isUTC=i,s._l=n,s._i=t,s._f=e,s._strict=r,IJ(s)}function He(t,e,n,r){return A2(t,e,n,r,!1)}var bJ=_r("moment().min is deprecated, use moment.max instead. http://momentjs.com/guides/#/warnings/min-max/",function(){var t=He.apply(null,arguments);return this.isValid()&&t.isValid()?t<this?this:t:Yg()}),RJ=_r("moment().max is deprecated, use moment.min instead. http://momentjs.com/guides/#/warnings/min-max/",function(){var t=He.apply(null,arguments);return this.isValid()&&t.isValid()?t>this?this:t:Yg()});function P2(t,e){var n,r;if(e.length===1&&Ur(e[0])&&(e=e[0]),!e.length)return He();for(n=e[0],r=1;r<e.length;++r)(!e[r].isValid()||e[r][t](n))&&(n=e[r]);return n}function AJ(){var t=[].slice.call(arguments,0);return P2("isBefore",t)}function PJ(){var t=[].slice.call(arguments,0);return P2("isAfter",t)}var kJ=function(){return Date.now?Date.now():+new Date},hc=["year","quarter","month","week","day","hour","minute","second","millisecond"];function CJ(t){var e,n=!1,r,i=hc.length;for(e in t)if(Re(t,e)&&!(wt.call(hc,e)!==-1&&(t[e]==null||!isNaN(t[e]))))return!1;for(r=0;r<i;++r)if(t[hc[r]]){if(n)return!1;parseFloat(t[hc[r]])!==ve(t[hc[r]])&&(n=!0)}return!0}function xJ(){return this._isValid}function OJ(){return zr(NaN)}function ry(t){var e=BS(t),n=e.year||0,r=e.quarter||0,i=e.month||0,s=e.week||e.isoWeek||0,o=e.day||0,a=e.hour||0,l=e.minute||0,u=e.second||0,d=e.millisecond||0;this._isValid=CJ(e),this._milliseconds=+d+u*1e3+l*6e4+a*1e3*60*60,this._days=+o+s*7,this._months=+i+r*3+n*12,this._data={},this._locale=ls(),this._bubble()}function dp(t){return t instanceof ry}function N0(t){return t<0?Math.round(-1*t)*-1:Math.round(t)}function DJ(t,e,n){var r=Math.min(t.length,e.length),i=Math.abs(t.length-e.length),s=0,o;for(o=0;o<r;o++)ve(t[o])!==ve(e[o])&&s++;return s+i}function k2(t,e){re(t,0,0,function(){var n=this.utcOffset(),r="+";return n<0&&(n=-n,r="-"),r+gi(~~(n/60),2)+e+gi(~~n%60,2)})}k2("Z",":");k2("ZZ","");Z("Z",ey);Z("ZZ",ey);Me(["Z","ZZ"],function(t,e,n){n._useUTC=!0,n._tzm=XS(ey,t)});var NJ=/([\+\-]|\d\d)/gi;function XS(t,e){var n=(e||"").match(t),r,i,s;return n===null?null:(r=n[n.length-1]||[],i=(r+"").match(NJ)||["-",0,0],s=+(i[1]*60)+ve(i[2]),s===0?0:i[0]==="+"?s:-s)}function ZS(t,e){var n,r;return e._isUTC?(n=e.clone(),r=(Br(t)||kh(t)?t.valueOf():He(t).valueOf())-n.valueOf(),n._d.setTime(n._d.valueOf()+r),J.updateOffset(n,!1),n):He(t).local()}function M0(t){return-Math.round(t._d.getTimezoneOffset())}J.updateOffset=function(){};function MJ(t,e,n){var r=this._offset||0,i;if(!this.isValid())return t!=null?this:NaN;if(t!=null){if(typeof t=="string"){if(t=XS(ey,t),t===null)return this}else Math.abs(t)<16&&!n&&(t=t*60);return!this._isUTC&&e&&(i=M0(this)),this._offset=t,this._isUTC=!0,i!=null&&this.add(i,"m"),r!==t&&(!e||this._changeInProgress?O2(this,zr(t-r,"m"),1,!1):this._changeInProgress||(this._changeInProgress=!0,J.updateOffset(this,!0),this._changeInProgress=null)),this}else return this._isUTC?r:M0(this)}function LJ(t,e){return t!=null?(typeof t!="string"&&(t=-t),this.utcOffset(t,e),this):-this.utcOffset()}function VJ(t){return this.utcOffset(0,t)}function FJ(t){return this._isUTC&&(this.utcOffset(0,t),this._isUTC=!1,t&&this.subtract(M0(this),"m")),this}function UJ(){if(this._tzm!=null)this.utcOffset(this._tzm,!1,!0);else if(typeof this._i=="string"){var t=XS(iQ,this._i);t!=null?this.utcOffset(t):this.utcOffset(0,!0)}return this}function BJ(t){return this.isValid()?(t=t?He(t).utcOffset():0,(this.utcOffset()-t)%60===0):!1}function $J(){return this.utcOffset()>this.clone().month(0).utcOffset()||this.utcOffset()>this.clone().month(5).utcOffset()}function zJ(){if(!Pn(this._isDSTShifted))return this._isDSTShifted;var t={},e;return VS(t,this),t=R2(t),t._a?(e=t._isUTC?yi(t._a):He(t._a),this._isDSTShifted=this.isValid()&&DJ(t._a,e.toArray())>0):this._isDSTShifted=!1,this._isDSTShifted}function jJ(){return this.isValid()?!this._isUTC:!1}function WJ(){return this.isValid()?this._isUTC:!1}function C2(){return this.isValid()?this._isUTC&&this._offset===0:!1}var qJ=/^(-|\+)?(?:(\d*)[. ])?(\d+):(\d+)(?::(\d+)(\.\d*)?)?$/,HJ=/^(-|\+)?P(?:([-+]?[0-9,.]*)Y)?(?:([-+]?[0-9,.]*)M)?(?:([-+]?[0-9,.]*)W)?(?:([-+]?[0-9,.]*)D)?(?:T(?:([-+]?[0-9,.]*)H)?(?:([-+]?[0-9,.]*)M)?(?:([-+]?[0-9,.]*)S)?)?$/;function zr(t,e){var n=t,r=null,i,s,o;return dp(t)?n={ms:t._milliseconds,d:t._days,M:t._months}:es(t)||!isNaN(+t)?(n={},e?n[e]=+t:n.milliseconds=+t):(r=qJ.exec(t))?(i=r[1]==="-"?-1:1,n={y:0,d:ve(r[ti])*i,h:ve(r[Mt])*i,m:ve(r[Or])*i,s:ve(r[Bi])*i,ms:ve(N0(r[Go]*1e3))*i}):(r=HJ.exec(t))?(i=r[1]==="-"?-1:1,n={y:Po(r[2],i),M:Po(r[3],i),w:Po(r[4],i),d:Po(r[5],i),h:Po(r[6],i),m:Po(r[7],i),s:Po(r[8],i)}):n==null?n={}:typeof n=="object"&&("from"in n||"to"in n)&&(o=GJ(He(n.from),He(n.to)),n={},n.ms=o.milliseconds,n.M=o.months),s=new ry(n),dp(t)&&Re(t,"_locale")&&(s._locale=t._locale),dp(t)&&Re(t,"_isValid")&&(s._isValid=t._isValid),s}zr.fn=ry.prototype;zr.invalid=OJ;function Po(t,e){var n=t&&parseFloat(t.replace(",","."));return(isNaN(n)?0:n)*e}function lA(t,e){var n={};return n.months=e.month()-t.month()+(e.year()-t.year())*12,t.clone().add(n.months,"M").isAfter(e)&&--n.months,n.milliseconds=+e-+t.clone().add(n.months,"M"),n}function GJ(t,e){var n;return t.isValid()&&e.isValid()?(e=ZS(e,t),t.isBefore(e)?n=lA(t,e):(n=lA(e,t),n.milliseconds=-n.milliseconds,n.months=-n.months),n):{milliseconds:0,months:0}}function x2(t,e){return function(n,r){var i,s;return r!==null&&!isNaN(+r)&&(o2(e,"moment()."+e+"(period, number) is deprecated. Please use moment()."+e+"(number, period). See http://momentjs.com/guides/#/warnings/add-inverted-param/ for more info."),s=n,n=r,r=s),i=zr(n,r),O2(this,i,t),this}}function O2(t,e,n,r){var i=e._milliseconds,s=N0(e._days),o=N0(e._months);t.isValid()&&(r=r??!0,o&&g2(t,$d(t,"Month")+o*n),s&&f2(t,"Date",$d(t,"Date")+s*n),i&&t._d.setTime(t._d.valueOf()+i*n),r&&J.updateOffset(t,s||o))}var KJ=x2(1,"add"),YJ=x2(-1,"subtract");function D2(t){return typeof t=="string"||t instanceof String}function QJ(t){return Br(t)||kh(t)||D2(t)||es(t)||XJ(t)||JJ(t)||t===null||t===void 0}function JJ(t){var e=ea(t)&&!MS(t),n=!1,r=["years","year","y","months","month","M","days","day","d","dates","date","D","hours","hour","h","minutes","minute","m","seconds","second","s","milliseconds","millisecond","ms"],i,s,o=r.length;for(i=0;i<o;i+=1)s=r[i],n=n||Re(t,s);return e&&n}function XJ(t){var e=Ur(t),n=!1;return e&&(n=t.filter(function(r){return!es(r)&&D2(t)}).length===0),e&&n}function ZJ(t){var e=ea(t)&&!MS(t),n=!1,r=["sameDay","nextDay","lastDay","nextWeek","lastWeek","sameElse"],i,s;for(i=0;i<r.length;i+=1)s=r[i],n=n||Re(t,s);return e&&n}function eX(t,e){var n=t.diff(e,"days",!0);return n<-6?"sameElse":n<-1?"lastWeek":n<0?"lastDay":n<1?"sameDay":n<2?"nextDay":n<7?"nextWeek":"sameElse"}function tX(t,e){arguments.length===1&&(arguments[0]?QJ(arguments[0])?(t=arguments[0],e=void 0):ZJ(arguments[0])&&(e=arguments[0],t=void 0):(t=void 0,e=void 0));var n=t||He(),r=ZS(n,this).startOf("day"),i=J.calendarFormat(this,r)||"sameElse",s=e&&(_i(e[i])?e[i].call(this,n):e[i]);return this.format(s||this.localeData().calendar(i,this,He(n)))}function nX(){return new Ch(this)}function rX(t,e){var n=Br(t)?t:He(t);return this.isValid()&&n.isValid()?(e=vr(e)||"millisecond",e==="millisecond"?this.valueOf()>n.valueOf():n.valueOf()<this.clone().startOf(e).valueOf()):!1}function iX(t,e){var n=Br(t)?t:He(t);return this.isValid()&&n.isValid()?(e=vr(e)||"millisecond",e==="millisecond"?this.valueOf()<n.valueOf():this.clone().endOf(e).valueOf()<n.valueOf()):!1}function sX(t,e,n,r){var i=Br(t)?t:He(t),s=Br(e)?e:He(e);return this.isValid()&&i.isValid()&&s.isValid()?(r=r||"()",(r[0]==="("?this.isAfter(i,n):!this.isBefore(i,n))&&(r[1]===")"?this.isBefore(s,n):!this.isAfter(s,n))):!1}function oX(t,e){var n=Br(t)?t:He(t),r;return this.isValid()&&n.isValid()?(e=vr(e)||"millisecond",e==="millisecond"?this.valueOf()===n.valueOf():(r=n.valueOf(),this.clone().startOf(e).valueOf()<=r&&r<=this.clone().endOf(e).valueOf())):!1}function aX(t,e){return this.isSame(t,e)||this.isAfter(t,e)}function lX(t,e){return this.isSame(t,e)||this.isBefore(t,e)}function uX(t,e,n){var r,i,s;if(!this.isValid())return NaN;if(r=ZS(t,this),!r.isValid())return NaN;switch(i=(r.utcOffset()-this.utcOffset())*6e4,e=vr(e),e){case"year":s=hp(this,r)/12;break;case"month":s=hp(this,r);break;case"quarter":s=hp(this,r)/3;break;case"second":s=(this-r)/1e3;break;case"minute":s=(this-r)/6e4;break;case"hour":s=(this-r)/36e5;break;case"day":s=(this-r-i)/864e5;break;case"week":s=(this-r-i)/6048e5;break;default:s=this-r}return n?s:ur(s)}function hp(t,e){if(t.date()<e.date())return-hp(e,t);var n=(e.year()-t.year())*12+(e.month()-t.month()),r=t.clone().add(n,"months"),i,s;return e-r<0?(i=t.clone().add(n-1,"months"),s=(e-r)/(r-i)):(i=t.clone().add(n+1,"months"),s=(e-r)/(i-r)),-(n+s)||0}J.defaultFormat="YYYY-MM-DDTHH:mm:ssZ";J.defaultFormatUtc="YYYY-MM-DDTHH:mm:ss[Z]";function cX(){return this.clone().locale("en").format("ddd MMM DD YYYY HH:mm:ss [GMT]ZZ")}function dX(t){if(!this.isValid())return null;var e=t!==!0,n=e?this.clone().utc():this;return n.year()<0||n.year()>9999?cp(n,e?"YYYYYY-MM-DD[T]HH:mm:ss.SSS[Z]":"YYYYYY-MM-DD[T]HH:mm:ss.SSSZ"):_i(Date.prototype.toISOString)?e?this.toDate().toISOString():new Date(this.valueOf()+this.utcOffset()*60*1e3).toISOString().replace("Z",cp(n,"Z")):cp(n,e?"YYYY-MM-DD[T]HH:mm:ss.SSS[Z]":"YYYY-MM-DD[T]HH:mm:ss.SSSZ")}function hX(){if(!this.isValid())return"moment.invalid(/* "+this._i+" */)";var t="moment",e="",n,r,i,s;return this.isLocal()||(t=this.utcOffset()===0?"moment.utc":"moment.parseZone",e="Z"),n="["+t+'("]',r=0<=this.year()&&this.year()<=9999?"YYYY":"YYYYYY",i="-MM-DD[T]HH:mm:ss.SSS",s=e+'[")]',this.format(n+r+i+s)}function fX(t){t||(t=this.isUtc()?J.defaultFormatUtc:J.defaultFormat);var e=cp(this,t);return this.localeData().postformat(e)}function pX(t,e){return this.isValid()&&(Br(t)&&t.isValid()||He(t).isValid())?zr({to:this,from:t}).locale(this.locale()).humanize(!e):this.localeData().invalidDate()}function mX(t){return this.from(He(),t)}function gX(t,e){return this.isValid()&&(Br(t)&&t.isValid()||He(t).isValid())?zr({from:this,to:t}).locale(this.locale()).humanize(!e):this.localeData().invalidDate()}function yX(t){return this.to(He(),t)}function N2(t){var e;return t===void 0?this._locale._abbr:(e=ls(t),e!=null&&(this._locale=e),this)}var M2=_r("moment().lang() is deprecated. Instead, use moment().localeData() to get the language configuration. Use moment().locale() to change languages.",function(t){return t===void 0?this.localeData():this.locale(t)});function L2(){return this._locale}var Im=1e3,Cl=60*Im,Tm=60*Cl,V2=(365*400+97)*24*Tm;function xl(t,e){return(t%e+e)%e}function F2(t,e,n){return t<100&&t>=0?new Date(t+400,e,n)-V2:new Date(t,e,n).valueOf()}function U2(t,e,n){return t<100&&t>=0?Date.UTC(t+400,e,n)-V2:Date.UTC(t,e,n)}function _X(t){var e,n;if(t=vr(t),t===void 0||t==="millisecond"||!this.isValid())return this;switch(n=this._isUTC?U2:F2,t){case"year":e=n(this.year(),0,1);break;case"quarter":e=n(this.year(),this.month()-this.month()%3,1);break;case"month":e=n(this.year(),this.month(),1);break;case"week":e=n(this.year(),this.month(),this.date()-this.weekday());break;case"isoWeek":e=n(this.year(),this.month(),this.date()-(this.isoWeekday()-1));break;case"day":case"date":e=n(this.year(),this.month(),this.date());break;case"hour":e=this._d.valueOf(),e-=xl(e+(this._isUTC?0:this.utcOffset()*Cl),Tm);break;case"minute":e=this._d.valueOf(),e-=xl(e,Cl);break;case"second":e=this._d.valueOf(),e-=xl(e,Im);break}return this._d.setTime(e),J.updateOffset(this,!0),this}function vX(t){var e,n;if(t=vr(t),t===void 0||t==="millisecond"||!this.isValid())return this;switch(n=this._isUTC?U2:F2,t){case"year":e=n(this.year()+1,0,1)-1;break;case"quarter":e=n(this.year(),this.month()-this.month()%3+3,1)-1;break;case"month":e=n(this.year(),this.month()+1,1)-1;break;case"week":e=n(this.year(),this.month(),this.date()-this.weekday()+7)-1;break;case"isoWeek":e=n(this.year(),this.month(),this.date()-(this.isoWeekday()-1)+7)-1;break;case"day":case"date":e=n(this.year(),this.month(),this.date()+1)-1;break;case"hour":e=this._d.valueOf(),e+=Tm-xl(e+(this._isUTC?0:this.utcOffset()*Cl),Tm)-1;break;case"minute":e=this._d.valueOf(),e+=Cl-xl(e,Cl)-1;break;case"second":e=this._d.valueOf(),e+=Im-xl(e,Im)-1;break}return this._d.setTime(e),J.updateOffset(this,!0),this}function wX(){return this._d.valueOf()-(this._offset||0)*6e4}function EX(){return Math.floor(this.valueOf()/1e3)}function SX(){return new Date(this.valueOf())}function IX(){var t=this;return[t.year(),t.month(),t.date(),t.hour(),t.minute(),t.second(),t.millisecond()]}function TX(){var t=this;return{years:t.year(),months:t.month(),date:t.date(),hours:t.hours(),minutes:t.minutes(),seconds:t.seconds(),milliseconds:t.milliseconds()}}function bX(){return this.isValid()?this.toISOString():null}function RX(){return LS(this)}function AX(){return Ds({},ce(this))}function PX(){return ce(this).overflow}function kX(){return{input:this._i,format:this._f,locale:this._locale,isUTC:this._isUTC,strict:this._strict}}re("N",0,0,"eraAbbr");re("NN",0,0,"eraAbbr");re("NNN",0,0,"eraAbbr");re("NNNN",0,0,"eraName");re("NNNNN",0,0,"eraNarrow");re("y",["y",1],"yo","eraYear");re("y",["yy",2],0,"eraYear");re("y",["yyy",3],0,"eraYear");re("y",["yyyy",4],0,"eraYear");Z("N",eI);Z("NN",eI);Z("NNN",eI);Z("NNNN",BX);Z("NNNNN",$X);Me(["N","NN","NNN","NNNN","NNNNN"],function(t,e,n,r){var i=n._locale.erasParse(t,r,n._strict);i?ce(n).era=i:ce(n).invalidEra=t});Z("y",Pu);Z("yy",Pu);Z("yyy",Pu);Z("yyyy",Pu);Z("yo",zX);Me(["y","yy","yyy","yyyy"],hn);Me(["yo"],function(t,e,n,r){var i;n._locale._eraYearOrdinalRegex&&(i=t.match(n._locale._eraYearOrdinalRegex)),n._locale.eraYearOrdinalParse?e[hn]=n._locale.eraYearOrdinalParse(t,i):e[hn]=parseInt(t,10)});function CX(t,e){var n,r,i,s=this._eras||ls("en")._eras;for(n=0,r=s.length;n<r;++n){switch(typeof s[n].since){case"string":i=J(s[n].since).startOf("day"),s[n].since=i.valueOf();break}switch(typeof s[n].until){case"undefined":s[n].until=1/0;break;case"string":i=J(s[n].until).startOf("day").valueOf(),s[n].until=i.valueOf();break}}return s}function xX(t,e,n){var r,i,s=this.eras(),o,a,l;for(t=t.toUpperCase(),r=0,i=s.length;r<i;++r)if(o=s[r].name.toUpperCase(),a=s[r].abbr.toUpperCase(),l=s[r].narrow.toUpperCase(),n)switch(e){case"N":case"NN":case"NNN":if(a===t)return s[r];break;case"NNNN":if(o===t)return s[r];break;case"NNNNN":if(l===t)return s[r];break}else if([o,a,l].indexOf(t)>=0)return s[r]}function OX(t,e){var n=t.since<=t.until?1:-1;return e===void 0?J(t.since).year():J(t.since).year()+(e-t.offset)*n}function DX(){var t,e,n,r=this.localeData().eras();for(t=0,e=r.length;t<e;++t)if(n=this.clone().startOf("day").valueOf(),r[t].since<=n&&n<=r[t].until||r[t].until<=n&&n<=r[t].since)return r[t].name;return""}function NX(){var t,e,n,r=this.localeData().eras();for(t=0,e=r.length;t<e;++t)if(n=this.clone().startOf("day").valueOf(),r[t].since<=n&&n<=r[t].until||r[t].until<=n&&n<=r[t].since)return r[t].narrow;return""}function MX(){var t,e,n,r=this.localeData().eras();for(t=0,e=r.length;t<e;++t)if(n=this.clone().startOf("day").valueOf(),r[t].since<=n&&n<=r[t].until||r[t].until<=n&&n<=r[t].since)return r[t].abbr;return""}function LX(){var t,e,n,r,i=this.localeData().eras();for(t=0,e=i.length;t<e;++t)if(n=i[t].since<=i[t].until?1:-1,r=this.clone().startOf("day").valueOf(),i[t].since<=r&&r<=i[t].until||i[t].until<=r&&r<=i[t].since)return(this.year()-J(i[t].since).year())*n+i[t].offset;return this.year()}function VX(t){return Re(this,"_erasNameRegex")||tI.call(this),t?this._erasNameRegex:this._erasRegex}function FX(t){return Re(this,"_erasAbbrRegex")||tI.call(this),t?this._erasAbbrRegex:this._erasRegex}function UX(t){return Re(this,"_erasNarrowRegex")||tI.call(this),t?this._erasNarrowRegex:this._erasRegex}function eI(t,e){return e.erasAbbrRegex(t)}function BX(t,e){return e.erasNameRegex(t)}function $X(t,e){return e.erasNarrowRegex(t)}function zX(t,e){return e._eraYearOrdinalRegex||Pu}function tI(){var t=[],e=[],n=[],r=[],i,s,o,a,l,u=this.eras();for(i=0,s=u.length;i<s;++i)o=ji(u[i].name),a=ji(u[i].abbr),l=ji(u[i].narrow),e.push(o),t.push(a),n.push(l),r.push(o),r.push(a),r.push(l);this._erasRegex=new RegExp("^("+r.join("|")+")","i"),this._erasNameRegex=new RegExp("^("+e.join("|")+")","i"),this._erasAbbrRegex=new RegExp("^("+t.join("|")+")","i"),this._erasNarrowRegex=new RegExp("^("+n.join("|")+")","i")}re(0,["gg",2],0,function(){return this.weekYear()%100});re(0,["GG",2],0,function(){return this.isoWeekYear()%100});function iy(t,e){re(0,[t,t.length],0,e)}iy("gggg","weekYear");iy("ggggg","weekYear");iy("GGGG","isoWeekYear");iy("GGGGG","isoWeekYear");Z("G",Zg);Z("g",Zg);Z("GG",Ge,sr);Z("gg",Ge,sr);Z("GGGG",zS,$S);Z("gggg",zS,$S);Z("GGGGG",Xg,Qg);Z("ggggg",Xg,Qg);Oh(["gggg","ggggg","GGGG","GGGGG"],function(t,e,n,r){e[r.substr(0,2)]=ve(t)});Oh(["gg","GG"],function(t,e,n,r){e[r]=J.parseTwoDigitYear(t)});function jX(t){return B2.call(this,t,this.week(),this.weekday()+this.localeData()._week.dow,this.localeData()._week.dow,this.localeData()._week.doy)}function WX(t){return B2.call(this,t,this.isoWeek(),this.isoWeekday(),1,4)}function qX(){return Wi(this.year(),1,4)}function HX(){return Wi(this.isoWeekYear(),1,4)}function GX(){var t=this.localeData()._week;return Wi(this.year(),t.dow,t.doy)}function KX(){var t=this.localeData()._week;return Wi(this.weekYear(),t.dow,t.doy)}function B2(t,e,n,r,i){var s;return t==null?jd(this,r,i).year:(s=Wi(t,r,i),e>s&&(e=s),YX.call(this,t,e,n,r,i))}function YX(t,e,n,r,i){var s=v2(t,e,n,r,i),o=zd(s.year,0,s.dayOfYear);return this.year(o.getUTCFullYear()),this.month(o.getUTCMonth()),this.date(o.getUTCDate()),this}re("Q",0,"Qo","quarter");Z("Q",l2);Me("Q",function(t,e){e[Ui]=(ve(t)-1)*3});function QX(t){return t==null?Math.ceil((this.month()+1)/3):this.month((t-1)*3+this.month()%3)}re("D",["DD",2],"Do","date");Z("D",Ge,ku);Z("DD",Ge,sr);Z("Do",function(t,e){return t?e._dayOfMonthOrdinalParse||e._ordinalParse:e._dayOfMonthOrdinalParseLenient});Me(["D","DD"],ti);Me("Do",function(t,e){e[ti]=ve(t.match(Ge)[0])});var $2=Cu("Date",!0);re("DDD",["DDDD",3],"DDDo","dayOfYear");Z("DDD",Jg);Z("DDDD",u2);Me(["DDD","DDDD"],function(t,e,n){n._dayOfYear=ve(t)});function JX(t){var e=Math.round((this.clone().startOf("day")-this.clone().startOf("year"))/864e5)+1;return t==null?e:this.add(t-e,"d")}re("m",["mm",2],0,"minute");Z("m",Ge,jS);Z("mm",Ge,sr);Me(["m","mm"],Or);var XX=Cu("Minutes",!1);re("s",["ss",2],0,"second");Z("s",Ge,jS);Z("ss",Ge,sr);Me(["s","ss"],Bi);var ZX=Cu("Seconds",!1);re("S",0,0,function(){return~~(this.millisecond()/100)});re(0,["SS",2],0,function(){return~~(this.millisecond()/10)});re(0,["SSS",3],0,"millisecond");re(0,["SSSS",4],0,function(){return this.millisecond()*10});re(0,["SSSSS",5],0,function(){return this.millisecond()*100});re(0,["SSSSSS",6],0,function(){return this.millisecond()*1e3});re(0,["SSSSSSS",7],0,function(){return this.millisecond()*1e4});re(0,["SSSSSSSS",8],0,function(){return this.millisecond()*1e5});re(0,["SSSSSSSSS",9],0,function(){return this.millisecond()*1e6});Z("S",Jg,l2);Z("SS",Jg,sr);Z("SSS",Jg,u2);var Ns,z2;for(Ns="SSSS";Ns.length<=9;Ns+="S")Z(Ns,Pu);function eZ(t,e){e[Go]=ve(("0."+t)*1e3)}for(Ns="S";Ns.length<=9;Ns+="S")Me(Ns,eZ);z2=Cu("Milliseconds",!1);re("z",0,0,"zoneAbbr");re("zz",0,0,"zoneName");function tZ(){return this._isUTC?"UTC":""}function nZ(){return this._isUTC?"Coordinated Universal Time":""}var H=Ch.prototype;H.add=KJ;H.calendar=tX;H.clone=nX;H.diff=uX;H.endOf=vX;H.format=fX;H.from=pX;H.fromNow=mX;H.to=gX;H.toNow=yX;H.get=hQ;H.invalidAt=PX;H.isAfter=rX;H.isBefore=iX;H.isBetween=sX;H.isSame=oX;H.isSameOrAfter=aX;H.isSameOrBefore=lX;H.isValid=RX;H.lang=M2;H.locale=N2;H.localeData=L2;H.max=RJ;H.min=bJ;H.parsingFlags=AX;H.set=fQ;H.startOf=_X;H.subtract=YJ;H.toArray=IX;H.toObject=TX;H.toDate=SX;H.toISOString=dX;H.inspect=hX;typeof Symbol<"u"&&Symbol.for!=null&&(H[Symbol.for("nodejs.util.inspect.custom")]=function(){return"Moment<"+this.format()+">"});H.toJSON=bX;H.toString=cX;H.unix=EX;H.valueOf=wX;H.creationData=kX;H.eraName=DX;H.eraNarrow=NX;H.eraAbbr=MX;H.eraYear=LX;H.year=h2;H.isLeapYear=dQ;H.weekYear=jX;H.isoWeekYear=WX;H.quarter=H.quarters=QX;H.month=y2;H.daysInMonth=SQ;H.week=H.weeks=CQ;H.isoWeek=H.isoWeeks=xQ;H.weeksInYear=GX;H.weeksInWeekYear=KX;H.isoWeeksInYear=qX;H.isoWeeksInISOWeekYear=HX;H.date=$2;H.day=H.days=WQ;H.weekday=qQ;H.isoWeekday=HQ;H.dayOfYear=JX;H.hour=H.hours=ZQ;H.minute=H.minutes=XX;H.second=H.seconds=ZX;H.millisecond=H.milliseconds=z2;H.utcOffset=MJ;H.utc=VJ;H.local=FJ;H.parseZone=UJ;H.hasAlignedHourOffset=BJ;H.isDST=$J;H.isLocal=jJ;H.isUtcOffset=WJ;H.isUtc=C2;H.isUTC=C2;H.zoneAbbr=tZ;H.zoneName=nZ;H.dates=_r("dates accessor is deprecated. Use date instead.",$2);H.months=_r("months accessor is deprecated. Use month instead",y2);H.years=_r("years accessor is deprecated. Use year instead",h2);H.zone=_r("moment().zone is deprecated, use moment().utcOffset instead. http://momentjs.com/guides/#/warnings/zone/",LJ);H.isDSTShifted=_r("isDSTShifted is deprecated. See http://momentjs.com/guides/#/warnings/dst-shifted/ for more information",zJ);function rZ(t){return He(t*1e3)}function iZ(){return He.apply(null,arguments).parseZone()}function j2(t){return t}var Ae=FS.prototype;Ae.calendar=jY;Ae.longDateFormat=GY;Ae.invalidDate=YY;Ae.ordinal=XY;Ae.preparse=j2;Ae.postformat=j2;Ae.relativeTime=eQ;Ae.pastFuture=tQ;Ae.set=$Y;Ae.eras=CX;Ae.erasParse=xX;Ae.erasConvertYear=OX;Ae.erasAbbrRegex=FX;Ae.erasNameRegex=VX;Ae.erasNarrowRegex=UX;Ae.months=_Q;Ae.monthsShort=vQ;Ae.monthsParse=EQ;Ae.monthsRegex=TQ;Ae.monthsShortRegex=IQ;Ae.week=RQ;Ae.firstDayOfYear=kQ;Ae.firstDayOfWeek=PQ;Ae.weekdays=UQ;Ae.weekdaysMin=$Q;Ae.weekdaysShort=BQ;Ae.weekdaysParse=jQ;Ae.weekdaysRegex=GQ;Ae.weekdaysShortRegex=KQ;Ae.weekdaysMinRegex=YQ;Ae.isPM=JQ;Ae.meridiem=eJ;function bm(t,e,n,r){var i=ls(),s=yi().set(r,e);return i[n](s,t)}function W2(t,e,n){if(es(t)&&(e=t,t=void 0),t=t||"",e!=null)return bm(t,e,n,"month");var r,i=[];for(r=0;r<12;r++)i[r]=bm(t,r,n,"month");return i}function nI(t,e,n,r){typeof t=="boolean"?(es(e)&&(n=e,e=void 0),e=e||""):(e=t,n=e,t=!1,es(e)&&(n=e,e=void 0),e=e||"");var i=ls(),s=t?i._week.dow:0,o,a=[];if(n!=null)return bm(e,(n+s)%7,r,"day");for(o=0;o<7;o++)a[o]=bm(e,(o+s)%7,r,"day");return a}function sZ(t,e){return W2(t,e,"months")}function oZ(t,e){return W2(t,e,"monthsShort")}function aZ(t,e,n){return nI(t,e,n,"weekdays")}function lZ(t,e,n){return nI(t,e,n,"weekdaysShort")}function uZ(t,e,n){return nI(t,e,n,"weekdaysMin")}Hs("en",{eras:[{since:"0001-01-01",until:1/0,offset:1,name:"Anno Domini",narrow:"AD",abbr:"AD"},{since:"0000-12-31",until:-1/0,offset:1,name:"Before Christ",narrow:"BC",abbr:"BC"}],dayOfMonthOrdinalParse:/\d{1,2}(th|st|nd|rd)/,ordinal:function(t){var e=t%10,n=ve(t%100/10)===1?"th":e===1?"st":e===2?"nd":e===3?"rd":"th";return t+n}});J.lang=_r("moment.lang is deprecated. Use moment.locale instead.",Hs);J.langData=_r("moment.langData is deprecated. Use moment.localeData instead.",ls);var bi=Math.abs;function cZ(){var t=this._data;return this._milliseconds=bi(this._milliseconds),this._days=bi(this._days),this._months=bi(this._months),t.milliseconds=bi(t.milliseconds),t.seconds=bi(t.seconds),t.minutes=bi(t.minutes),t.hours=bi(t.hours),t.months=bi(t.months),t.years=bi(t.years),this}function q2(t,e,n,r){var i=zr(e,n);return t._milliseconds+=r*i._milliseconds,t._days+=r*i._days,t._months+=r*i._months,t._bubble()}function dZ(t,e){return q2(this,t,e,1)}function hZ(t,e){return q2(this,t,e,-1)}function uA(t){return t<0?Math.floor(t):Math.ceil(t)}function fZ(){var t=this._milliseconds,e=this._days,n=this._months,r=this._data,i,s,o,a,l;return t>=0&&e>=0&&n>=0||t<=0&&e<=0&&n<=0||(t+=uA(L0(n)+e)*864e5,e=0,n=0),r.milliseconds=t%1e3,i=ur(t/1e3),r.seconds=i%60,s=ur(i/60),r.minutes=s%60,o=ur(s/60),r.hours=o%24,e+=ur(o/24),l=ur(H2(e)),n+=l,e-=uA(L0(l)),a=ur(n/12),n%=12,r.days=e,r.months=n,r.years=a,this}function H2(t){return t*4800/146097}function L0(t){return t*146097/4800}function pZ(t){if(!this.isValid())return NaN;var e,n,r=this._milliseconds;if(t=vr(t),t==="month"||t==="quarter"||t==="year")switch(e=this._days+r/864e5,n=this._months+H2(e),t){case"month":return n;case"quarter":return n/3;case"year":return n/12}else switch(e=this._days+Math.round(L0(this._months)),t){case"week":return e/7+r/6048e5;case"day":return e+r/864e5;case"hour":return e*24+r/36e5;case"minute":return e*1440+r/6e4;case"second":return e*86400+r/1e3;case"millisecond":return Math.floor(e*864e5)+r;default:throw new Error("Unknown unit "+t)}}function us(t){return function(){return this.as(t)}}var G2=us("ms"),mZ=us("s"),gZ=us("m"),yZ=us("h"),_Z=us("d"),vZ=us("w"),wZ=us("M"),EZ=us("Q"),SZ=us("y"),IZ=G2;function TZ(){return zr(this)}function bZ(t){return t=vr(t),this.isValid()?this[t+"s"]():NaN}function Ca(t){return function(){return this.isValid()?this._data[t]:NaN}}var RZ=Ca("milliseconds"),AZ=Ca("seconds"),PZ=Ca("minutes"),kZ=Ca("hours"),CZ=Ca("days"),xZ=Ca("months"),OZ=Ca("years");function DZ(){return ur(this.days()/7)}var Pi=Math.round,pl={ss:44,s:45,m:45,h:22,d:26,w:null,M:11};function NZ(t,e,n,r,i){return i.relativeTime(e||1,!!n,t,r)}function MZ(t,e,n,r){var i=zr(t).abs(),s=Pi(i.as("s")),o=Pi(i.as("m")),a=Pi(i.as("h")),l=Pi(i.as("d")),u=Pi(i.as("M")),d=Pi(i.as("w")),h=Pi(i.as("y")),f=s<=n.ss&&["s",s]||s<n.s&&["ss",s]||o<=1&&["m"]||o<n.m&&["mm",o]||a<=1&&["h"]||a<n.h&&["hh",a]||l<=1&&["d"]||l<n.d&&["dd",l];return n.w!=null&&(f=f||d<=1&&["w"]||d<n.w&&["ww",d]),f=f||u<=1&&["M"]||u<n.M&&["MM",u]||h<=1&&["y"]||["yy",h],f[2]=e,f[3]=+t>0,f[4]=r,NZ.apply(null,f)}function LZ(t){return t===void 0?Pi:typeof t=="function"?(Pi=t,!0):!1}function VZ(t,e){return pl[t]===void 0?!1:e===void 0?pl[t]:(pl[t]=e,t==="s"&&(pl.ss=e-1),!0)}function FZ(t,e){if(!this.isValid())return this.localeData().invalidDate();var n=!1,r=pl,i,s;return typeof t=="object"&&(e=t,t=!1),typeof t=="boolean"&&(n=t),typeof e=="object"&&(r=Object.assign({},pl,e),e.s!=null&&e.ss==null&&(r.ss=e.s-1)),i=this.localeData(),s=MZ(this,!n,r,i),n&&(s=i.pastFuture(+this,s)),i.postformat(s)}var A_=Math.abs;function Ka(t){return(t>0)-(t<0)||+t}function sy(){if(!this.isValid())return this.localeData().invalidDate();var t=A_(this._milliseconds)/1e3,e=A_(this._days),n=A_(this._months),r,i,s,o,a=this.asSeconds(),l,u,d,h;return a?(r=ur(t/60),i=ur(r/60),t%=60,r%=60,s=ur(n/12),n%=12,o=t?t.toFixed(3).replace(/\.?0+$/,""):"",l=a<0?"-":"",u=Ka(this._months)!==Ka(a)?"-":"",d=Ka(this._days)!==Ka(a)?"-":"",h=Ka(this._milliseconds)!==Ka(a)?"-":"",l+"P"+(s?u+s+"Y":"")+(n?u+n+"M":"")+(e?d+e+"D":"")+(i||r||t?"T":"")+(i?h+i+"H":"")+(r?h+r+"M":"")+(t?h+o+"S":"")):"P0D"}var Se=ry.prototype;Se.isValid=xJ;Se.abs=cZ;Se.add=dZ;Se.subtract=hZ;Se.as=pZ;Se.asMilliseconds=G2;Se.asSeconds=mZ;Se.asMinutes=gZ;Se.asHours=yZ;Se.asDays=_Z;Se.asWeeks=vZ;Se.asMonths=wZ;Se.asQuarters=EZ;Se.asYears=SZ;Se.valueOf=IZ;Se._bubble=fZ;Se.clone=TZ;Se.get=bZ;Se.milliseconds=RZ;Se.seconds=AZ;Se.minutes=PZ;Se.hours=kZ;Se.days=CZ;Se.weeks=DZ;Se.months=xZ;Se.years=OZ;Se.humanize=FZ;Se.toISOString=sy;Se.toString=sy;Se.toJSON=sy;Se.locale=N2;Se.localeData=L2;Se.toIsoString=_r("toIsoString() is deprecated. Please use toISOString() instead (notice the capitals)",sy);Se.lang=M2;re("X",0,0,"unix");re("x",0,0,"valueOf");Z("x",Zg);Z("X",sQ);Me("X",function(t,e,n){n._d=new Date(parseFloat(t)*1e3)});Me("x",function(t,e,n){n._d=new Date(ve(t))});//! moment.js
J.version="2.30.1";UY(He);J.fn=H;J.min=AJ;J.max=PJ;J.now=kJ;J.utc=yi;J.unix=rZ;J.months=sZ;J.isDate=kh;J.locale=Hs;J.invalid=Yg;J.duration=zr;J.isMoment=Br;J.weekdays=aZ;J.parseZone=iZ;J.localeData=ls;J.isDuration=dp;J.monthsShort=oZ;J.weekdaysMin=uZ;J.defineLocale=KS;J.updateLocale=iJ;J.locales=sJ;J.weekdaysShort=lZ;J.normalizeUnits=vr;J.relativeTimeRounding=LZ;J.relativeTimeThreshold=VZ;J.calendarFormat=eX;J.prototype=H;J.HTML5_FMT={DATETIME_LOCAL:"YYYY-MM-DDTHH:mm",DATETIME_LOCAL_SECONDS:"YYYY-MM-DDTHH:mm:ss",DATETIME_LOCAL_MS:"YYYY-MM-DDTHH:mm:ss.SSS",DATE:"YYYY-MM-DD",TIME:"HH:mm",TIME_SECONDS:"HH:mm:ss",TIME_MS:"HH:mm:ss.SSS",WEEK:"GGGG-[W]WW",MONTH:"YYYY-MM"};function UZ(){const[{user:t},e]=U.useContext(ns),[n,r]=U.useState([]);return U.useEffect(()=>{t?YN.collection("users").doc(t.uid).collection("orders").orderBy("created","desc").onSnapshot(i=>{r(i.docs.map(s=>({id:s.id,created:s.data().created,amount:s.data().amount,data:s.data()})))}):r([])},[]),x.createElement(ka,null,x.createElement("section",{className:rA.container},x.createElement("div",{className:rA.orders__container},x.createElement("h2",{style:{margin:"20px"}},"Your Orders"),(n==null?void 0:n.length)==0&&x.createElement("div",{style:{padding:"20px"}},"you don't have orders yet."),x.createElement("div",null,n==null?void 0:n.map((i,s)=>{var o,a;return x.createElement("div",{key:s},x.createElement("hr",null),x.createElement("div",{style:{display:"flex",flexWrap:"wrap",fontWeight:"500",borderBottom:"1px solid black"}},x.createElement("p",null,"Order ID: ",x.createElement("span",{style:{color:"var(--primary-shade)"}},i==null?void 0:i.id)),x.createElement("p",null,"Total Amount: ",x.createElement("span",{style:{color:"var(--primary-shade)"}},"$",i==null?void 0:i.amount.toLocaleString())),x.createElement("p",null,"Purchased Date: ",x.createElement("span",{style:{color:"var(--primary-shade)"}},J((i==null?void 0:i.created)*1e3).format("dddd, MMM DD, YYYY h:mm A")))),(a=(o=i==null?void 0:i.data)==null?void 0:o.basket)==null?void 0:a.map(l=>x.createElement(pu,{flex:!0,product:l,itemAmount:l.amount,total:!0,key:l.id})))})))))}const BZ="_products_container_x2l8t_1",$Z={products_container:BZ};function zZ(){const[t,e]=U.useState({}),[n,r]=U.useState(!1),{productId:i}=Ok();return U.useEffect(()=>{r(!0),lt.get(`${iE}/products/${i}`).then(s=>{console.log(s.data,i),e(s.data),r(!1)}).catch(s=>{console.log(s),r(!1)})},[]),x.createElement(ka,null,console.log(t),n?x.createElement(jw,null):x.createElement(pu,{product:t,flex:!0,renderDesc:!0,renderAdd:!0}))}function jZ(){const{categoryName:t}=Ok(),[e,n]=U.useState([]),[r,i]=U.useState(!1);return U.useEffect(()=>{i(!0),lt.get(`${iE}/products/category/${t}`).then(s=>{console.log(s.data),n(s.data),i(!1)}).catch(s=>{console.log(s),i(!1)})},[t]),x.createElement(ka,null,x.createElement("section",null,x.createElement("h1",{style:{padding:"30px"}},"Results"),x.createElement("p",{style:{padding:"30px"}},"Category / ",t),x.createElement("hr",null),r?x.createElement(jw,null):x.createElement("div",{className:$Z.products_container},e==null?void 0:e.map(s=>x.createElement(pu,{key:s.id,product:s,renderDesc:!1,renderAdd:!0})))))}var K2="https://js.stripe.com/v3",WZ=/^https:\/\/js\.stripe\.com\/v3\/?(\?.*)?$/,cA="loadStripe.setLoadParameters was called but an existing Stripe.js script already exists in the document; existing script parameters will be used",qZ=function(){for(var e=document.querySelectorAll('script[src^="'.concat(K2,'"]')),n=0;n<e.length;n++){var r=e[n];if(WZ.test(r.src))return r}return null},dA=function(e){var n="",r=document.createElement("script");r.src="".concat(K2).concat(n);var i=document.head||document.body;if(!i)throw new Error("Expected document.body not to be null. Stripe.js requires a <body> element.");return i.appendChild(r),r},HZ=function(e,n){!e||!e._registerWrapper||e._registerWrapper({name:"stripe-js",version:"4.4.0",startTime:n})},fc=null,Cf=null,xf=null,GZ=function(e){return function(){e(new Error("Failed to load Stripe.js"))}},KZ=function(e,n){return function(){window.Stripe?e(window.Stripe):n(new Error("Stripe.js not available"))}},YZ=function(e){return fc!==null?fc:(fc=new Promise(function(n,r){if(typeof window>"u"||typeof document>"u"){n(null);return}if(window.Stripe&&e&&console.warn(cA),window.Stripe){n(window.Stripe);return}try{var i=qZ();if(i&&e)console.warn(cA);else if(!i)i=dA(e);else if(i&&xf!==null&&Cf!==null){var s;i.removeEventListener("load",xf),i.removeEventListener("error",Cf),(s=i.parentNode)===null||s===void 0||s.removeChild(i),i=dA(e)}xf=KZ(n,r),Cf=GZ(r),i.addEventListener("load",xf),i.addEventListener("error",Cf)}catch(o){r(o);return}}),fc.catch(function(n){return fc=null,Promise.reject(n)}))},QZ=function(e,n,r){if(e===null)return null;var i=e.apply(void 0,n);return HZ(i,r),i},pc,Y2=!1,Q2=function(){return pc||(pc=YZ(null).catch(function(e){return pc=null,Promise.reject(e)}),pc)};Promise.resolve().then(function(){return Q2()}).catch(function(t){Y2||console.warn(t)});var JZ=function(){for(var e=arguments.length,n=new Array(e),r=0;r<e;r++)n[r]=arguments[r];Y2=!0;var i=Date.now();return Q2().then(function(s){return QZ(s,n,i)})};const XZ="_errorHolder_unznk_1",ZZ={errorHolder:XZ};function eee(){return React.createElement(ka,null,React.createElement("div",{className:ZZ.errorHolder},React.createElement("h2",null,"404 - Page Not Found"),React.createElement("p",null,"Sorry, the page you are looking for does not exist.")))}const hA=({children:t,msg:e,redirect:n})=>{const r=zm(),[{user:i},s]=U.useContext(ns);return U.useEffect(()=>{i||r("/auth",{state:{msg:e,redirect:n}})},[i]),t},tee=JZ("pk_test_51QSLXxHgGzflC5pHYYfLYt0LF7YmsUTygdeKFvV9FlCaf33zpQQGGiX98V7aNGQy9lBgPqeFatH0IYIeea2OGOpK00H8OdhsZ2");function nee(){return x.createElement(BF,null,x.createElement(DF,null,x.createElement(Hr,{path:"/",element:x.createElement(WK,null)}),x.createElement(Hr,{path:"/auth",element:x.createElement(ZK,null)}),x.createElement(Hr,{path:"/payments",element:x.createElement(hA,{msg:"Please sign in to complete your payment. (You'll be redirected to the checkout page)",redirect:"/payments"},x.createElement(t2,{stripe:tee},x.createElement(TY,null)))}),x.createElement(Hr,{path:"/orders",element:x.createElement(hA,{msg:"Please sign in to access your orders",redirect:"/orders"},x.createElement(UZ,null))}),x.createElement(Hr,{path:"/cart",element:x.createElement(LY,null)}),x.createElement(Hr,{path:"/category/:categoryName",element:x.createElement(jZ,null)}),x.createElement(Hr,{path:"/products/:productId",element:x.createElement(zZ,null)}),x.createElement(Hr,{path:"/products",element:x.createElement(YC,null)}),x.createElement(Hr,{path:"*",element:x.createElement(eee,null)})))}function ree(){const[{user:t},e]=U.useContext(ns);return U.useEffect(()=>{wm.onAuthStateChanged(n=>{e(n?{type:dn.SET_USER,user:n}:{type:dn.SET_USER,user:null})})},[]),x.createElement(x.Fragment,null,x.createElement(nee,null))}Ik(document.getElementById("root")).render(React.createElement(v$,{reducer:RY,initialState:bY},React.createElement(ree,null)))});export default iee();
